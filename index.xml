<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Wanakiki`s Blog on Wanakiki`s Blog</title>
    <link>https://wanakiki.github.io/</link>
    <description>Recent content in Wanakiki`s Blog on Wanakiki`s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 06 Jun 2020 23:06:09 +0800</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Linux Cè¯­è¨€ç³»ç»Ÿç¼–ç¨‹ä½œä¸š</title>
      <link>https://wanakiki.github.io/2020/linux-c/</link>
      <pubDate>Sat, 06 Jun 2020 23:06:09 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/linux-c/</guid>
      <description>

&lt;p&gt;è·Ÿç€åˆ«äººç®€å•å­¦äº†ä¸‹Linuxä¸‹çš„ç³»ç»Ÿç¼–ç¨‹ï¼ŒæŠŠåšè¿‡çš„å‡ ä¸ªä½œä¸šç®€å•è®°å½•ä¸€ä¸‹ã€‚ä½œä¸šçš„å†…å®¹éƒ½æ˜¯é’ˆå¯¹çš„å…·ä½“çš„çŸ¥è¯†ç‚¹ï¼Œå®ç°éš¾åº¦å¹¶ä¸é«˜ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2 id=&#34;è¿›ç¨‹é—´é€šä¿¡&#34;&gt;è¿›ç¨‹é—´é€šä¿¡&lt;/h2&gt;

&lt;p&gt;è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œæ‰“å¼€ä¸€ä¸ªåŒ¿åç®¡é“ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹å‘ç®¡é“ä¸­å†™å…¥ä¿¡æ¯â€œHello XXXâ€,å­è¿›ç¨‹ä»ç®¡é“ä¸­è¯»å–æ•°æ®ï¼Œå°†è¯»å–åˆ°çš„ä¿¡æ¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;ä¸»è¦è€ƒå¯Ÿ&lt;code&gt;fork&lt;/code&gt;ã€&lt;code&gt;pipe&lt;/code&gt;ä¸¤ä¸ªå‡½æ•°çš„ä½¿ç”¨ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include&amp;lt;stdlib.h&amp;gt;
#include&amp;lt;stdio.h&amp;gt;
#include&amp;lt;unistd.h&amp;gt;
#include&amp;lt;string.h&amp;gt;
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;

#define STRING &amp;quot;Hello wanakiki&amp;quot;
int main(){
    int pipefd[2];
    pid_t pid;
    char buf[BUFSIZ];

    if(pipe(pipefd) == -1){
        perror(&amp;quot;pipe()&amp;quot;);
        exit(1);
    }

    pid = fork();
    if(pid == -1){
        perror(&amp;quot;fork()&amp;quot;);
        exit(1);
    }

    if(pid == 0){
        // å­è¿›ç¨‹
        printf(&amp;quot;Child pid is: %d\n&amp;quot;, getpid());
        
        if(read(pipefd[0], buf, BUFSIZ) &amp;lt; 0){
            perror(&amp;quot;write()&amp;quot;);
            exit(1);
        }
        
        printf(&amp;quot;%s\n&amp;quot;, buf);
    }
    else{
        // çˆ¶è¿›ç¨‹
        printf(&amp;quot;Parent pid is: %d\n&amp;quot;, getpid());

        if (write(pipefd[1], STRING, strlen(STRING) + 1) &amp;lt; 0)
        {
            perror(&amp;quot;write()&amp;quot;);
            exit(1);
        }
        wait(NULL);
    }

    exit(0);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å¤šè¿›ç¨‹&#34;&gt;å¤šè¿›ç¨‹&lt;/h2&gt;

&lt;p&gt;è®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œè¿è¡Œåæ˜¾ç¤ºâ€œå¼€å§‹è®¡ç®—â€åï¼Œç”Ÿæˆä¸¤ä¸ªå­è¿›ç¨‹ã€‚åœ¨ä¸»è¿›ç¨‹è®¡ç®—1+3+5+7+â€¦+99çš„å€¼ï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºå‡ºæ¥ï¼›åœ¨ç¬¬ä¸€ä¸ªå­è¿›ç¨‹è®¡ç®—2+4+6+â€¦+100çš„å€¼ï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºå‡ºæ¥ï¼›ç¬¬äºŒä¸ªå­è¿›ç¨‹ä¸­è®¡ç®—1+2+3+4+â€¦+100çš„å€¼ï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;å½“éœ€è¦åˆ›å»ºçš„å­è¿›ç¨‹æ•°è¾ƒå°‘æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨ä¹¦å†™ä»£ç åˆ›å»ºè¿›ç¨‹ï¼Œåœ¨ç”Ÿæˆä¸€ä¸ªè¿›ç¨‹ä¹‹åçš„çˆ¶è¿›ç¨‹ä»£ç ä¸­å†æ¬¡è°ƒç”¨&lt;code&gt;fork&lt;/code&gt;ç”Ÿæˆè¿›ç¨‹ã€‚ä½†æ˜¯å½“éœ€è¦åˆ›å»ºçš„å­è¿›ç¨‹è¾ƒå¤šæ—¶æ­¤ç§æ–¹æ³•å®ç°èµ·æ¥è¾ƒä¸ºéº»çƒ¦ï¼Œå¯ä»¥ç”¨å¾ªç¯æ–¹å¼ç”Ÿæˆã€‚æœ¬å®éªŒæˆ‘é‡‡ç”¨äº†æ‰‹åŠ¨åˆ›å»ºçš„æ–¹æ¡ˆï¼Œå¾ªç¯åˆ›å»ºå­è¿›ç¨‹çš„ä»£ç å¯ä»¥åœ¨æœ€åç»¼åˆå®éªŒä¸­æ‰¾åˆ°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include&amp;lt;stdio.h&amp;gt;
#include&amp;lt;sys/types.h&amp;gt;
#include&amp;lt;unistd.h&amp;gt;

int main(){
    int p1, p2;
    int res;    // ä¿å­˜è®¡ç®—ç»“æœ
    int num = 0;
    while((p1 = fork()) == -1);     // åˆ›å»ºå­è¿›ç¨‹

    if(p1 == 0){
        res = 0;
        for(int i = 2; i &amp;lt; 101; i++){
            res += i;
        }
        printf(&amp;quot;ç¬¬ä¸€ä¸ªå­è¿›ç¨‹è®¡ç®—ç»“æœ %d\n&amp;quot;, res);
        printf(&amp;quot;ç¬¬ä¸€ä¸ªå­è¿›ç¨‹%d&amp;quot;, ++num);
    }
    else{
        while((p2 = fork()) == -1);     // åˆ›å»ºå­è¿›ç¨‹

        if(p2 == 0){
            res = 0;
            for(int i = 1; i &amp;lt; 101; i++){
                res += i;
            }
            printf(&amp;quot;ç¬¬äºŒä¸ªå­è¿›ç¨‹è®¡ç®—ç»“æœ %d\n&amp;quot;, res);
            printf(&amp;quot;ç¬¬äºŒä¸ªå­è¿›ç¨‹%d&amp;quot;, ++num);
        }
        else{
            res = 0;
            for(int i = 0; i &amp;lt; 100; i++){
                res += i;
            }
            printf(&amp;quot;ä¸»è¿›ç¨‹è®¡ç®—ç»“æœ %d\n&amp;quot;, res);
            printf(&amp;quot;ç¬¬ä¸‰ä¸ªå­è¿›ç¨‹%d&amp;quot;, ++num);
        }
    }
    printf(&amp;quot;end&amp;quot;);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä¿¡å·&#34;&gt;ä¿¡å·&lt;/h2&gt;

&lt;p&gt;ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ¥å—å‘é€ç»™è‡ªå·±çš„ä¿¡å·ï¼ˆ30å’Œ31ï¼‰ï¼Œæ”¶åˆ°ä¿¡å·åæ˜¾ç¤ºä¿¡å·çš„å†…å®¹ã€‚æ²¡æ”¶åˆ°ä¿¡å·æ—¶å¾ªç¯æ˜¾ç¤ºæç¤ºä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;ç¨‹åºç»™è‡ªå·±å‘é€ä¿¡å·å¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;raise&lt;/code&gt;å‡½æ•°å®ç°ï¼Œåœ¨ä»£ç å½“ä¸­ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿåˆ°å‘é€ä¿¡å·çš„æƒ…å†µï¼Œå¯¹é¢˜ç›®è¦æ±‚çš„ä¸¤ä¸ªä¿¡å·çš„å¤„ç†æ–¹æ³•è¿›è¡Œäº†è®¾ç½®ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include&amp;lt;stdio.h&amp;gt;
#include&amp;lt;signal.h&amp;gt;
#include&amp;lt;unistd.h&amp;gt;

void show_sig(int sig){
    printf(&amp;quot;Get a signal: %d\n&amp;quot;, sig);
}

int main(){
    signal(SIGPWR, show_sig);   // è®¾ç½®ä¿¡å·å¤„ç†æ–¹æ³•
    signal(SIGSYS, show_sig);

    for(int i = 0; i &amp;lt; 8; i++){
        printf(&amp;quot;ç³»ç»Ÿå°†ä¼šåœ¨3ç§’å’Œ5ç§’å‘é€30 31ä¿¡å·ï¼Œå½“å‰æ—¶é—´ä¸º: %d\n&amp;quot;, i);
        if(i == 3){
            raise(30);
        }
        if(i == 5){
            raise(31);
        }
        sleep(1);
    }
    return 0;
}

// https://blog.csdn.net/thanksgining/article/details/41824475
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ç»¼åˆä½œä¸š&#34;&gt;ç»¼åˆä½œä¸š&lt;/h2&gt;

&lt;p&gt;æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸‹é¢æœ‰è®¸å¤šä¸ªCè¯­è¨€æºç¨‹åºã€‚è¦æ±‚ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç»Ÿè®¡æ‰€æœ‰Cè¯­è¨€æºç¨‹åºä¸­ï¼Œä¸‹åˆ—ç³»ç»Ÿå‡½æ•°çš„è¢«è°ƒç”¨æ¬¡æ•°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;printf  open  close  read  write  fork  signal
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç»Ÿè®¡ç»“æœè¾“å‡ºåˆ°myresult.txtæ–‡ä»¶æŒ‰ä¸­ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;printf  49
open    13
close   13
read    24
write   16
fork     8
signal   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å»ºè®®ï¼ˆéå¼ºåˆ¶ï¼Œéµå®ˆä¸‹åˆ—å»ºè®®ä¼šå¾—åˆ°ä¸€ä¸ªè¾ƒå¥½åˆ†æ•°ï¼‰ï¼š
1. å¯¹æ¯ä¸ª.cæ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼ˆæˆ–è€…å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼‰ç»Ÿè®¡ï¼Œç»Ÿè®¡ç»“æœå­˜å…¥åˆé€‚çš„æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œæœ€åå†æ±‡æ€»ç»“æœ
2. å¯¹æ¯ä¸ªå‡½æ•°ï¼Œç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼ˆæˆ–è€…å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼‰ç»Ÿè®¡ï¼Œç»Ÿè®¡ç»“æœå­˜å…¥åˆé€‚çš„æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œæœ€åå†æ±‡æ€»ç»“æœã€‚
3. è®¿é—®æ–‡ä»¶ä½¿ç”¨Linuxç³»ç»ŸIOï¼Œå¦‚open, close, read, writeã€‚
4. ç¼–å†™å‡ºåˆé€‚çš„makefile
5. å¯ä»¥ç”Ÿæˆå¤šä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé€šè¿‡ä¸€ä¸ªä¸»æ–‡ä»¶å¯åŠ¨å·¥ä½œã€‚
6. å¯ä»¥å¸¦Shellè„šæœ¬&lt;/p&gt;

&lt;h3 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h3&gt;

&lt;p&gt;ç¨‹åºçš„æ•´ä½“é€»è¾‘è¿˜æ˜¯æ¯”è¾ƒæ¸…æ¥šçš„ï¼Œè¯»å–æ–‡ä»¶å¤¹å†…æ‰€æœ‰cæ–‡ä»¶ï¼Œç„¶åç»Ÿè®¡å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ï¼Œæœ€åæ±‡æ€»åˆ°ä¸€ä¸ªæ–‡ä»¶å½“ä¸­ã€‚å¦‚æœä¸è€ƒè™‘å¤šè¿›ç¨‹çš„è¯ï¼Œå®ç°èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚ä½¿ç”¨å¤šè¿›ç¨‹çš„æ–¹æ¡ˆï¼Œæ‰€ä»¥ç»Ÿè®¡æ–¹å¼éœ€è¦ä¸€å®šçš„å˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘æœ€å¼€å§‹çš„å®ç°æ€è·¯æ˜¯å¯¹äºæ¯ä¸ªCæ–‡ä»¶åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹æ¥ç»Ÿè®¡å„ä¸ªå‡½æ•°çš„ä½¿ç”¨æ¬¡æ•°ï¼Œä½†å®ç°çš„æ—¶å€™å‘ç°è¿™æ ·ç»Ÿè®¡æ•°æ®çš„ä¿å­˜ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚å¦‚æœæ¯ä¸ªæ–‡ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªç»“æœæ–‡ä»¶ï¼Œå½“æºæ–‡ä»¶æ•°ç›®è¾ƒå¤šæ—¶ï¼Œç”Ÿæˆçš„ç»“æœæ–‡ä»¶ä¹Ÿä¼šå˜å¾—å¾ˆå¤šï¼Œæ±‡æ€»èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚å¦‚æœæ˜¯æŠŠæ¯ä¸ªæ–‡ä»¶çš„ç»Ÿè®¡ç»“æœä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶å½“ä¸­ï¼Œç”±äºå„ä¸ªè¿›ç¨‹çš„æ‰§è¡Œæ—¶é—´ä¸åŒï¼Œæœ€åä¿å­˜æ—¶è¿˜è¦è¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚&lt;/p&gt;

&lt;p&gt;è€ƒè™‘åˆ°è¿™äº›ï¼Œæˆ‘é€‰æ‹©äº†ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„æ–¹æ¡ˆï¼Œå¯¹æ¯ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æºæ–‡ä»¶ä¸­è¯¥å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ï¼Œæœ€åä¿å­˜åˆ°ç»“æœæ–‡æ¡£å½“ä¸­ï¼Œåœ¨ç¨‹åºç»“æŸä¹‹åç”¨shellè„šæœ¬å¯¹ç»Ÿè®¡ç»“æœè¿›è¡Œåˆå¹¶ã€‚&lt;/p&gt;

&lt;p&gt;Cç¨‹åºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include&amp;lt;stdlib.h&amp;gt;
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/stat.h&amp;gt;
#include &amp;lt;fcntl.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;dirent.h&amp;gt; // æ–‡ä»¶ç›®å½•
#include &amp;lt;string.h&amp;gt;

/*struct dirent
{
   long d_ino; // inode number ç´¢å¼•èŠ‚ç‚¹å·
   off_t d_off; // offset to this dirent åœ¨ç›®å½•æ–‡ä»¶ä¸­çš„åç§»
   unsigned short d_reclen; // length of this d_name æ–‡ä»¶åé•¿
   unsigned char d_type; // the type of d_name æ–‡ä»¶ç±»å‹
   char d_name [NAME_MAX+1]; // file name (null-terminated) æ–‡ä»¶åï¼Œæœ€é•¿255å­—ç¬¦
}
å…¶ä¸­d_typeè¡¨æ˜è¯¥æ–‡ä»¶çš„ç±»å‹ï¼šæ–‡ä»¶(8)ã€ç›®å½•(4)ã€é“¾æ¥æ–‡ä»¶(10)ç­‰
*/

// æ–‡ä»¶æ“ä½œç›¸å…³ https://blog.csdn.net/u014650722/article/details/51563679
char *aims[] = {&amp;quot;printf&amp;quot;, &amp;quot;open&amp;quot;, &amp;quot;close&amp;quot;, &amp;quot;read&amp;quot;, &amp;quot;write&amp;quot;, &amp;quot;fork&amp;quot;, &amp;quot;signal&amp;quot;};


int helper(char *filename, int id)
{
    int fd = open(filename, O_RDONLY); // åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶
    char buf[1024];
    int count = 0;
    while (read(fd, buf, 1024))
    {
        // strstrå‡½æ•°åˆ¤æ–­æ˜¯å¦ä¸ºå­ä¸²
        char * tmp = strstr(buf, aims[id]);
        while(tmp != NULL)
        {
            count++;
            tmp += strlen(aims[id]);    //æ‰¾åˆ°åå¿…é¡»ç§»åŠ¨ï¼Œä¸ç„¶æ­»å¾ªç¯
            tmp = strstr(tmp, aims[id]);
        }
    }
    close(fd);
    return count;
}

void savefile(int id, int count){
    // ä¿å­˜ç»“æœ
    char buf[1024];
    char *savename = (char *)malloc(strlen(aims[id]) + 4);
    sprintf(savename, &amp;quot;%s.txt&amp;quot;, aims[id]);

    int fd = open(savename, O_CREAT | O_RDWR, S_IWUSR);
    int len = sprintf(buf, &amp;quot;%s %d\n&amp;quot;, aims[id], count);
    write(fd, buf, len);
    close(fd);
}

int main()
{
    int i = 0;
    int p = 0;
    for(i = 0; i &amp;lt; 7; i++){
        p = fork();
        if(p == 0){
            break;
        }
    }

    if (p == 0)
    {
       
        // è·å–ç›®å½•ä¸‹æ‰€æœ‰.cæ–‡ä»¶
        DIR *directory_pointer;
        struct dirent *entry;

        if ((directory_pointer = opendir(&amp;quot;.&amp;quot;)) == NULL)
        {
            printf(&amp;quot;Error open\n&amp;quot;);
            return 0;
        }
        else
        {
            int count = 0;
            while ((entry = readdir(directory_pointer)) != NULL)
            {
                int len = strlen(entry-&amp;gt;d_name);
                if (entry-&amp;gt;d_name[len - 1] == &#39;c&#39; &amp;amp;&amp;amp; entry-&amp;gt;d_name[len - 2] == &#39;.&#39;)
                {
                    count += helper(entry-&amp;gt;d_name, i);
                }
            }
            savefile(i, count);
        }
    }
    else
    {
        return  0;   //ä¸»è¿›ç¨‹ä¸åšå¤„ç†
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;shellè„šæœ¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#!/bin/bash

funname=(&amp;quot;printf&amp;quot; &amp;quot;open&amp;quot; &amp;quot;close&amp;quot; &amp;quot;read&amp;quot; &amp;quot;write&amp;quot; &amp;quot;fork&amp;quot; &amp;quot;signal&amp;quot;)

gcc final.c -o final    # cæ–‡ä»¶åä¸ºfinal.c
./final
rm final    # è¿è¡Œç»“æŸååˆ é™¤

rm res.txt  # åˆ é™¤åŸæœ‰ç»“æœæ–‡æœ¬

for fun in ${funname[@]}
do
    cat $fun.txt &amp;gt;&amp;gt; res.txt
    rm $fun.txt
done
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Flask&#43;MongoDB CURDå¾®å®æˆ˜</title>
      <link>https://wanakiki.github.io/2020/mongodb-demo/</link>
      <pubDate>Sat, 30 May 2020 11:07:16 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/mongodb-demo/</guid>
      <description>

&lt;p&gt;åšSRDPçš„è¿‡ç¨‹ä¸­å‘ç°å…³ç³»å‹æ•°æ®åº“åœ¨å®ç°é—®å·æ•ˆæœæ—¶æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥æ‰¾äº†ä¸ªæ—¶é—´ç†Ÿæ‚‰äº†ä¸€ä¸‹éå…³ç³»å‹æ•°æ®åº“ï¼Œåšäº†ä¸€ä¸ªtodoå°demoã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1654y1D7jN/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;è§†é¢‘æ¼”ç¤ºåœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;è¿‡ç¨‹è®°å½•&#34;&gt;è¿‡ç¨‹è®°å½•&lt;/h2&gt;

&lt;p&gt;ä¸‹è½½å®‰è£…&lt;a href=&#34;https://www.mongodb.com/download-center/community&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;mongodb&lt;/a&gt;ï¼Œæ³¨æ„å®‰è£…çš„æ—¶å€™ä¸è¦å‹¾é€‰compassï¼Œæˆ‘å‹¾é€‰ä¹‹åç›´æ¥å¡ä½äº†ã€‚&lt;/p&gt;

&lt;p&gt;å®‰è£…Flaskç›¸å…³æ‰©å±•ï¼š&lt;code&gt;pip install Flask-PyMongo&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Flask-PyMongo&lt;/code&gt;æ˜¯åœ¨&lt;code&gt;PyMongo&lt;/code&gt;åŸºç¡€ä¸Šè¿›è¡Œçš„å°è£…ï¼Œä»¤å…¶æ»¡è¶³æ‰©å±•çš„ä¹ æƒ¯æ€§ä½¿ç”¨æ–¹å¼ï¼Œå…·ä½“æ“ä½œéœ€è¦æŸ¥çœ‹&lt;code&gt;PyMongo&lt;/code&gt;ä¸­çš„ç›¸å…³å†…å®¹ã€‚ä¸¤ä¸ªæ‰©å±•çš„æ–‡æ¡£ï¼š&lt;a href=&#34;http://www.pythondoc.com/flask-pymongo/index.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Flask-PyMongo&lt;/a&gt;ã€&lt;a href=&#34;https://pymongo.readthedocs.io/en/stable/tutorial.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;PyMongo&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿‡ç¨‹ä¸­å‚è€ƒçš„ä¸¤ä¸ªåšå®¢ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://www.bjhee.com/flask-ext5.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.bjhee.com/flask-ext5.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://towait.com/blog/flask-mongodb-crud/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;https://towait.com/blog/flask-mongodb-crud/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„mongodbä½¿ç”¨$é…åˆå…¶å®ƒå…³é”®å­—å®ç°ä¸åŒæ›´æ–°æ•°æ®æ–¹å¼çš„æ–¹æ³•ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from flask import Flask, render_template, abort, redirect, url_for, request
from flask_bootstrap import Bootstrap
from flask_pymongo import PyMongo
from flask_wtf import FlaskForm
from wtforms import StringField, SubmitField
from wtforms.validators import DataRequired
from bson.objectid import ObjectId

from time import time

app = Flask(__name__)
# appé…ç½®

app.config[&#39;MONGO_DBNAME&#39;] = &#39;flask&#39;  # æ•°æ®åº“å
app.config[&#39;MONGO_URI&#39;] = &#39;mongodb://localhost:27017/flask&#39;
# æš‚æ—¶ä¸æ¶‰åŠç”¨æˆ·åä¸å¯†ç 
app.config[&#39;SECRET_KEY&#39;] = &#39;balabala&#39;  # wtf

mongo = PyMongo(app)
bootstrap = Bootstrap(app)


# è¡¨å•
class ContentForm(FlaskForm):
    content = StringField(&#39;Content&#39;, validators=[DataRequired()])
    submit = SubmitField(&#39;æäº¤&#39;)

class DeleteForm(FlaskForm):
    submit = SubmitField(&#39;Delete&#39;)

class FinishForm(FlaskForm):
    submit = SubmitField(&#39;Finish&#39;)


# æ•°æ®æ¨¡å‹
def create(content: str):
    body = {
        &#39;content&#39;: content,
        &#39;time&#39;: time(),
        &#39;finished&#39;: False,
        &#39;finished_time&#39;: None
    }
    return body


@app.route(&#39;/&#39;, methods=[&#39;GET&#39;, &#39;POST&#39;])
def index():
    form = ContentForm()
    form_d = DeleteForm()
    form_f = FinishForm()
    if form.validate_on_submit():
        cur = create(form.content.data)     # ä¸éœ€è¦è¦å®šä¹‰æ•°æ®æ¨¡å‹
        mongo.db.todos.insert_one(cur)
    res = mongo.db.todos.find()
    return render_template(&#39;index.html&#39;, records=res, form=form, form_d=form_d, form_f=form_f)


@app.route(&#39;/delete/&amp;lt;obj_id&amp;gt;&#39;, methods=[&#39;POST&#39;])
def delete_record(obj_id):
    form = DeleteForm()
    if form.validate_on_submit():
        mongo.db.todos.delete_one({&#39;_id&#39;: ObjectId(obj_id)})
    else:
        abort(400)
    return redirect(url_for(&#39;index&#39;))


@app.route(&#39;/finish/&amp;lt;obj_id&amp;gt;&#39;, methods=[&#39;POST&#39;])
def finish_record(obj_id):
    form = FinishForm()
    if form.validate_on_submit():
        print(&#39;dd&#39;)
        mongo.db.todos.update_one({&#39;_id&#39;: ObjectId(obj_id)}, {
            &#39;$set&#39;: {
                &#39;finished&#39;: True,
                &#39;finished_time&#39;: time()
            }
        })
    else:
        abort(400)
    return redirect(url_for(&#39;index&#39;))

@app.route(&#39;/search&#39;, methods=[&#39;GET&#39;])
def search_records():
    content = request.args.get(&#39;content&#39;, None)

    form = ContentForm()
    form_d = DeleteForm()
    form_f = FinishForm()
    if content is not None:
        res = mongo.db.todos.find(
            {&#39;content&#39;: {&amp;quot;$regex&amp;quot;: content}}
        )
    else:
        res = mongo.db.todos.find()
    return render_template(&#39;index.html&#39;, records=res, form=form, form_d=form_d, form_f=form_f)

if __name__ == &#39;__main__&#39;:
    app.run()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é¡µé¢æ¨¡æ¿æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;{% extends &amp;quot;bootstrap/base.html&amp;quot; %}

{% block title %}To Do {% endblock %}

{% block content %}
    &amp;lt;h2&amp;gt;To Do List&amp;lt;/h2&amp;gt;
    &amp;lt;form method=&amp;quot;get&amp;quot; action=&amp;quot;{{ url_for(&#39;search_records&#39;, content=content) }}&amp;quot;&amp;gt;
    &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;content&amp;quot;&amp;gt; &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;æœç´¢&amp;quot;&amp;gt;
    &amp;lt;/form&amp;gt;
    &amp;lt;br&amp;gt;
    &amp;lt;form method=&amp;quot;post&amp;quot; action=&amp;quot;{{ url_for(&#39;index&#39;)}}&amp;quot;&amp;gt;
    {{ form.csrf_token }}
    {{ form.content() }}
    {{ form.submit() }}
    &amp;lt;/form&amp;gt;
    &amp;lt;h3&amp;gt;è®°å½•åˆ—è¡¨&amp;lt;/h3&amp;gt;
    &amp;lt;ul&amp;gt;
    {% for record in records %}
    &amp;lt;li&amp;gt;
    &amp;lt;p&amp;gt;å†…å®¹ï¼š{{ record[&#39;content&#39;] }}&amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;åˆ›å»ºæ—¶é—´ï¼š{{ record[&#39;time&#39;] }}&amp;lt;/p&amp;gt;
    {% if record[&#39;finished&#39;] %}
        &amp;lt;p&amp;gt;çŠ¶æ€ï¼šFinished&amp;lt;/p&amp;gt;
        &amp;lt;p&amp;gt;å®Œæˆæ—¶é—´ {{ record[&#39;finished_time&#39;] }}&amp;lt;/p&amp;gt;
    {% else %}
        &amp;lt;p&amp;gt;çŠ¶æ€ï¼šUnfinished&amp;lt;/p&amp;gt;
    {% endif %}
    {% set p = record[&#39;_id&#39;]~&#39;&#39; %}
    &amp;lt;form method=&amp;quot;post&amp;quot; style=&amp;quot;float: left&amp;quot; action=&amp;quot;{{ url_for(&#39;delete_record&#39;, obj_id=p) }}&amp;quot;&amp;gt;
        {{ form_d.csrf_token }}
        {{ form_d.submit() }}
    &amp;lt;/form&amp;gt;
    &amp;lt;form method=&amp;quot;post&amp;quot; action=&amp;quot;{{ url_for(&#39;finish_record&#39;, obj_id=p) }}&amp;quot;&amp;gt;
        {{ form_f.csrf_token }}
        {{ form_f.submit() }}
    &amp;lt;/form&amp;gt;
    &amp;lt;/li&amp;gt;
    {% endfor %}
    &amp;lt;/ul&amp;gt;
{% endblock %}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>ç™¾åº¦ç¿»è¯‘çˆ¬è™«</title>
      <link>https://wanakiki.github.io/2020/baidufanyi/</link>
      <pubDate>Mon, 18 May 2020 20:44:50 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/baidufanyi/</guid>
      <description>

&lt;p&gt;å…¸å‹çš„jsåŠ å¯†çˆ¬è™«å®æˆ˜ï¼Œæœ¬æ–‡ç« å†…å®¹ä»…ä½œå­¦ä¹ äº¤æµã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;é¦–å…ˆæ”¾ä¸€ä¸‹å‚è€ƒæ–‡ç« ï¼š&lt;a href=&#34;https://zhuanlan.zhihu.com/p/76239929&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;çˆ¬è™«JSç ´è§£ç»å…¸æ¡ˆä¾‹ä¹‹ç™¾åº¦ç¿»è¯‘&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœæ²¡æœ‰è¿™ç¯‡æ–‡ç« çš„è¯ï¼Œæˆ‘å¯èƒ½è¦èŠ±å¾ˆå¤šåŠŸå¤«æ‰èƒ½æ‰¾åˆ°å…·ä½“çš„jsä»£ç ä½ç½®ã€‚&lt;/p&gt;

&lt;h2 id=&#34;é¡µé¢åŠ è½½åˆ†æ&#34;&gt;é¡µé¢åŠ è½½åˆ†æ&lt;/h2&gt;

&lt;h3 id=&#34;åˆæ­¥æ¢ç´¢&#34;&gt;åˆæ­¥æ¢ç´¢&lt;/h3&gt;

&lt;p&gt;æ‰“å¼€&lt;a href=&#34;https://fanyi.baidu.com/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;ç™¾åº¦ç¿»è¯‘&lt;/a&gt;ï¼Œç„¶åå³é”®ã€æ£€æŸ¥ã€networkï¼Œåˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°ç½‘é¡µçš„åŠ è½½è¿‡ç¨‹ã€‚å…·ä½“çš„å›¾ç¤ºå¯ä»¥åœ¨ä¹‹å‰çš„&lt;a href=&#34;../leetcode-spider&#34;&gt;leetcodeçˆ¬è™«&lt;/a&gt;ä¸­æ‰¾åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¾“å…¥ä»»æ„æŸ¥è¯¢å†…å®¹ç‚¹å‡»ç¿»è¯‘åï¼Œåœ¨&lt;code&gt;XHR&lt;/code&gt;é¡¹ä¸­å¯ä»¥çœ‹åˆ°&lt;code&gt;langdetect&lt;/code&gt;ã€&lt;code&gt;v2transapi?form &amp;amp; to&lt;/code&gt;ä¸¤ä¸ªè¯·æ±‚ã€‚æ£€æŸ¥å†…å®¹ä¸éš¾å‘ç°ï¼Œå‰è€…çš„ä½œç”¨æ˜¯è¯­è¨€æ£€æŸ¥ï¼Œ åè€…æ‰æ˜¯çœŸæ­£çš„ç¿»è¯‘ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;from: en
to: zh
query: hello everyone
transtype: translang
simple_means_flag: 3
sign: 58244.262325
token: 440bdb196410660e636b3223ebb83a94
domain: common
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢æ˜¯æˆ‘ä»¥&amp;rdquo;hello everyone&amp;rdquo;ä½œä¸ºå¾…ç¿»è¯‘æ–‡æœ¬å‘èµ·è¯·æ±‚çš„è¡¨å•å†…å®¹ï¼Œ&lt;code&gt;from&lt;/code&gt;ã€&lt;code&gt;to&lt;/code&gt;ã€&lt;code&gt;query&lt;/code&gt;è¿™ä¸‰é¡¹æ„ä¹‰å¾ˆæ˜ç¡®ï¼Œå…¶ä½™é¡¹æ— æ³•ç›´æ¥åˆ¤æ–­å‡ºå…·ä½“çš„ä½œç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ·±å…¥æŒ–æ˜&#34;&gt;æ·±å…¥æŒ–æ˜&lt;/h3&gt;

&lt;p&gt;å¤šè¾“å…¥å‡ ç»„æ•°æ®ï¼Œå¯ä»¥å‘ç°&lt;code&gt;sign&lt;/code&gt;ä¼šéšç€&lt;code&gt;query&lt;/code&gt;çš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œè€Œ&lt;code&gt;token&lt;/code&gt;é¡¹å´ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œæˆ‘å‚è€ƒäº†åˆ«äººçš„æ–¹å¼ï¼Œæœç´¢&amp;rdquo;sign:&amp;ldquo;å¾ˆå¿«æ‰¾åˆ°äº†è¿™ä¸ªè¯·æ±‚çš„å‘èµ·ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;h={from:p.fromLang,to:p.toLang,query:n,transtype:r,simple_means_flag:3,sign:y(n),token:window.common.token,domain:w.getCurDomain()}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦å¤–è¿™é‡Œçš„&lt;code&gt;token&lt;/code&gt;ä¹Ÿå¯ä»¥é€šè¿‡æœç´¢&amp;rdquo;window[&amp;lsquo;common&amp;rsquo;]&amp;ldquo;æ‰¾åˆ°ï¼Œå‘ç°ä»–å…¶å®ä½äºhtmlä»£ç ä¸­ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå¯ä»¥ç›´æ¥ç”¨æ­£åˆ™è¡¨è¾¾å¼è§£æhtmlä»£ç è·å–ã€‚æ‰€ä»¥ç°åœ¨éœ€è¦è§£å†³çš„é—®é¢˜å°±æ˜¯&lt;code&gt;sign&lt;/code&gt;çš„äº§ç”Ÿã€‚&lt;/p&gt;

&lt;h2 id=&#34;jsç ´è§£&#34;&gt;JSç ´è§£&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;sign&lt;/code&gt;é€šè¿‡yå‡½æ•°äº§ç”Ÿï¼Œå¦å¤–é€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°yå‡½æ•°çš„ä¼ å‚å®é™…ä¸Šæ˜¯å¾…æŸ¥è¯¢çš„å†…å®¹ï¼Œæ‰€ä»¥åªè¦æ‰¾åˆ°yå‡½æ•°ï¼Œç†è®ºä¸Šæˆ‘ä»¬å¯ä»¥è·å¾—ä»»æ„è¾“å…¥çš„&lt;code&gt;sign&lt;/code&gt;å€¼ã€‚é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½æ‰¾åˆ°yå‡½æ•°å‘¢ï¼Ÿç¬¬ä¸€ä¸ªæƒ³æ³•å½“ç„¶æ˜¯ç»§ç»­æœç´¢ï¼Œä½†å®é™…ä¸Šä¸€æœç´¢å°±ä¼šå‘ç°ï¼Œå› ä¸ºç‰¹å¾å¤ªå°‘æ— æ³•ç¡®å®šå…·ä½“æ˜¯å“ªä¸€ä¸ªæœç´¢ç»“æœã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªå¾ˆå…³é”®çš„æŠ€æœ¯ï¼š&lt;code&gt;JSè°ƒè¯•&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&#34;jsè°ƒè¯•&#34;&gt;JSè°ƒè¯•&lt;/h3&gt;

&lt;p&gt;å…ˆè¯´ä¸€ä¸‹è°ƒè¯•çš„å…·ä½“æ­¥éª¤ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³åŸºç¡€çš„è¯ç›´æ¥ä¸Šæ‰‹è¿˜æ˜¯ä¼šæœ‰ç‚¹é—®é¢˜çš„ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæ‰¾åˆ°ä»£ç æ‰€åœ¨è¡Œï¼Œå¯¹äºå¤æ‚ç½‘é¡µï¼Œä¸€è¡Œå†…å¯èƒ½æœ‰å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å¦‚æœç›´æ¥ç‚¹å‡»æƒ³è¦è°ƒè¯•çš„å‡½æ•°çš„è¯ï¼Œå®é™…ä¸Šä¸ä¼šæ·»åŠ æ–­ç‚¹ã€‚æ­£ç¡®çš„æ“ä½œåº”è¯¥æ˜¯åƒPythonä»£ç é‚£æ ·ï¼Œå…ˆç‚¹å‡»è¿™ä¸€è¡Œçš„æœ€å·¦ä¾§çš„è¡Œå·ï¼Œç‚¹å‡»è¡Œå·ä¹‹ååœ¨æŠŠé¼ æ ‡ç§»åŠ¨åˆ°æƒ³è¦è°ƒè¯•çš„å‡½æ•°ä¸Šï¼Œè¿™æ—¶å€™ä¼šå‘ç°å‡½æ•°å¯ä»¥è¢«ç‚¹å‡»ï¼Œç‚¹å‡»å‡½æ•°åä¾¿èƒ½æ·»åŠ æ–­ç‚¹ã€‚ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»ä»£ç æ¡†å·¦ä¸‹è§’çš„èŠ±æ‹¬å·ï¼Œç›´æ¥æŠŠä»£ç æ ¼å¼åŒ–ï¼Œæˆ‘å½“æ—¶æ‰¾äº†å¾ˆä¹…æ²¡æ‰¾åˆ°ğŸ˜£ï¼‰&lt;/p&gt;

&lt;p&gt;åœ¨æ·»åŠ å®Œæ–­ç‚¹ä¹‹åï¼Œç»§ç»­è¾“å…¥å†…å®¹ï¼Œç‚¹å‡»ç¿»è¯‘ï¼Œå¯ä»¥å‘ç°ç½‘ç«™åœæ­¢åŠ è½½ï¼Œå¹¶ä¸”è¿”å›è°ƒè¯•ç•Œé¢å¯ä»¥çœ‹åˆ°å˜é‡ååŠå…¶å¯¹åº”çš„å€¼ï¼Œå°†é¼ æ ‡æ”¾åˆ°å‡½æ•°åä¸Šå¯ä»¥è·³è½¬åˆ°å‡½æ•°çš„å…·ä½“ä½ç½®ï¼Œè¿™æ ·å°±èƒ½æ‰¾åˆ°yå‡½æ•°çš„çœŸæ­£ä½ç½®äº†ã€‚å…¶å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function e(r) {
    var o = r.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g);
    if (null === o) {
        var t = r.length;
        t &amp;gt; 30 &amp;amp;&amp;amp; (r = &amp;quot;&amp;quot; + r.substr(0, 10) + r.substr(Math.floor(t / 2) - 5, 10) + r.substr(-10, 10))
    } else {
        for (var e = r.split(/[\uD800-\uDBFF][\uDC00-\uDFFF]/), C = 0, h = e.length, f = []; h &amp;gt; C; C++)&amp;quot;&amp;quot; !== e[C] &amp;amp;&amp;amp; f.push.apply(f, a(e[C].split(&amp;quot;&amp;quot;))), C !== h - 1 &amp;amp;&amp;amp; f.push(o[C]);
        var g = f.length; g &amp;gt; 30 &amp;amp;&amp;amp; (r = f.slice(0, 10).join(&amp;quot;&amp;quot;) + f.slice(Math.floor(g / 2) - 5, Math.floor(g / 2) + 5).join(&amp;quot;&amp;quot;) + f.slice(-10).join(&amp;quot;&amp;quot;))
    }
    var i = null;   // ç›´æ¥æ‰§è¡Œä¼šæç¤ºiæ²¡æœ‰å®šä¹‰ æ‰€ä»¥åŠ äº†ä¸€è¡Œ
    var u = void 0, l = &amp;quot;&amp;quot; + String.fromCharCode(103) + String.fromCharCode(116) + String.fromCharCode(107); 
    u = null !== i ? i : (i = window[l] || &amp;quot;&amp;quot;) || &amp;quot;&amp;quot;;
    for (var d = u.split(&amp;quot;.&amp;quot;), m = Number(d[0]) || 0, s = Number(d[1]) || 0, S = [], c = 0, v = 0; v &amp;lt; r.length; v++) {
        var A = r.charCodeAt(v); 128 &amp;gt; A ? S[c++] = A : (2048 &amp;gt; A ? S[c++] = A &amp;gt;&amp;gt; 6 | 192 : (55296 === (64512 &amp;amp; A) &amp;amp;&amp;amp; v + 1 &amp;lt; r.length &amp;amp;&amp;amp; 56320 === (64512 &amp;amp; r.charCodeAt(v + 1)) ? (A = 65536 + ((1023 &amp;amp; A) &amp;lt;&amp;lt; 10) + (1023 &amp;amp; r.charCodeAt(++v)), S[c++] = A &amp;gt;&amp;gt; 18 | 240, S[c++] = A &amp;gt;&amp;gt; 12 &amp;amp; 63 | 128) : S[c++] = A &amp;gt;&amp;gt; 12 | 224, S[c++] = A &amp;gt;&amp;gt; 6 &amp;amp; 63 | 128), S[c++] = 63 &amp;amp; A | 128)
    } for (var p = m, F = &amp;quot;&amp;quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(97) + (&amp;quot;&amp;quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(54)), D = &amp;quot;&amp;quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(51) + (&amp;quot;&amp;quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(98)) + (&amp;quot;&amp;quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(102)), b = 0; b &amp;lt; S.length; b++)p += S[b], p = n(p, F);
    return p = n(p, D), p ^= s, 0 &amp;gt; p &amp;amp;&amp;amp; (p = (2147483647 &amp;amp; p) + 2147483648), p %= 1e6, p.toString() + &amp;quot;.&amp;quot; + (p ^ m)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°è¿™æ®µä»£ç è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¦‚æœæ‡‚jsçš„è¯ï¼Œå¯ä»¥ç¨å¾®è§£è¯»ä¸€ä¸‹ï¼Œå› ä¸ºè¿™æ®µä»£ç è¿˜æ²¡æœ‰æ··æ·†åˆ°å®Œå…¨æ²¡åŠæ³•çœ‹çš„ç¨‹åº¦ï¼ˆæŠŠæ‰€æœ‰çš„å­—ç¬¦éƒ½ç”¨æ‹¬å·æˆ–è€…ä¸‹åˆ’çº¿ä¹‹ç±»çš„æ›¿ä»£ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œè®²ä¸‰ä¸ªåç»­æ‰§è¡Œä»£ç çš„æ—¶å€™æ‰ä¼šå‘ç°çš„ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ä»£ç ä½¿ç”¨äº†å…¨å±€çš„&lt;code&gt;window&lt;/code&gt;å˜é‡ï¼Œjså‡½æ•°å½“ä¸­æœªä½œå®šä¹‰ï¼Œé€šè¿‡è°ƒè¯•å¯ä»¥å‘ç°å®é™…ä¸Šæ˜¯ä¸ºäº†è·å–è¯¥å˜é‡çš„&lt;code&gt;gtk&lt;/code&gt;å€¼ï¼Œè¯¥å€¼ä¹Ÿæ˜¯å†™åœ¨htmlå½“ä¸­çš„ï¼Œå¯ä»¥ç›´æ¥æ­£åˆ™è·å¾—ï¼Œè·å¾—ä¹‹åå¯¹jsä»£ç è¿›è¡Œç¨å¾®ä¿®æ”¹å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;iå˜é‡æœªå®šä¹‰ï¼Œæ²¡æœ‰æ‰¾åˆ°iå˜é‡çš„å…·ä½“ä½ç½®ï¼Œä½†æ˜¯æŸ¥çœ‹ä¹‹åå…¶æ²¡æœ‰å¾ˆçªå‡ºçš„ä½œç”¨ï¼Œäºæ˜¯è‡ªå·±åŠ äº†ä¸€æ¡è¯­å¥ï¼Œå¯¹iå˜é‡è¿›è¡Œäº†å®šä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;å‡½æ•°å†…éƒ¨è°ƒç”¨äº†å¦å¤–çš„å‡½æ•°nğŸ˜‘ï¼Œå…·ä½“çš„è°ƒç”¨å¯ä»¥åœ¨å‡½æ•°çš„returnä½ç½®ï¼Œå¦‚æœä¸ä»”ç»†çœ‹è¿‡ï¼Œç¬¬ä¸€éæ˜¯ä¸ä¼šå‘ç°è¿™ä¸ªç‚¹çš„ã€‚æ‰¾åˆ°nçš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥æ‰“æ–­ç‚¹å°±å¥½äº†ï¼Œè¿™é‡Œä¸åšè¯¦ç»†è§£é‡Šã€‚nçš„ä»£ç ä¼šåœ¨æœ€åç»™å‡ºã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;pythonæ‰§è¡Œjsä»£ç &#34;&gt;Pythonæ‰§è¡ŒJSä»£ç &lt;/h3&gt;

&lt;p&gt;å‰é¢æˆ‘ä»¬å·²ç»è·å¾—äº†&lt;code&gt;sign&lt;/code&gt;ç”Ÿæˆå‡½æ•°çš„å…·ä½“ä»£ç ï¼Œä½†æ˜¯æˆ‘ä»¬çš„çˆ¬è™«è¯­è¨€æ˜¯Pythonï¼Œå¦‚æœæŠŠjsä»£ç ç¿»è¯‘æˆPythonå°±å¤ªéº»çƒ¦äº†ï¼Œè¿˜å¥½æœ‰å·²ç»å°è£…å¥½çš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;èƒ½å¤Ÿå®ç°ä¸Šè¿°åŠŸèƒ½çš„ç¬¬ä¸‰æ–¹åº“æœ‰å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œä½¿ç”¨äº†&lt;code&gt;pyexecjs&lt;/code&gt;ï¼Œéœ€è¦æ³¨æ„è¯¥æ¨¡å—éœ€è¦å®‰è£…node.jsé…åˆä½¿ç”¨ã€‚å‡è®¾æˆ‘ä»¬å·²ç»æŠŠç”Ÿæˆå‡½æ•°æ”¾åœ¨äº†fanyi.jså½“ä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import execjs

query = &amp;quot;å¾…ç¿»è¯‘è¯­å¥&amp;quot;
fh = open(&#39;fanyi.js&#39;, &#39;r&#39;)
fun = execjs.compile(fh.read())
print(fun.call(&#39;e&#39;, query))
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä»£ç å®ç°&#34;&gt;ä»£ç å®ç°&lt;/h2&gt;

&lt;p&gt;åœ¨åšå®Œå‰é¢çš„å‡†å¤‡å·¥ä½œä¹‹åï¼Œä¾¿èƒ½å¼€å§‹å…·ä½“çš„ä»£ç ä¹¦å†™ï¼Œæ•´ä½“æ€è·¯å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;è¯·æ±‚ç™¾åº¦ç¿»è¯‘é¦–é¡µ&lt;/li&gt;
&lt;li&gt;è§£æhtmlè·å¾—&lt;code&gt;token&lt;/code&gt;ã€&lt;code&gt;gtk&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç”¨å¾—åˆ°çš„&lt;code&gt;gkt&lt;/code&gt;æ›¿æ¢jsä»£ç ä¸­çš„å¯¹åº”å†…å®¹&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘jsä»£ç å¹¶æ‰§è¡Œï¼Œè·å¾—&lt;code&gt;sign&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¯·æ±‚å…·ä½“çš„è¯­è¨€æ£€æµ‹ã€ç¿»è¯‘ç½‘å€ï¼Œå¾—åˆ°ç»“æœ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;åœ¨å®ç°çˆ¬è™«æ—¶ï¼Œæˆ‘åˆå¯¹æŸ¥è¯¢è¯·æ±‚åšäº†è¿›ä¸€æ­¥åˆ†æï¼Œå‘ç°åœ¨æäº¤çš„ä¼—å¤šcookieå½“ä¸­ï¼Œæœ€å…³é”®çš„æ˜¯&lt;code&gt;BAIDUID&lt;/code&gt;è¿™ä¸€é¡¹ï¼Œè€Œè®¿é—®ç™¾åº¦ç¿»è¯‘é¦–é¡µåˆšå¥½å¯ä»¥è·å¾—è¿™ä¸ªcookieã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·ä¾¿èƒ½ç›´æ¥ç”¨ä¸€ä¸ªsessionï¼Œå…ˆè®¿é—®ç™¾åº¦ç¿»è¯‘é¦–é¡µï¼Œè·å¾—cookieçš„åŒæ—¶è§£æhtmlå¾—åˆ°&lt;code&gt;token&lt;/code&gt;å’Œ&lt;code&gt;gtk&lt;/code&gt;ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚åˆ°è¿™é‡Œä»£ç å·²ç»å¾ˆæ¸…æ™°äº†ï¼Œä½†æ˜¯å†™å®Œä¹‹åå´å‘ç°ä¸èƒ½æˆåŠŸæ‰§è¡Œï¼ŒæœåŠ¡ç«¯æŠ¥é”™998ğŸ˜­&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°é”™è¯¯ä¹‹åä»¥ä¸ºæ˜¯jsä»£ç å‡ºäº†é—®é¢˜ï¼Œè°ƒæ•´äº†å¾ˆä¹…ï¼Œä½†æ˜¯æœ€åè¿˜æ˜¯ä¸è¡Œï¼Œäºæ˜¯åˆæ±‚åŠ©äº†ç™¾åº¦ï¼Œåœ¨&lt;a href=&#34;https://www.cnblogs.com/jason-Gan/p/10567018.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;è¿™é‡Œ&lt;/a&gt;æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œå…ˆè®¿é—®ä¸€ä¸‹ç™¾åº¦é¦–é¡µï¼Œå¸¦ç€ç™¾åº¦é¦–é¡µçš„cookieè®¿é—®ç™¾åº¦ç¿»è¯‘ï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™ã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“çš„åŸç†æˆ‘åˆ°ç°åœ¨è¿˜ä¸æ¸…æ¥šï¼Œæˆ‘ä¹‹å‰è¿›è¡Œæµ‹è¯•çš„æ—¶å€™ï¼Œå¦‚æœä¸å…ˆè®¿é—®ç™¾åº¦é¦–é¡µçš„è¯ï¼Œè®¿é—®ç™¾åº¦ç¿»è¯‘è§£æå‡ºæ¥çš„&lt;code&gt;token&lt;/code&gt;æ˜¯ä¸€ä¸ªä¸€æˆä¸å˜çš„å€¼ï¼Œæˆ‘èµ·åˆè®¤ä¸ºæ˜¯jsä»£ç æœ‰é”™è¯¯ï¼Œå°±ä¸€ç›´è¿›è¡Œäº†æµ‹è¯•ï¼ŒåŠä¸ªå¤šå°æ—¶&lt;code&gt;token&lt;/code&gt;çš„å€¼éƒ½æ²¡æœ‰å˜åŒ–ã€‚&lt;code&gt;token&lt;/code&gt;æ˜¯åœ¨htmlå½“ä¸­å†™æ­»çš„ï¼Œæœ‰é—®é¢˜åªèƒ½å‡ºåœ¨æœåŠ¡ç«¯ä¸Šï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºå…ˆè®¿é—®ç™¾åº¦é¦–é¡µçš„ç›®çš„å°±æ˜¯åœ¨è®¿é—®ç™¾åº¦ç¿»è¯‘çš„æ—¶å€™å¸¦ç€ä¸€ä¸ªcookieï¼Œè®©æœåŠ¡å™¨è¿”å›htmlçš„æ—¶å€™ç”Ÿæˆæ­£ç¡®çš„&lt;code&gt;token&lt;/code&gt;ã€‚è‡³äºå…·ä½“æ˜¯ä¸æ˜¯è¿™ä¸ªåŸå› ï¼Œç­‰å­¦çš„æ›´å¤šäº†æ‰çŸ¥é“ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import re
import requests
import execjs
import json


js_content = r&amp;quot;&amp;quot;&amp;quot;function e(r) {
    var o = r.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g);
    if (null === o) {
        var t = r.length;
        t &amp;gt; 30 &amp;amp;&amp;amp; (r = &amp;quot;&amp;quot; + r.substr(0, 10) + r.substr(Math.floor(t / 2) - 5, 10) + r.substr(-10, 10))
    } else {
        for (var e = r.split(/[\uD800-\uDBFF][\uDC00-\uDFFF]/), C = 0, h = e.length, f = []; h &amp;gt; C; C++)&amp;quot;&amp;quot; !== e[C] &amp;amp;&amp;amp; f.push.apply(f, a(e[C].split(&amp;quot;&amp;quot;))), C !== h - 1 &amp;amp;&amp;amp; f.push(o[C]);
        var g = f.length; g &amp;gt; 30 &amp;amp;&amp;amp; (r = f.slice(0, 10).join(&amp;quot;&amp;quot;) + f.slice(Math.floor(g / 2) - 5, Math.floor(g / 2) + 5).join(&amp;quot;&amp;quot;) + f.slice(-10).join(&amp;quot;&amp;quot;))
    }
    var i = null 
    var u = void 0, l = &amp;quot;&amp;quot; + String.fromCharCode(103) + String.fromCharCode(116) + String.fromCharCode(107); 
    u = null !== i ? i : (i = window[l] || &amp;quot;&amp;quot;) || &amp;quot;&amp;quot;;
    for (var d = u.split(&amp;quot;.&amp;quot;), m = Number(d[0]) || 0, s = Number(d[1]) || 0, S = [], c = 0, v = 0; v &amp;lt; r.length; v++) {
        var A = r.charCodeAt(v); 128 &amp;gt; A ? S[c++] = A : (2048 &amp;gt; A ? S[c++] = A &amp;gt;&amp;gt; 6 | 192 : (55296 === (64512 &amp;amp; A) &amp;amp;&amp;amp; v + 1 &amp;lt; r.length &amp;amp;&amp;amp; 56320 === (64512 &amp;amp; r.charCodeAt(v + 1)) ? (A = 65536 + ((1023 &amp;amp; A) &amp;lt;&amp;lt; 10) + (1023 &amp;amp; r.charCodeAt(++v)), S[c++] = A &amp;gt;&amp;gt; 18 | 240, S[c++] = A &amp;gt;&amp;gt; 12 &amp;amp; 63 | 128) : S[c++] = A &amp;gt;&amp;gt; 12 | 224, S[c++] = A &amp;gt;&amp;gt; 6 &amp;amp; 63 | 128), S[c++] = 63 &amp;amp; A | 128)
    } for (var p = m, F = &amp;quot;&amp;quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(97) + (&amp;quot;&amp;quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(54)), D = &amp;quot;&amp;quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(51) + (&amp;quot;&amp;quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(98)) + (&amp;quot;&amp;quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(102)), b = 0; b &amp;lt; S.length; b++)p += S[b], p = n(p, F);
    return p = n(p, D), p ^= s, 0 &amp;gt; p &amp;amp;&amp;amp; (p = (2147483647 &amp;amp; p) + 2147483648), p %= 1e6, p.toString() + &amp;quot;.&amp;quot; + (p ^ m)
}

function n(r, o) {
    for (var t = 0; t &amp;lt; o.length - 2; t += 3) {
        var a = o.charAt(t + 2); a = a &amp;gt;= &amp;quot;a&amp;quot; ? a.charCodeAt(0) - 87 : Number(a), a = &amp;quot;+&amp;quot; === o.charAt(t + 1) ? r &amp;gt;&amp;gt;&amp;gt; a : r &amp;lt;&amp;lt; a, r = &amp;quot;+&amp;quot; === o.charAt(t) ? r + a &amp;amp; 4294967295 : r ^ a
    } return r
}
&amp;quot;&amp;quot;&amp;quot;


class TransMachine():
    def __init__(self):
        self.session = requests.session()

    def get_token_and_gtk(self):
        user_agent = &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4133.0 Safari/537.36 Edg/84.0.508.0&amp;quot;
        headers = {
            &#39;User-Agent&#39;: user_agent
        }
        res = self.session.get(&amp;quot;https://www.baidu.com/&amp;quot;, headers=headers)     # ç¥ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆè®¿é—®ç™¾åº¦é¦–é¡µå°±èƒ½é¿å…998
        print(res.cookies)
        url = &#39;https://fanyi.baidu.com/&#39;
        res = self.session.get(url, headers=headers)
        print(res.cookies)
        res = res.text
        # fh = open(&#39;res.html&#39;, &#39;wb&#39;)
        # fh.write(res.encode())
        # fh.close()

        token = re.findall(&amp;quot;token: &#39;(.*?)&#39;&amp;quot;, res)[0]
        gtk = re.findall(&amp;quot;.gtk = &#39;(.*?)&#39;&amp;quot;, res)[0]

        return token, gtk


    def get_trans(self, words, token, sign):
        check_res = self.session.post(
            &amp;quot;https://fanyi.baidu.com/langdetect&amp;quot;, data={&#39;query&#39;: words})
        check_json = json.loads(check_res.text)
        lan = check_json[&#39;lan&#39;]

        if lan == &#39;zh&#39;:
            lan_from = &#39;zh&#39;
            lan_to = &#39;en&#39;
        elif lan == &#39;en&#39;:
            lan_from = &#39;en&#39;
            lan_to = &#39;zh&#39;
        else:
            return &#39;è¯­è¨€æ£€æµ‹é”™è¯¯&#39;

        url = &#39;https://fanyi.baidu.com/v2transapi&#39;
        form_data = {
            &#39;from&#39;: lan_from,
            &#39;to&#39;: lan_to,
            &#39;query&#39;: words,
            &#39;transtype&#39;: &#39;realtime&#39;,
            &#39;simple_means_flag&#39;: 3,
            &#39;sign&#39;: sign,
            &#39;token&#39;: token,
            &#39;domain&#39;: &#39;common&#39;
        }

        user_agent = &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4133.0 Safari/537.36 Edg/84.0.508.0&amp;quot;
        headers = {
            &#39;User-Agent&#39;: user_agent,
            &#39;origin&#39;: &#39;https://fanyi.baidu.com&#39;,
            &#39;referer&#39;: &#39;https://fanyi.baidu.com/&#39;
        }

        res = self.session.post(url, data=form_data, headers=headers).content.decode()
        res_json = json.loads(res)
        res = res_json[&#39;trans_result&#39;][&#39;data&#39;][0][&#39;dst&#39;]
        return &#39;ç¿»è¯‘ç»“æœï¼š&#39; + res


if __name__ == &#39;__main__&#39;:
    TM = TransMachine()
    token, gtk = TM.get_token_and_gtk()
    print(&#39;token:&#39;, token, &#39;gtk:&#39;, gtk)

    # æ–¹æ‹¬å·éœ€è¦åŠ \
    js_content = re.sub(r&amp;quot;window\[l\]&amp;quot;, &#39;&amp;quot;&#39; + gtk + &#39;&amp;quot;&#39;, js_content)
    fh = open(&#39;res.js&#39;, &#39;w&#39;)
    fh.write(js_content)
    fh.close()
    fun = execjs.compile(js_content)

    while True:
        print(&#39;=========================================&#39;)
        words = input(&#39;è¾“å…¥è¦ç¿»è¯‘çš„å†…å®¹ï¼ˆä¸­æ–‡æˆ–è‹±æ–‡ï¼Œè¾“å…¥ç©ºç™½é€€å‡ºï¼‰:&#39;)
        if words == &amp;quot;&amp;quot;:
            break
        sign = fun.call(&#39;e&#39;, words)
        print(TM.get_trans( words, token, sign))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢ä¸ºäº†cookieèŠ±äº†è¶…çº§ä¹…çš„åŠŸå¤«ï¼Œä½†å®é™…ä¸Šï¼Œå¯ä»¥ç›´æ¥æ‰‹åŠ¨è®¿é—®ä¸€æ¬¡ï¼ŒæŠŠcookieå¤åˆ¶åˆ°ä»£ç é‡Œé¢ï¼Œçœ‹åˆ°è¿™ä¸ªåšæ³•ä¹‹åäººç›´æ¥å‚»äº†ğŸ™ƒ&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>çˆ¬è™«è·å–åŠ›æ‰£é¢˜ç›®ä¿¡æ¯å¹¶è½¬ä¸ºMarkdown</title>
      <link>https://wanakiki.github.io/2020/leetcode-spider/</link>
      <pubDate>Sat, 02 May 2020 14:38:46 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/leetcode-spider/</guid>
      <description>

&lt;p&gt;å¾ˆæ—©å°±æ¥è§¦äº†leetcodeï¼Œåœ¨ä¸Šé¢åšäº†ä¸å°‘é¢˜ï¼Œæ¯æ¬¡æ•´ç†çš„æ—¶å€™å¤åˆ¶é¢˜ç›®ä¿¡æ¯æ˜¯ä¸ªå¾ˆéº»çƒ¦çš„è¿‡ç¨‹ï¼Œäºæ˜¯ä¾¿æƒ³ç€è¦ç”¨çˆ¬è™«æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»Šå¤©ç»ˆäºå®ç°äº†è¿™ä¸ªåŠŸèƒ½ï¼Œç®€å•è®°å½•ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2 id=&#34;å†™åœ¨å‰é¢&#34;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;

&lt;p&gt;æˆ‘è‡ªå·±ç”¨å¾—æ¯”è¾ƒå¤šçš„ä¸¤ä¸ªè¯­è¨€æ˜¯C++å’ŒPythonï¼Œçˆ¬è™«æ˜¯å»å¹´äº”ä¸€å‡æœŸç®€å•å…¥é—¨çš„ï¼Œåˆ°ç°åœ¨åˆšå¥½è¿‡äº†ä¸€å¹´ã€‚è¿™ä¸€å¹´é‡Œé¢ä¹Ÿå†™äº†ç‚¹å°çš„çˆ¬è™«è„šæœ¬ï¼Œæ¯”å¦‚æŸ¥è¯¢å›¾ä¹¦é¦†æŸæœ¬ä¹¦çš„å€Ÿé˜…çŠ¶æ€ã€å­¦æ ¡å®˜ç½‘ä¿¡æ¯çš„æ”¶é›†ã€‚ä¹‹å‰è®¿é—®çš„ç½‘ç«™éƒ½æ˜¯åè€çš„ç½‘ç«™ï¼Œç•Œé¢éƒ½æ˜¯ä¸€äº›é™æ€ç•Œé¢ï¼Œä¸éœ€è¦åŠ¨æ€åŠ è½½ï¼Œä¸€èˆ¬éƒ½æ˜¯ç®€å•è®¿é—®é¡µé¢ä¹‹åè§£ææ•°æ®å°±èƒ½è·å¾—æƒ³è¦çš„ä¿¡æ¯ã€‚ä½†æ˜¯leetcodeç½‘é¡µçš„åŠ è½½æ–¹å¼è·Ÿä¹‹å‰é‚£äº›ç½‘ç«™ä¸ä¸€æ ·ï¼Œå®ƒçš„ç»å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯åŠ¨æ€åŠ è½½å‡ºæ¥çš„ï¼Œé¦–æ¬¡è¯·æ±‚åªä¼šè¿”å›ä¸€ä¸ªåŸºæœ¬çš„ç½‘é¡µæ¨¡æ¿ï¼Œä¹‹åä¼šè‡ªåŠ¨å‘èµ·ï¼ˆæˆ–è€…ç”¨æˆ·è°ƒç”¨ï¼‰è¯·æ±‚è·å¾—é¡µé¢æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;æœ€è¿‘æˆ‘ä¹Ÿåœ¨åšæˆ‘çš„SRDPé¡¹ç›®ï¼Œå¯¹ç½‘ç«™çš„åŸºæœ¬çŸ¥è¯†ä¹Ÿæœ‰äº†ä¸€å®šçš„äº†è§£ï¼ŒæŒ‰ç…§ç°åœ¨çš„å‘å±•è¶‹åŠ¿ï¼ŒåƒLeetcodeè¿™æ ·çš„ç½‘ç«™æ„å»ºæ–¹å¼ä¼šé€æ¸æˆä¸ºä¸»æµï¼Œå‰åç«¯åˆ†ç¦»ã€æ•°æ®åŠ¨æ€åŠ è½½ï¼Œè¿™æ ·åç»­è·¨å¹³å°åˆ¶ä½œå®¢æˆ·ç«¯æˆ–è€…å°ç¨‹åºä¼šéå¸¸æ–¹ä¾¿ã€‚æ‰€ä»¥åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ¬¡Leetcodeçˆ¬å–æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹å…¶ä»–äººçš„ä¸€ç¯‡æ–‡ç« ï¼š&lt;a href=&#34;https://www.jianshu.com/p/199881dc86e2&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Pythonçˆ¬å– LeetCode é¢˜ç›®åŠ AC ä»£ç &lt;/a&gt;ï¼Œä»è¿™ç¯‡æ–‡ç« å½“ä¸­æˆ‘æ¥è§¦åˆ°äº†ä¸€äº›æ–°çš„çŸ¥è¯†ï¼Œä¹Ÿå‚è€ƒäº†åŸæ–‡ç« ä¸­çš„ä¸€äº›ä»£ç ã€‚ä½†æœ‰ä¸€ç‚¹ï¼Œç°åœ¨leetcodeçš„ç™»é™†æ–¹å¼å‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ‘ä¸ç¡®å®šè¿™ç¯‡æ–‡ç« é‡Œé¢çš„ä»£ç æ˜¯å¦å¯ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬çŸ¥è¯†&#34;&gt;åŸºæœ¬çŸ¥è¯†&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆè¦çŸ¥é“ï¼Œç½‘é¡µçš„åŠ¨æ€åŠ è½½æ–¹å¼æ˜¯é€šè¿‡AjaxæŠ€æœ¯å®ç°çš„ï¼Œå…³äºè¿™é¡¹æŠ€æœ¯å…·ä½“çš„æ“ä½œæˆ‘ä»¬å¯ä»¥æš‚æ—¶ä¸ç”¨äº†è§£ï¼Œä½†éœ€è¦çŸ¥é“ä¸‹é¢è¿™ç‚¹ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Ajaxåœ¨å·¥ä½œçš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªXHRï¼ˆæˆ–æ˜¯Fetchï¼‰å¯¹è±¡ï¼Œç„¶ååˆ©ç”¨XHRå¯¹è±¡æ¥å®ç°æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚åœ¨è¿™é‡Œï¼ŒXHRå’ŒFetchå¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåªæ˜¯Fetchå‡ºç°å¾—æ¯”XHRæ›´æ™šä¸€äº›ï¼Œæ‰€ä»¥å¯¹ä¸€äº›å¼€å‘äººå‘˜æ¥è¯´ä¼šæ›´å¥½ç”¨ï¼Œä½†ä½œç”¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é€šè¿‡æµè§ˆå™¨è‡ªå¸¦çš„&lt;code&gt;å³é”®-&amp;gt;æ£€æŸ¥-&amp;gt;network&lt;/code&gt;ï¼Œå¯ä»¥çŸ¥é“ç½‘é¡µçš„è¯·æ±‚è¿‡ç¨‹ï¼Œé€‰æ‹©&lt;code&gt;XHR&lt;/code&gt;ä¾¿èƒ½çœ‹åˆ°æ‰€æœ‰çš„åŠ¨æ€åŠ è½½ä¿¡æ¯ï¼Œåˆ†æåŠ è½½è¿‡ç¨‹ã€‚ä¸‹é¢å°±æ˜¯leetcodeé¦–é¡µçš„æƒ…å†µï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/leetcode-spider/20200502151203.png&#34; alt=&#34;leetcodeé¦–é¡µ&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å¼€æ¯æ¡å†…å®¹å¯ä»¥çœ‹åˆ°å…·ä½“ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹å…¶å¯¹åº”çš„å“åº”å†…å®¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;é—®é¢˜é¡µé¢åˆ†æ&#34;&gt;é—®é¢˜é¡µé¢åˆ†æ&lt;/h2&gt;

&lt;p&gt;è®¿é—®&lt;a href=&#34;https://leetcode-cn.com/problemset/all/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;é—®é¢˜åˆ—è¡¨&lt;/a&gt;ï¼ˆä¸éœ€è¦ç™»é™†ï¼‰ï¼Œå†éšä¾¿æ‰“å¼€ä¸€ä¸ªé—®é¢˜é¡µé¢ï¼Œé‡å¤ä¸Šé¢æåˆ°çš„æ£€æŸ¥è¿‡ç¨‹ï¼Œå¯¹å¾—åˆ°çš„æ‰€æœ‰XHRå¯¹è±¡è¿›è¡Œæ£€ç´¢ï¼Œå¯ä»¥å‘ç°åœ¨æŸä¸ªè¯·æ±‚é‡Œé¢å«æœ‰é¢˜ç›®ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/leetcode-spider/20200502152530.png&#34; alt=&#34;å…·ä½“æŸ¥çœ‹ä½ç½®&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥æ£€æŸ¥è¿™ä¸ªè¯·æ±‚çš„å…¶ä»–ä¿¡æ¯ï¼Œå¯ä»¥å‘ç°è¿™æ˜¯ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œè¯·æ±‚å¤´å½“ä¸­æœ‰å¾ˆç‰¹æ®Šçš„ä¸€é¡¹&lt;code&gt;Request Payload&lt;/code&gt;ï¼Œç‚¹å¼€å¯ä»¥çœ‹åˆ°å¾ˆå¤šä¿¡æ¯ã€‚åœ¨å·¦è¾¹ä¹Ÿèƒ½çœ‹åˆ°XHRç±»å‹çš„è¯·æ±‚åå­—éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåœ¨åˆ†æå†…å®¹çš„æ—¶å€™ï¼Œæˆ‘å°±å¾ˆå¥½å¥‡è¿™äº›è¯·æ±‚çš„åå­—ä¸ºä»€ä¹ˆéƒ½æ˜¯&lt;code&gt;graphql&lt;/code&gt;ï¼Œäºæ˜¯å°±æœäº†ä¸€ä¸‹ï¼Œgetåˆ°äº†ä¸€ä¸ªæ–°çš„çŸ¥è¯†ç‚¹ã€‚(æˆ‘å¾ˆåº†å¹¸å½“æ—¶ç›´æ¥æœç´¢äº†ï¼Œçœäº†å¾ˆå¤šéº»çƒ¦)&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;GraphQL æ˜¯ä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€ï¼Œæ˜¯ç”± Facebook å¼€æºçš„ä¸€ç§ç”¨äºæä¾›æ•°æ®æŸ¥è¯¢æœåŠ¡çš„æŠ½è±¡æ¡†æ¶ã€‚åœ¨æœåŠ¡ç«¯ API å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™å®šä¹‰ä¸€ä¸ªæ¥å£è¿”å›çš„æ•°æ®ç›¸å¯¹å›ºå®šï¼Œå› æ­¤è¦è·å¾—æ›´å¤šä¿¡æ¯æˆ–è€…åªæƒ³å¾—åˆ°æŸéƒ¨åˆ†ä¿¡æ¯æ—¶ï¼ŒåŸºäº RESTful API çš„æ¥å£å°±æ˜¾å¾—ä¸é‚£ä¹ˆçµæ´»ã€‚è€Œ GraphQL å¯¹ API ä¸­çš„æ•°æ®æä¾›äº†ä¸€å¥—æ˜“äºç†è§£çš„å®Œæ•´æè¿°ï¼Œä½¿å¾—å®¢æˆ·ç«¯èƒ½å¤Ÿå‡†ç¡®åœ°è·å¾—å®ƒéœ€è¦çš„æ•°æ®ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å†—ä½™ï¼Œä¹Ÿè®© API æ›´å®¹æ˜“åœ°éšç€æ—¶é—´æ¨ç§»è€Œæ¼”è¿›ï¼Œè¿˜èƒ½ç”¨äºæ„å»ºå¼ºå¤§çš„å¼€å‘è€…å·¥å…·ã€‚&lt;br /&gt;
æ¥æºï¼š&lt;a href=&#34;https://blog.csdn.net/qq_42564846/article/details/81127469&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;ä»¥LeetCodeä¸ºä¾‹â€”â€”å¦‚ä½•å‘é€GraphQL Queryè·å–æ•°æ®&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœç´¢è¿‡ç¨‹ä¸­ä¹Ÿå‘ç°äº†åˆ«äººæ˜¯å¦‚ä½•æäº¤è¿™ä»½ä¿¡æ¯çš„ï¼Œå®ç°è¿‡ç¨‹è·Ÿæ™®é€šçš„è¯·æ±‚æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œåªè¦æŠŠæŸ¥è¯¢å‚æ•°å°è£…å¥½ä¼ é€’è¿‡å»å°±å¯ä»¥äº†ï¼Œå®ç°çš„æ—¶å€™æˆ‘å‚è€ƒäº†å¼€å§‹é‚£ç¯‡æ–‡ç« é‡Œé¢çš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œè®²ä¸€ç‚¹é¢˜å¤–è¯ï¼Œåœ¨åé¢çš„åˆ†æä¸­ï¼Œæˆ‘å‘ç°Leetcodeçš„ç»å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼è·å–çš„ï¼Œç”šè‡³ç™»é™†éƒ½æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å°†ç”¨æˆ·åå¯†ç ä¼ é€’åˆ°æœåŠ¡å™¨ï¼Œå†è®¾ç½®å¸¦æœ‰ç”¨æˆ·ä¿¡æ¯çš„cookieã€‚å› ä¸ºè¿™ç‚¹ï¼Œæˆ‘æ€€ç–‘ä¹‹å‰å‚è€ƒçš„é‚£ä»½ç®€ä¹¦çš„æ–‡ç« é‡Œé¢çš„ä»£ç åº”è¯¥ä¸å†é€‚ç”¨äº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å…·ä½“å®ç°&#34;&gt;å…·ä½“å®ç°&lt;/h2&gt;

&lt;p&gt;æ•´ä½“æ¥è¯´æ²¡æœ‰å¤ªå¤šå¤æ‚çš„åœ°æ–¹ï¼Œéœ€è¦æ³¨æ„çš„æœ‰ä¸¤ç‚¹ã€‚ç¬¬ä¸€æ˜¯graphqlçš„æŸ¥è¯¢å†…å®¹çš„æ ¼å¼åœ¨å°è£…çš„æ—¶å€™è¦æ³¨æ„ä¿è¯æ ¼å¼çš„æ­£ç¡®ï¼Œå› ä¸ºæŸ¥è¯¢ä»£ç çš„ç¼©è¿›å¾ˆé‡è¦ã€‚&lt;/p&gt;

&lt;p&gt;ç½‘é¡µä¸Šç›´æ¥å¤åˆ¶æ¥çš„ä¿¡æ¯åªæœ‰ä¸€è¡Œï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œç¨å¾®çš„å¤„ç†ï¼Œæ›¿æ¢æ‰ä¸å¿…è¦çš„æ¢è¡Œç¬¦ï¼Œä»£ç çš„ç¼©è¿›ä¹Ÿè¦æ³¨æ„ã€‚æˆ‘ç›´æ¥åœ¨VSCodeä¸Šå®‰è£…äº†ä¸€ä¸ªæ’ä»¶ï¼Œå¯¹æŸ¥è¯¢ä»£ç è¿›è¡Œäº†æ ¼å¼åŒ–ï¼Œä¸‹é¢æ˜¯æˆ‘å¤„ç†åçš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°æ­£å¸¸çš„æŸ¥è¯¢å†…å®¹è¿˜æ˜¯å¾ˆå¤šçš„ã€‚ä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„æŠŠ&lt;code&gt;variables: {titleSlug: &amp;quot;merge-two-sorted-lists&amp;quot;}&lt;/code&gt;è¿™ä¸€è¡Œçš„titleSlugå˜é‡å€¼æ¢æˆæƒ³è¦æŸ¥è¯¢çš„é¢˜ç›®ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-gql&#34;&gt;{
  operationName: &amp;quot;questionData&amp;quot;
  query: &amp;quot;query questionData($titleSlug: String!) {
  question(titleSlug: $titleSlug) {
    questionId
    questionFrontendId
    boundTopicId
    title
    titleSlug
    content
    translatedTitle
    translatedContent
    isPaidOnly
    difficulty
    likes
    dislikes
    isLiked
    similarQuestions
    contributors {
      username
      profileUrl
      avatarUrl
      __typename
    }
    langToValidPlayground
    topicTags {
      name
      slug
      translatedName
      __typename
    }
    companyTagStats
    codeSnippets {
      lang
      langSlug
      code
      __typename
    }
    stats
    hints
    solution {
      id
      canSeeDetail
      __typename
    }
    status
    sampleTestCase
    metaData
    judgerAvailable
    judgeType
    mysqlSchemas
    enableRunCode
    envInfo
    book {
      id
      bookName
      pressName
      source
      shortDescription
      fullDescription
      bookImgUrl
      pressImgUrl
      productUrl
      __typename
    }
    isSubscribed
    isDailyQuestion
    dailyRecordStatus
    editorType
    ugcQuestionId
    __typename
  }
}
&amp;quot;
  variables: {titleSlug: &amp;quot;merge-two-sorted-lists&amp;quot;}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬äºŒç‚¹éœ€è¦æ³¨æ„çš„æ˜¯GraphqlæŸ¥è¯¢çš„çµæ´»åº¦å¾ˆé«˜ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸å¿…è¦çš„æŸ¥è¯¢å†…å®¹å®Œå…¨å¯ä»¥å¿½ç•¥æ‰ï¼Œæˆ‘åœ¨å®ç°çš„æ—¶å€™å°±åªä¿ç•™äº†æˆ‘æƒ³è¦çš„æŸ¥è¯¢ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;import requests, json

def get_problem_content(slug):
    user_agent = &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36&amp;quot;
    session = requests.Session()
    url = &amp;quot;https://leetcode-cn.com/graphql&amp;quot;
    params = {&#39;operationName&#39;: &amp;quot;getQuestionDetail&amp;quot;,
              &#39;variables&#39;: {&#39;titleSlug&#39;: slug},
              &#39;query&#39;: &#39;&#39;&#39;query getQuestionDetail($titleSlug: String!) {
            question(titleSlug: $titleSlug) {
                questionId
                translatedTitle
                translatedContent
            }
        }&#39;&#39;&#39;
    }
    json_data = json.dumps(params).encode(&#39;utf8&#39;)   

    headers = {&#39;User-Agent&#39;: user_agent, &#39;Connection&#39;:
               &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;,
               &#39;Referer&#39;: &#39;https://leetcode-cn.com/problems/&#39; + slug}
    resp = session.post(url, data=json_data, headers=headers, timeout=10)
    resp.encoding = &#39;utf8&#39;
    content = resp.json()

    # é¢˜ç›®è¯¦ç»†ä¿¡æ¯
    print(content)
    question = content[&#39;data&#39;][&#39;question&#39;]
    fh = open(&#39;res.md&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;)
    # fh.writelines(question[&#39;translatedContent&#39;])
    fh.writelines(convert(question[&#39;translatedContent&#39;]))
    fh.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;htmlè½¬åŒ–ä¸ºmarkdown&#34;&gt;htmlè½¬åŒ–ä¸ºMarkdown&lt;/h3&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢çš„å‡½æ•°å¯ä»¥è·å¾—é¢˜ç›®çš„è¯¦ç»†å†…å®¹ï¼Œä½†è¿™ä¸ªå†…å®¹ç»™å‡ºçš„æ–¹å¼æ˜¯htmlä»£ç ï¼Œæˆ‘ä¹‹å‰åœ¨åšç¬”è®°çš„æ—¶å€™éƒ½æ˜¯ç”¨Markdownæ ¼å¼è®°å½•é¢˜ç›®ä¿¡æ¯çš„ï¼Œäºæ˜¯åˆå†™äº†ä¸€ä¸ªå‡½æ•°ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹htmlæ ‡ç­¾è¿›è¡Œäº†ä¿®æ”¹æ›¿æ¢ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;import re

Remove = [
    &amp;quot;&amp;lt;/?p&amp;gt;&amp;quot;
]
Replace = [
    [&amp;quot;&amp;lt;/?code&amp;gt;&amp;quot;, &amp;quot;``&amp;quot;],
    [&amp;quot;&amp;lt;/?strong&amp;gt;&amp;quot;, &amp;quot;**&amp;quot;],
    [&amp;quot;&amp;lt;pre&amp;gt;&amp;quot;, &amp;quot;```\n&amp;quot;],
    [&amp;quot;&amp;lt;/pre&amp;gt;&amp;quot;, &amp;quot;```&amp;quot;],
    [&amp;quot;&amp;amp;nbsp;&amp;quot;, &amp;quot; &amp;quot;],
    [&amp;quot;&amp;amp;quot;&amp;quot;, &#39;&amp;quot;&#39;]
]

def convert(src):
    # preå†…éƒ¨é¢„å¤„ç†
    def remove_label_in_pre(matched):
        tmp = matched.group()
        tmp = re.sub(&amp;quot;&amp;lt;[^&amp;gt;p]*&amp;gt;&amp;quot;, &amp;quot;&amp;quot;, tmp)   # ä¸åŒ¹é…&amp;gt;ä¸p
        return tmp
    src = re.sub(&amp;quot;&amp;lt;pre&amp;gt;[\s\S]*?&amp;lt;/pre&amp;gt;&amp;quot;, remove_label_in_pre, src)   # æ³¨æ„æ­¤å¤„éè´ªå¿ƒåŒ¹é…ï¼Œå› ä¸ºå¯èƒ½æœ‰å¤šä¸ªç¤ºä¾‹

    # å¯ä»¥ç›´æ¥åˆ é™¤çš„æ ‡ç­¾
    for curPattern in Remove:
        src = re.sub(curPattern, &amp;quot;&amp;quot;, src)

    # éœ€è¦æ›¿æ¢å†…å®¹çš„æ ‡ç­¾
    for curPattern, curRepl in Replace:
        src = re.sub(curPattern, curRepl, src)
    return src
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å› ä¸ºé¢˜ç›®å†…å®¹é‡Œé¢çš„æ ‡ç­¾éƒ½æ˜¯è¾…åŠ©æ ‡è®°ç±»çš„æ ‡ç­¾ï¼Œæ‰€ä»¥æ•´ä½“ä¸Šä¸éœ€è¦æœ‰å¾ˆå¤§çš„æ“ä½œã€‚é€šè¿‡åˆ†æå¯ä»¥å‘ç°ï¼Œæœ‰äº›æ ‡ç­¾æ˜¯å¯ä»¥ç›´æ¥å»æ‰çš„ï¼Œæ¯”å¦‚&lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt;æ ‡ç­¾ï¼Œå®ƒæ ‡è®°äº†æ®µè½ï¼Œç›´æ¥åˆ é™¤ä¹‹ååœ¨Markdownå½“ä¸­è§†è§‰æ•ˆæœç›¸åŒã€‚è€Œå¦å¤–å¤§éƒ¨åˆ†æ ‡ç­¾éƒ½éœ€è¦æ›¿æ¢æˆMarkdownä¸­å¯¹åº”çš„æ ‡è¯†ç¬¦ï¼Œæ¯”å¦‚&lt;code&gt;&amp;lt;strong&amp;gt;&lt;/code&gt;æ ‡ç­¾éœ€è¦æ›¿æ¢æˆä¸¤ä¸ªæ˜Ÿå·ã€‚è¿™ä¸¤ç§æ ‡ç­¾éƒ½å¯ä»¥ç›´æ¥ç”¨&lt;code&gt;re.sub&lt;/code&gt;å‡½æ•°è¿›è¡Œæ›¿æ¢ï¼Œéœ€è¦åˆ é™¤çš„æ ‡ç­¾å¯ä»¥ç›´æ¥æ›¿æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå…¶ä»–æ ‡ç­¾æ›¿æ¢ä¸ºå¯¹åº”çš„æ ‡è¯†ç¬¦ã€‚&lt;/p&gt;

&lt;p&gt;å®ç°è¿‡ç¨‹ä¸­æˆ‘å‘ç°&lt;code&gt;&amp;lt;pre&amp;gt;&lt;/code&gt;æ ‡ç­¾å†…éƒ¨çš„æ ‡ç­¾ä¸èƒ½åšç®€å•çš„å¤„ç†ï¼Œå› ä¸ºåœ¨ä¸€èˆ¬çš„Markdownè¯­æ³•å½“ä¸­ï¼Œä»£ç å—å½“ä¸­çš„å†…å®¹æ˜¯ä¸ä¼šæœ‰åŠ ç²—ã€æ–œä½“ä¹‹ç±»çš„ç‰¹æ®Šæ ‡è®°çš„ï¼Œæ‰€ä»¥åœ¨å¯¹åŠ ç²—ã€æ–œä½“ç­‰æ ‡ç­¾è¿›è¡Œæ›¿æ¢æ—¶ï¼Œéœ€è¦æå‰åšå¤„ç†ï¼ŒæŠŠä»£ç å—é‡Œé¢æ‰€æœ‰çš„æ ‡ç­¾éƒ½åˆ æ‰ã€‚æˆ‘åœ¨å®ç°çš„æ—¶å€™ä½¿ç”¨äº†&lt;code&gt;re.sub&lt;/code&gt;å‡½æ•°çš„é«˜çº§ç”¨æ³•ï¼Œæ›¿æ¢å­—ç¬¦ä¸²æ›´æ”¹ä¸ºäº†å‡½æ•°ï¼Œå…·ä½“çš„å†…å®¹å¯ä»¥è‡ªè¡Œç™¾åº¦ç†è§£ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»–&lt;/h2&gt;

&lt;p&gt;å¯¹äºæˆ‘æ¥è¯´ï¼Œåšåˆ°è¿™äº›åŸºæœ¬å·²ç»è¶³å¤Ÿäº†ï¼Œæ¥ä¸‹æ¥å¯èƒ½ä¼šè®©ä»£ç è®¿é—®å‰ªåˆ‡æ¿ç›´æ¥æŠŠé¢˜ç›®ä¿¡æ¯è®¾ç½®åˆ°å‰ªåˆ‡æ¿å½“ä¸­ï¼Œç»“åˆutoolsæ–¹ä¾¿è‡ªå·±çš„æ“ä½œã€‚å…³äºç”¨æˆ·ç™»é™†è¿™é‡Œä¹Ÿæœ‰ä¸€ç‚¹å°çš„æƒ³æ³•ï¼Œå®ç°è¿‡ç¨‹éœ€è¦åˆ›å»ºä¸€ä¸ªsessionï¼Œæ‰¾åˆ°å¹¶æ„é€ ç™»é™†ç”¨æˆ·çš„&lt;code&gt;Graphql&lt;/code&gt;è¯­å¥å‘èµ·è¯·æ±‚ï¼Œè·å¾—cookieï¼Œç„¶åè¿›è¡Œå…¶ä»–çš„æŸ¥è¯¢æ“ä½œã€‚æˆ‘æš‚æ—¶æ²¡æœ‰ç›¸å…³çš„éœ€è¦ï¼Œå°±ä¸ä½œè¿›ä¸€æ­¥çš„æ¢ç´¢äº†ã€‚ğŸ¤”&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ç”¨å¼‚æˆ–æ‰¾åˆ°æ•°ç»„ä¸­ä¸é‡å¤å‡ºç°çš„æ•°å­—</title>
      <link>https://wanakiki.github.io/2020/xor/</link>
      <pubDate>Thu, 30 Apr 2020 10:51:11 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/xor/</guid>
      <description>

&lt;p&gt;æ‰¾ä¸€ä¸ªæ•°å¾ˆç®€å•ï¼Œä½†æ‰¾ä¸¤ä¸ªæ•°å‘¢ï¼Ÿ&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;æœ€è¿‘åšleetcodeä¸Šé¢çš„é¢˜ç›®çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ª&lt;a href=&#34;https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;é¢è¯•é¢˜&lt;/a&gt;ï¼Œéœ€è¦æ‰¾åˆ°æ•°ç»„ä¸­ä¸¤ä¸ªåªå‡ºç°è¿‡ä¸€æ¬¡çš„æ•°ï¼ˆå…¶ä½™æ•°å‡å‡ºç°è¿‡ä¸¤æ¬¡ï¼‰ï¼Œæ„Ÿè§‰å¾ˆæœ‰æ„æ€ï¼Œç®€å•è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬çŸ¥è¯†&#34;&gt;åŸºæœ¬çŸ¥è¯†&lt;/h2&gt;

&lt;p&gt;å¼‚æˆ–ï¼ˆ&lt;code&gt;xor&lt;/code&gt;ï¼‰æ˜¯ä¸€ç§éå¸¸å¸¸è§çš„ä½è¿ç®—ï¼Œå…¶è®¡ç®—ç‰¹ç‚¹æ˜¯â€œç›¸åŒä¸º0ï¼Œä¸åŒä¸º1â€ï¼Œè®¡ç®—ç¬¦å·æ˜¯âŠ•ï¼Œæœ‰æ—¶ä¹Ÿç”¨&lt;code&gt;a^b&lt;/code&gt;è¡¨ç¤ºã€‚ä¸€èˆ¬ä½¿ç”¨å¼‚æˆ–æ—¶ä¼šç”¨åˆ°ä¸‹é¢çš„è§„å¾‹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ä»»ä½•æ•°å’Œæœ¬èº«çš„å¼‚æˆ–ä¸º0&lt;/li&gt;
&lt;li&gt;ä»»ä½•æ•°ä¸0çš„å¼‚æˆ–ç»“æœæ˜¯è‡ªèº«&lt;/li&gt;
&lt;li&gt;å¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹ï¼Œ&lt;code&gt;a^b^c = c^b^a&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æœ‰äº†è¿™äº›åŸºæœ¬æ¦‚å¿µä¹‹åå°±èƒ½å°è¯•å»è§£å†³è¿™ä¸ªé¢˜ç›®äº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ±‚è§£æ€è·¯&#34;&gt;æ±‚è§£æ€è·¯&lt;/h2&gt;

&lt;p&gt;å…³äºå¦‚ä½•ç”¨å¼‚æˆ–æŸ¥æ‰¾åˆ°æ•°ç»„ä¸­å”¯ä¸€å‡ºç°çš„æ•°å­—ï¼ˆå…¶ä»–æ•°å­—å‡å‡ºç°è¿‡ä¸¤æ¬¡ï¼‰ï¼Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„è§£æ³•ï¼šè®¾ç½®åˆå§‹å€¼ä¸º0ï¼Œç„¶åå°†è¿™ä¸ªå€¼ä¸æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯å”¯ä¸€å‡ºç°çš„æ•°å­—ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°è¿™ä¸ªé¢˜ç›®ï¼Œæœ€å¼€å§‹æƒ³åˆ°çš„åšæ³•æ˜¯äº¦æˆ–ï¼Œä½†ä»”ç»†è€ƒè™‘ä¹‹åå‘ç°ç”±äºæœ‰ä¸¤ä¸ªæ•°å­—éƒ½åªå‡ºç°äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œå¼‚æˆ–çš„æœ€ç»ˆç»“æœæ˜¯ä¸¤ä¸ªåªå‡ºç°è¿‡ä¸€æ¬¡çš„æ•°çš„å¼‚æˆ–ã€‚å¾ˆæ˜æ˜¾è¿™æ ·ä¸èƒ½è§£å†³é—®é¢˜ï¼Œä½†å¦‚æœèƒ½å¤ŸæŠŠæ•´ä¸ªæ•°ç»„åˆ’åˆ†ä¸ºä¸¤ç»„ï¼Œç¡®ä¿ä¸¤ä¸ªåªå‡ºç°è¿‡ä¸€æ¬¡çš„æ•°ä¸åœ¨åŒä¸€ç»„å†…ï¼Œå¹¶ä¸”ç›¸åŒçš„æ•°ä¸€å®šåœ¨åŒä¸€ç»„å½“ä¸­è¿™ä¸€æ¡ä»¶ï¼Œå¯¹ä¸¤ç»„å†…å®¹å„è¿›è¡Œä¸€æ¬¡å¼‚æˆ–ä¾¿èƒ½å¾—åˆ°æœ€ç»ˆçš„ç»“æœã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯æ€ä¹ˆåˆ’åˆ†å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå·§å¦™çš„åšæ³•ï¼Œç”±äºä¸ç›¸ç­‰çš„ä¸¤ä¸ªæ•°è¿›è¡Œå¼‚æˆ–ä¹‹åä¸€å®šæœ‰ä¸€ä½çš„å€¼ä¸º1ï¼Œå¯ä»¥é€šè¿‡è¿™ç‚¹å°†æ‰€æœ‰æ•°æ®åˆ’åˆ†ä¸ºä¸¤ç»„ï¼šå¯¹æ•´ä¸ªæ•°ç»„çš„æ•°æ®è¿›è¡Œåˆ¤æ–­ï¼Œå°†è¯¥ä½ä¸º0çš„æ•°æ®åˆ†åˆ°ä¸€ç»„ï¼Œè¯¥ä½ä¸º1çš„æ•°æ®åˆ†åˆ°ä¸€ç»„ã€‚è¿™æ ·ä¾¿èƒ½æ»¡è¶³ç›¸åŒçš„æ•°éƒ½ä¼šè¢«åˆ†åœ¨ä¸€ç»„å½“ä¸­ï¼Œä¸¤ä¸ªåªå‡ºç°è¿‡ä¸€æ¬¡çš„æ•°ä¹Ÿä¼šè¢«åˆ†åˆ°ä¸åŒçš„ä¸¤ç»„å½“ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä»£ç å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸éœ€è¦æ˜¾å¼çš„åˆ†ç»„ï¼Œåªè¦å¯¹æŒ‡å®šä½è¿›è¡Œåˆ¤æ–­ï¼Œåˆ†åˆ«ä¸ä¸¤ä¸ªä¸åŒçš„æ•°è¿›è¡Œå¼‚æˆ–å³å¯ã€‚å¦å¤–æ‰¾åˆ°äºŒè¿›åˆ¶ä¸­ä¸º1çš„æŸä¸€ä½å¯ä»¥é€šè¿‡å°†1é€æ­¥å·¦ç§»çš„æ–¹å¼å®ç°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-cpp&#34;&gt;class Solution {
public:
    vector&amp;lt;int&amp;gt; singleNumbers(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        int tmp = 0;
        for(int i = 0; i &amp;lt; nums.size(); i++){
            tmp ^= nums[i];
        }

        // æ‰¾åˆ°å€¼ä¸º1çš„äºŒè¿›åˆ¶ä½
        int index = 1;
        while(!(tmp&amp;amp;index)){
            index &amp;lt;&amp;lt;= 1;
        }

        int num1 = 0, num2 = 0;
        for(int i = 0; i &amp;lt; nums.size(); i++){
            if(nums[i] &amp;amp; index){
                num1 ^= nums[i];
            }
            else{
                num2 ^= nums[i];
            }
        }
        return vector&amp;lt;int&amp;gt;{num1, num2};
    }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»–&lt;/h2&gt;

&lt;p&gt;åœ¨è¿™ä¸ªé¢˜ç›®çš„é¢˜è§£åŒºçœ‹åˆ°äº†åˆ«äººæ€»ç»“çš„åŠ›æ‰£ä½è¿ç®—é¢˜ç›®ï¼š136ã€137ã€260ã€645ï¼Œæ„Ÿå…´è¶£å¯ä»¥æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Flutter è¯å…¸APP</title>
      <link>https://wanakiki.github.io/2020/special-dictionary/</link>
      <pubDate>Tue, 21 Apr 2020 09:43:32 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/special-dictionary/</guid>
      <description>

&lt;p&gt;å¯¹è‡ªå·±å†™çš„flutter APPçš„ç®€å•è®°å½•ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;æ€•è‡ªå·±å¿˜äº†ä¹‹å‰çœ‹è¿‡çš„flutteræ•™ç¨‹ï¼Œæ‰€ä»¥è¶å‘¨æœ«å†™äº†è¿™ä¸ªAPPï¼ŒåŠŸèƒ½å¾ˆç®€å•ï¼Œæ¶‰åŠåˆ°çš„éƒ½æ˜¯åŸºæœ¬çŸ¥è¯†ï¼Œå†™çš„æ—¶å€™ç¨å¾®èŠ±äº†ç‚¹æ—¶é—´å­¦ä¹ æ•°æ®åº“å’Œæ–‡ä»¶è¯»å†™ã€‚ç•Œé¢ä¸æ€ä¹ˆæ¼‚äº®ï¼Œè¿‡æ¸¡åŠ¨ç”»ä¹‹ç±»çš„è¿˜æ²¡æœ‰äº†è§£è¿‡ï¼Œflutterçš„å‘è¦å¾ˆä¹…æ‰èƒ½å¡«ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV19f4y1U7bH/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;æ¼”ç¤ºè§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;èƒŒæ™¯åŠå¤§ä½“è®¾è®¡&#34;&gt;èƒŒæ™¯åŠå¤§ä½“è®¾è®¡&lt;/h3&gt;

&lt;p&gt;å› ä¸ºå¾ˆä¹…ä¹‹å‰ç”¨ã€Šå•è¯åŸå ¡ã€‹APPèƒŒå•è¯çš„æ—¶å€™ï¼Œé‡Œé¢æœ‰ä¸€é¡¹å†…å®¹è¦æ±‚ç”¨æˆ·æŠŠä¹±åºå•è¯æ’åºï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•æç¤ºï¼Œåšèµ·æ¥å¾ˆåƒåŠ›ï¼Œäºæ˜¯åœ¨æµ·ç§‘å±•å½“å¿—æ„¿è€…çš„æ—¶å€™è¶ç€ç©ºé—²æ—¶é—´å†™äº†ä¸€ä¸ªpythonç‰ˆçš„æŸ¥ä¹±åºå•è¯çš„è„šæœ¬ã€‚è„šæœ¬çš„å®ç°æ€è·¯å¾ˆç®€å•ï¼Œå°±æ˜¯å¯¹ç”¨æˆ·è¾“å…¥çš„å­—æ¯è¿›è¡Œå…¨æ’åˆ—ï¼Œå¯¹æ¯ç§å¯èƒ½çš„æƒ…å†µåœ¨jsonæ–‡ä»¶ä¸­æŸ¥æ‰¾å¯¹åº”çš„æ±‰è¯­ï¼ˆjsonæ–‡ä»¶æ˜¯åœ¨Githubä¸Šæ‰¾åˆ°çš„ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¹‹åä¸€æ®µæ—¶é—´éƒ½æŠŠè„šæœ¬ä¸‹è½½åˆ°æ‰‹æœºä¸Šï¼Œç”¨termuxæ‰§è¡Œè¿›è¡ŒæŸ¥æ‰¾ï¼Œä½†æ˜¯è¿™æ ·æ¯æ¬¡æŸ¥ä¸€ä¸ªå•è¯éƒ½è¦æ‰“å¼€termuxç„¶åè¾“å…¥å‘½ä»¤ï¼Œç”¨æˆ·ä½“éªŒä¸æ˜¯å¾ˆå¥½ï¼Œæ…¢æ…¢å°±æœ‰äº†ç›´æ¥å†™ä¸€ä¸ªAPPçš„æƒ³æ³•ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å­¦ä¹ flutterçš„åŸå› ä¹‹ä¸€ã€‚ä¹‹ååœ¨å¯’å‡ç”¨äº†ä¸¤å‘¨çš„æ—¶é—´æŠŠåŸºæœ¬æ•™ç¨‹çœ‹äº†ä¸€éï¼Œå¼€å­¦åå‘ç°æœ‰ä¸€å †äº‹æƒ…ç­‰ç€æˆ‘å»åšï¼Œæš‚æ—¶æ²¡æ—¶é—´å¯¹flutterè¿›ä¸€æ­¥ç ”ç©¶ï¼Œäºæ˜¯è¶ç€å‘¨å…­çš„ç©ºé—²ç”¨äº†ä¸€å¤©çš„æ—¶é—´æŠŠAPPå†™äº†å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰ä¸‰ä¸ªç•Œé¢ï¼Œåˆ†åˆ«æ˜¯è”ç½‘æŸ¥è¯¢ç•Œé¢ã€æœ¬åœ°jsonæŸ¥è¯¢ç•Œé¢ã€æ”¶è—å±•ç¤ºç•Œé¢ã€‚ä¸ºäº†ç®€å•ç›´æ¥ä½¿ç”¨ä¸€ä¸ª&lt;code&gt;BottomNavigationBar&lt;/code&gt;å¤„ç†ï¼Œä¸éœ€è¦å¾ˆå¤æ‚çš„è·¯ç”±ã€‚å¦å¤–æœ¬åœ°æŸ¥è¯¢çš„ç»“æœå¸¦æœ‰æ”¶è—é€‰é¡¹ï¼Œå‹¾é€‰åèƒ½åœ¨æ”¶è—å±•ç¤ºç•Œé¢æŸ¥çœ‹ã€‚&lt;/p&gt;

&lt;h3 id=&#34;è¿‡ç¨‹æ¦‚è¿°&#34;&gt;è¿‡ç¨‹æ¦‚è¿°&lt;/h3&gt;

&lt;p&gt;é¦–å…ˆåˆ›å»ºé¡¹ç›®ï¼Œæˆ‘ä½¿ç”¨çš„ç¼–è¾‘å™¨æ˜¯VSCodeï¼Œå®‰è£…ç›¸å…³æ’ä»¶ä¹‹åå¯¹flutterçš„æ”¯æŒå¾ˆå‹å¥½ï¼Œå› ä¸ºç”µè„‘æ€§èƒ½æœ‰é™ä¾¿ç”¨è‡ªå·±çš„æ‰‹æœºè¿›è¡Œç›¸å…³è°ƒè¯•ã€‚åœ¨VSCodeä¸­åˆ›å»ºé¡¹ç›®å¾ˆç®€å•ï¼ŒæŒ‰ä¸‹&lt;code&gt;Ctrl+Shift+P&lt;/code&gt;æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥flutterä¹‹åé€‰æ‹©&lt;code&gt;Flutter: New Project&lt;/code&gt;ï¼Œè¾“å…¥é¡¹ç›®ååæŒ‰ä¸‹å›è½¦ï¼Œä¹‹åé€‰æ‹©é¡¹ç›®ä½ç½®ï¼Œé¡¹ç›®ä¾¿ä¼šè‡ªåŠ¨åˆ›å»ºã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆå†™å‡ºæ¥å…·ä½“çš„ç¨‹åºæ¡†æ¶ï¼Œå®ç°ä¸‰ä¸ªç©ºç™½çš„é¡µé¢ï¼Œä¹‹åå†å¯¹æ¯ä¸ªé¡µé¢è¿›è¡Œè¡¥å……ã€‚&lt;/p&gt;

&lt;h4 id=&#34;è”ç½‘æŸ¥è¯¢&#34;&gt;è”ç½‘æŸ¥è¯¢&lt;/h4&gt;

&lt;p&gt;è”ç½‘æŸ¥è¯¢ç•Œé¢æœ¬æ¥è®¡åˆ’è°ƒç”¨ç™¾åº¦çš„APIï¼Œä½†æ˜¯å‘ç°dartæœ‰å·²ç»å°è£…å¥½çš„&lt;a href=&#34;https://pub.flutter-io.cn/packages/translator#-example-tab&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;ç¬¬ä¸‰æ–¹åº“&lt;/a&gt;ï¼Œä»»åŠ¡å¾—åˆ°äº†ç®€åŒ–ï¼Œã€‚ç¤ºä¾‹ä¸­æœ‰å¤šç§è¯­è¨€çš„ç›¸äº’ç¿»è¯‘ï¼Œæˆ‘åªç®€å•å®ç°äº†ä¸­è¯‘è‹±ï¼Œä»£ç å¾ˆç®€å•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;String _inputWords, _res;   // è¾“å…¥å•è¯ ç¿»è¯‘ç»“æœ
  
// å¼‚æ­¥è·å–å•è¯ç¿»è¯‘ç»“æœ
void _getRes() async{
  final translator = GoogleTranslator();
  translator.baseUrl = &amp;quot;https://translate.google.cntranslate_a/single&amp;quot;;
  var res = await translator.translate(_inputWords, to:&#39;zh-cn&#39;);
  setState(() {
    _res = res;
  });
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨&lt;code&gt;TextField&lt;/code&gt;è·å–ç”¨æˆ·è¾“å…¥ï¼Œä¹‹åç”¨ä¸€ä¸ªæŒ‰é’®è§¦å‘ä¸Šé¢çš„å¼‚æ­¥è¿‡ç¨‹å°±èƒ½è·å¾—ç¿»è¯‘ç»“æœå¹¶å¯¹ç›¸åº”éƒ¨ä»¶è¿›è¡Œé‡ç»˜ã€‚&lt;/p&gt;

&lt;h4 id=&#34;æœ¬åœ°æŸ¥è¯¢&#34;&gt;æœ¬åœ°æŸ¥è¯¢&lt;/h4&gt;

&lt;p&gt;å› ä¸ºæˆ‘å·²ç»æœ‰ä¸€ä¸ªç°æˆçš„jsonæ–‡ä»¶ï¼Œåªè¦æŠŠå®ƒè¯»å…¥å†å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡ŒæŸ¥è¯¢å°±èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œç”¨æˆ·è¾“å…¥ã€å­—å…¸æŸ¥è¯¢éƒ½å¾ˆç®€å•ï¼Œå¯¹äºæˆ‘æ¥è¯´æ¯”è¾ƒéš¾çš„ç‚¹æ˜¯å¦‚ä½•è¯»å–jsonèµ„æºã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆè¦æ˜ç™½ä¸€ç‚¹ï¼Œæ‰“åŒ…åˆ°ç¨‹åºå®‰è£…åŒ…ä¸­çš„jsonæ˜¯&lt;code&gt;assets&lt;/code&gt;ï¼Œéœ€è¦åœ¨é¡¹ç›®å½“ä¸­å¯¹å…¶è¿›è¡ŒæŒ‡å®šï¼Œä¹‹åé¡¹ç›®æ„å»ºè¿‡ç¨‹ä¸­ä¼šå°†å…¶æ”¾åˆ°&lt;code&gt;asset bundle&lt;/code&gt;å­˜æ¡£å½“ä¸­ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨è¿è¡Œæ—¶è¿›è¡Œè¯»å–ã€‚&lt;/p&gt;

&lt;p&gt;è¿™è¦ä¸ç”¨æˆ·è®¾å¤‡ä¸­ä¿å­˜çš„æ–‡ä»¶è¿›è¡ŒåŒºåˆ†ï¼Œæˆ‘åœ¨å®ç°çš„æ—¶å€™æœç´¢äº†å¾ˆä¹…flutterå¦‚ä½•è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œç”¨&lt;code&gt;path_provider&lt;/code&gt;æ’ä»¶å®ç°ä¹‹åå´å‘ç°è‡ªå·±æ ¹æœ¬åœ¨é¡¹ç›®é‡Œé¢æ‰¾ä¸åˆ°å¯¹åº”çš„ç›®å½•æ”¾jsonæ–‡ä»¶ï¼Œç™½èŠ±äº†å¾ˆå¤šæ—¶é—´ã€‚å¯¹äºæ¯ä¸ªè®¾å¤‡å½“ä¸­çš„æ–‡ä»¶ï¼Œä¸€å®šè¦å…ˆè¿›è¡Œåˆ›å»ºä¹‹åæ‰èƒ½è¯»å–ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘æ·»åŠ èµ„æºå¹¶è¿›è¡Œè¯»å–çš„è¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;å°†èµ„æºæ”¾åœ¨é¡¹ç›®å½“ä¸­çš„æŸä¸ªæ–‡ä»¶å¤¹å†…ï¼ˆé€šå¸¸æ˜¯assetsæ–‡ä»¶å¤¹ï¼‰ï¼Œä¹‹ååœ¨&lt;code&gt;pubspec.yaml&lt;/code&gt;æ–‡ä»¶å½“ä¸­æ·»åŠ æ–‡ä»¶åŠè·¯å¾„ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;flutter:
  assets:
    - assets/data.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹‹ååœ¨ç¨‹åºå½“ä¸­ä½¿ç”¨&lt;code&gt;DefalutAssetBundle.of()&lt;/code&gt;è·å–èµ„æºï¼Œæˆ‘è¯»å…¥jsonçš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;Future&amp;lt;Map&amp;gt; _loadFile() async{
    String tmp = await DefaultAssetBundle.of(context).loadString(&#39;assets/data.json&#39;);
    return json.decode(tmp);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡å†™&lt;code&gt;initState()&lt;/code&gt;å‡½æ•°ï¼Œåœ¨é‡Œé¢è°ƒç”¨ä¸Šé¢çš„å¼‚æ­¥è¿‡ç¨‹ä¾¿èƒ½å°†jsonæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ã€‚å‡ ä¸ªç›¸å…³é“¾æ¥ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://flutterchina.club/assets-and-images/#%E6%8C%87%E5%AE%9A-assets&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Flutterä¸­æ–‡ç½‘ï¼šåœ¨Flutterä¸­æ·»åŠ èµ„æºå’Œå›¾ç‰‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://flutterchina.club/reading-writing-files/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Flutterä¸­æ–‡ç½‘ï¼šæ–‡ä»¶è¯»å†™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://flutter.dev/docs/cookbook/persistence/reading-writing-files&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Flutterå®˜æ–¹ï¼šæ–‡ä»¶è¯»å†™&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æœ€åç®€å•æä¸€ä¸‹å…¨æ’åˆ—çš„å®ç°æ–¹å¼ï¼šå°†å­—æ¯ä¸åŒ…æ‹¬è‡ªèº«åœ¨å†…çš„æ‰€æœ‰å‰©ä½™å­—æ¯äº¤æ¢é¡ºåºï¼Œç„¶åé€’å½’è°ƒç”¨ï¼Œåˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾è¾“å‡ºã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;void helper(String str, int pos){
    if(pos == str.length){
        print(str);
        return ;
    }
    else{
        for(int i = pos, i &amp;lt; str.length; i++){
            if(str[pos] == str[i] &amp;amp;&amp;amp; pos != i)
                continue;   // ä¸éè‡ªèº«çš„ç›¸åŒå­—æ¯äº¤æ¢æ— æ„ä¹‰
            var tmp = str[i];
            str[i] = str[pos];
            str[pos] = tmp;
            helper(str, pos+1, end);
            tmp = str[i];
            str[i] = str[pos];
            str[pos] = tmp;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æ”¶è—å±•ç¤º-sqliteæ•°æ®åº“&#34;&gt;æ”¶è—å±•ç¤ºï¼ˆSQLiteæ•°æ®åº“)&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªç•Œé¢çš„åŠŸèƒ½æ˜¯å¯¹å·²ç»æ”¶è—è¿‡çš„æ•°æ®è¿›è¡Œå±•ç¤ºï¼Œæ•°æ®çš„ä¿å­˜æ–¹å¼å¯ä»¥æ˜¯jsonæˆ–è€…ä½¿ç”¨æ•°æ®åº“ï¼Œå› ä¸ºæœç´¢ç•Œé¢å·²ç»å®ç°è¿‡æ–‡ä»¶è¯»å†™äº†ï¼ˆè™½ç„¶æœ€åæ²¡ç”¨ä¸Šï¼‰ï¼Œæ‰€ä»¥æœ€ç»ˆæˆ‘ä½¿ç”¨äº†æ•°æ®åº“ä¿å­˜æ•°æ®ã€‚ä»‹ç»ä¹‹å‰å…ˆæ”¾ä¸¤ä¸ªé“¾æ¥ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://flutter.dev/docs/cookbook/persistence/sqlite&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Flutterå®˜æ–¹ï¼šç”¨SQLiteä¿å­˜æ•°æ®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/3995ca566d9b&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;ç®€ä¹¦siraiï¼šFlutteræ•°æ®åº“Sqflite&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿™é‡Œå¼ºæ¨å®˜æ–¹çš„æ•™ç¨‹ï¼Œåªè¦æœ‰ä¸€å®šçš„æ•°æ®åº“åŸºç¡€ï¼ŒæŒ‰ç…§å®˜æ–¹æ•™ç¨‹ä¸€æ­¥æ­¥æ¥ä¼šå¾ˆæ¸…æ¥šçš„äº†è§£å…·ä½“çš„ä½¿ç”¨æ–¹æ³•ã€‚å®˜æ–¹æ•™ç¨‹çš„å”¯ä¸€é—æ†¾æ˜¯æ²¡æœ‰ç»™å‡ºå…·ä½“çš„è°ƒç”¨æ–¹å¼ï¼Œåƒæˆ‘ä¸€æ ·çš„åˆå­¦è€…å¯èƒ½æ²¡åŠæ³•ç›´æ¥æƒ³åˆ°åˆé€‚çš„è§£å†³æ–¹æ³•ã€‚åœ¨å®ç°è¿‡ç¨‹ä¸­æˆ‘æ‰¾åˆ°äº†ä¸Šé¢ç®€ä¹¦çš„æ–‡ç« ï¼Œé‡Œé¢è®²åˆ°äº†é€šè¿‡å°è£…ä¸€ä¸ª&lt;code&gt;SqlManager&lt;/code&gt;ç±»æ¥å®ç°éƒ¨ä»¶ä¸­ç›¸å…³åŠŸèƒ½çš„è°ƒç”¨ã€‚ä¸‹é¢æ˜¯æˆ‘çš„å…·ä½“å®ç°ï¼Œæ•°æ®åº“å¾ˆç®€å•ï¼Œåªæœ‰ä¸€ä¸ªè¡¨ï¼Œè¡¨ä¸­åªæœ‰å•è¯ã€ç¿»è¯‘ä¸¤åˆ—å†…å®¹ã€‚ä¸‹é¢æ˜¯æˆ‘çš„å®ç°ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;import &#39;package:sqflite/sqflite.dart&#39;;
import &#39;dart:async&#39;;
import &#39;package:path/path.dart&#39;;

class MyWord {
  final String word;
  final String translation;

  MyWord({this.word, this.translation});

  Map&amp;lt;String, dynamic&amp;gt; toMap() {
    return {
      &#39;word&#39;: word,
      &#39;translation&#39;: translation,
    };
  }
}

class SqlManager {
  static Database database;

  SqlManager(){
    print(&#39;åˆå§‹åŒ–&#39;);
    init();
  }
  void init() async {
    database = await openDatabase(
      join(await getDatabasesPath(), &amp;quot;english_words.db&amp;quot;),
      onCreate: (db, version) {
        return db.execute(
            &amp;quot;CREATE TABLE words(word TEXT PRIMARY KEY, translation TEXT)&amp;quot;);
      },
      version: 1,
    );
  }
  
  Future&amp;lt;Database&amp;gt; getDatabase() async{
    if(database == null){
      await init();
    }
    return database;
  }

  // æ’å…¥å•è¯
  Future&amp;lt;void&amp;gt; insertWord(MyWord word) async {
    print(&#39;æ’å…¥&#39;);
    final Database db = await getDatabase();
    await db.insert(&#39;words&#39;, word.toMap(),
        conflictAlgorithm: ConflictAlgorithm.replace);
  }

  // è·å–æ•°æ®åº“å†…å®¹
  Future&amp;lt;List&amp;lt;MyWord&amp;gt;&amp;gt; words() async {
    final Database db = await getDatabase();
    final List&amp;lt;Map&amp;lt;String, dynamic&amp;gt;&amp;gt; maps = await db.query(&#39;words&#39;);
    return List.generate(maps.length, (index) {
      return MyWord(
          word: maps[index][&#39;word&#39;],
          translation: maps[index][&#39;translation&#39;]);
    });
  }

  // æ£€ç´¢æ˜¯å¦å·²ç»æ”¶è—
  Future&amp;lt;bool&amp;gt; haveStore(String word) async{
    final db = await getDatabase();
    final List&amp;lt;Map&amp;lt;String, dynamic&amp;gt;&amp;gt; maps = await db.query(&amp;quot;words&amp;quot;,where: &amp;quot;word=?&amp;quot;, whereArgs: [word]);
    if(maps == null || maps.length == 0)
      return false;
    else
      return true;
  }

  // æ›´æ–°è®°å½•
  Future&amp;lt;void&amp;gt; updateWord(MyWord record) async {
    final db = await getDatabase();
    await db
        .update(&#39;words&#39;, record.toMap(), where: &amp;quot;word = ?&amp;quot;, whereArgs: [record.word]);
  }

  // åˆ é™¤å•è¯
  Future&amp;lt;void&amp;gt; deleteWordBys(String word) async{
    final db = await getDatabase();
    int res = await db.delete(&#39;words&#39;, where: &amp;quot;word=?&amp;quot;,whereArgs: [word]);
    print(res);
  }
  
  // åˆ é™¤è¡¨
  Future&amp;lt;void&amp;gt; deleteWords()async{
    final db = await getDatabase();
    int res =await db.delete(&#39;words&#39;);
    print(&#39;åˆ é™¤$res&#39;);
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç®€å•æ¦‚æ‹¬ä¸€ä¸‹ï¼Œæƒ³è¦ä½¿ç”¨sqliteæ•°æ®åº“ï¼Œéœ€è¦sqfliteã€asyncã€pathä¸‰ä¸ªåº“ã€‚éœ€è¦å¯¹æ¯ä¸ªè¡¨çš„æ•°æ®ç±»è¿›è¡Œå°è£…ï¼Œè‡³å°‘å†™å‡ºæ„é€ å‡½æ•°å’Œå­—å…¸è½¬åŒ–å‡½æ•°ï¼ˆæ’å…¥æ•°æ®çš„å‚æ•°æ ¼å¼ä¸ºå­—å…¸ï¼‰ï¼Œä¹‹åå°è£…ä¸€ä¸ªSqlManagerç±»ï¼ŒæŠŠè‡ªå·±æƒ³è¦å®ç°çš„åŠŸèƒ½éƒ½å‡†å¤‡å¥½ï¼Œåœ¨éƒ¨ä»¶ä¸­åˆ›å»ºè¯¥ç±»çš„ç¤ºä¾‹ä¾¿èƒ½è¿›è¡Œç›¸å…³è°ƒç”¨ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œå¯¹äºæ•°æ®åº“çš„åˆå§‹åŒ–ç¨å¾®æœ‰äº›ä¸æ˜ç™½ï¼Œåœ¨æˆ‘çš„å®ç°å½“ä¸­ï¼Œæœ‰ä¸¤ä¸ªéƒ¨ä»¶å†…éƒ¨å®šä¹‰äº†æ•°æ®åº“ç®¡ç†ç±»çš„ç¤ºä¾‹ï¼Œä½†æ˜¯ä»–ä»¬èƒ½å¤Ÿä½¿ç”¨ç›¸åŒçš„æ•°æ®åº“ï¼Œæ²¡æœ‰ä»»ä½•å†²çªã€‚è¿™å¯èƒ½å’Œåˆ›å»ºæ•°æ®åº“æ—¶&lt;code&gt;onCreate&lt;/code&gt;å‚æ•°æˆ–è€…sqfliteçš„å†…éƒ¨å®ç°æœ‰å…³ç³»ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç®€å•æ€»ç»“&#34;&gt;ç®€å•æ€»ç»“&lt;/h3&gt;

&lt;p&gt;åœ¨å­¦ä¹ flutterçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é¦–æ¬¡æ¥è§¦åˆ°äº†å¼‚æ­¥çš„æ¦‚å¿µï¼Œå½“æ—¶åªæ˜¯åšäº†ç®€å•çš„äº†è§£ï¼Œä½†æ˜¯åœ¨å®ç°è¿™ä¸ªç®€å•çš„APPçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘çš„ç®—æ³•æ²¡æœ‰èŠ±è´¹å¤šå°‘æ—¶é—´ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨è€ƒè™‘å¼‚æ­¥çš„è¿‡ç¨‹è¯¥æ€ä¹ˆå®ç°ã€‚æ„Ÿè§‰å¯¹&lt;code&gt;Future&lt;/code&gt;çš„ç†è§£è¿˜è¿œè¿œä¸å¤Ÿï¼Œä¹‹åå¦‚æœè¿˜æœ‰æœºä¼šéœ€è¦åŠ å¼ºè¿™æ–¹é¢çš„ç†è§£ã€‚&lt;/p&gt;

&lt;p&gt;æ€»ä¹‹åœ¨è¿™ä¸ªé¢†åŸŸåªæ˜¯ä¸ªåˆå­¦è€…ï¼Œè¿™ä¸ªç®€å•çš„APPä¹Ÿåªæ˜¯å¯¹å‰é¢æ‰€å­¦çŸ¥è¯†çš„ç®€å•æ€»ç»“ï¼Œè¿˜æœ‰å¾ˆå¤šæ·±å…¥å·¥ä½œè¦åšã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VHDLè®¾è®¡ ç§’è¡¨</title>
      <link>https://wanakiki.github.io/2020/vhdl-miaobiao/</link>
      <pubDate>Wed, 01 Jan 2020 21:50:14 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2020/vhdl-miaobiao/</guid>
      <description>

&lt;p&gt;VHDLè¯¾ç¨‹ä½œä¸šï¼Œè®¾è®¡ä¸€ä¸ªå¸¦å­˜å‚¨åŠŸèƒ½çš„ç§’è¡¨ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;æ¼”ç¤ºè§†é¢‘ï¼š&lt;a href=&#34;https://www.bilibili.com/video/av79725799/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;https://www.bilibili.com/video/av79725799/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç§’è¡¨ç”±ä»¥ä¸‹æ¨¡å—ç»„æˆï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;æŒ‰é”®æ¶ˆæŠ– xd&lt;/li&gt;
&lt;li&gt;åˆ†é¢‘å™¨ clock_gen&lt;/li&gt;
&lt;li&gt;è®¡æ•°å™¨ cnt&lt;/li&gt;
&lt;li&gt;è¯‘ç å™¨ dec&lt;/li&gt;
&lt;li&gt;ä¸²è¡Œæ‰«æ scan&lt;/li&gt;
&lt;li&gt;å¯„å­˜å™¨ reg&lt;/li&gt;
&lt;li&gt;èœ‚é¸£å™¨ ling&lt;/li&gt;
&lt;li&gt;é¡¶å±‚ç§’è¡¨ miaobiao&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿æ¥ç¤ºæ„å›¾ï¼Œç”»çš„å¾ˆåƒåœ¾ğŸ˜‘&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/vhdl/20200101215905.png&#34; alt=&#34;ç¤ºæ„å›¾&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¼•è„šåˆ†é…å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/vhdl/20200101220658.jpg&#34; alt=&#34;å¼•è„šåˆ†é…å›¾&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;é¡¶å±‚æ¨¡å—&#34;&gt;é¡¶å±‚æ¨¡å—&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity miaobiao is
    port(
        clk, k1, k2, k3: in std_logic;
        selector: out std_logic_vector(3 downto 0);
        num: out std_logic_vector(7 downto 0);
        ling_out: out std_logic
    );
end entity miaobiao;

architecture rtl of miaobiao is
    
    component clock_gen is
        port(
            clk     : IN STD_LOGIC; 
            clk_us     : OUT STD_LOGIC;
            clk_ms 	   : OUT STD_LOGIC;
            clk_10ms   : OUT STD_LOGIC;
            clk_100ms 	   : OUT STD_LOGIC;
            clk_500ms   : OUT STD_LOGIC;
            clk_second : OUT STD_LOGIC
        );
    end component;

    component cnt is
        port(
            reset, clk: in std_logic;
            carry: out std_logic;
            nums: out std_logic_vector(3 downto 0)
        );
    end component cnt;

    component cnt6 is
        port(
            reset, clk: in std_logic;
            carry: out std_logic;
            nums: out std_logic_vector(3 downto 0)
        );
    end component cnt6;

    component dec is
        port(
            nums : in std_logic_vector(3 downto 0);
            res : out std_logic_vector(7 downto 0)
        );
    end component dec;

    component dec_node is
        port(
            nums : in std_logic_vector(3 downto 0);
            res : out std_logic_vector(7 downto 0)
        );
    end component dec_node;

    component ling is
        port(
            enable, clk1, clk2: in std_logic;
            clk_out : out std_logic
        );
    end component;

    component reg is
        port(
            clk, clear, enable, st:in std_logic;
            data: in std_logic_vector(15 downto 0);
            l_st: out std_logic;
            out_num0, out_num1, out_num2, out_num3: out std_logic_vector(3 downto 0)
        );
    end component reg;

    component scan is
        port(
            num0, num1, num2, num3: in std_logic_vector(7 downto 0);
            clk, clk_l, st: in std_logic;
            selector : out std_logic_vector(3 downto 0);
            nums: out std_logic_vector(7 downto 0)
        );
    end component scan;

    component xd is
        generic(n:integer:=30);
        port(clk,k1:in std_logic;
             y :out std_logic);
    end component xd;
--===================================================
    signal vcc, st, clear: std_logic;
    signal k1_xd, k2_xd, k3_xd, clk_10ms, clk_l, clk_xd, clk_cnt: std_logic;
    signal c0, c1, c2, c3: std_logic;       --cnt
	 signal num0, num1, num2, num3: std_logic_vector(3 downto 0);
    signal nums:std_logic_vector(15 downto 0);      --reg
    signal di_num0, di_num1, di_num2, di_num3: std_logic_vector(3 downto 0);      --decoder
    signal sc_num0, sc_num1, sc_num2, sc_num3: std_logic_vector(7 downto 0);   --scan
	 signal l_st:std_logic;
    signal push: std_logic;
begin
    vcc &amp;lt;= &#39;1&#39;;
    u0: clock_gen port map(clk=&amp;gt;clk, clk_10ms=&amp;gt;clk_cnt, clk_us=&amp;gt;open, clk_ms=&amp;gt;clk_xd, clk_100ms=&amp;gt;clk_l, clk_500ms=&amp;gt;open, clk_second=&amp;gt;open);
    u1: xd port map(clk=&amp;gt;clk_xd, k1=&amp;gt;k1, y=&amp;gt;k1_xd);
    u2: xd port map(clk=&amp;gt;clk_xd, k1=&amp;gt;k2, y=&amp;gt;k2_xd);
    u3: xd port map(clk=&amp;gt;clk_xd, k1=&amp;gt;k3, y=&amp;gt;k3_xd);
    
    c0 &amp;lt;= clk_cnt and st;
    clear &amp;lt;= st or k2_xd;
    u4: cnt port map(reset=&amp;gt;clear, clk=&amp;gt;c0, carry=&amp;gt;c1, nums=&amp;gt;num0);
    u5: cnt port map(reset=&amp;gt;clear, clk=&amp;gt;c1, carry=&amp;gt;c2, nums=&amp;gt;num1);
    u6: cnt port map(reset=&amp;gt;clear, clk=&amp;gt;c2, carry=&amp;gt;c3, nums=&amp;gt;num2);
    u7: cnt6 port map(reset=&amp;gt;clear, clk=&amp;gt;c3, carry=&amp;gt;open, nums=&amp;gt;num3);

    nums&amp;lt;= num3 &amp;amp; num2 &amp;amp; num1 &amp;amp; num0;
    u8: reg port map(clk=&amp;gt;k3_xd, clear=&amp;gt;clear, enable=&amp;gt;vcc, st=&amp;gt;st, data=&amp;gt;nums, l_st=&amp;gt;l_st,out_num0=&amp;gt;di_num0, out_num1=&amp;gt;di_num1, out_num2=&amp;gt;di_num2, out_num3=&amp;gt;di_num3);
    
    u9: dec port map(nums=&amp;gt;di_num0, res=&amp;gt;sc_num0);
    u10: dec port map(nums=&amp;gt;di_num1, res=&amp;gt;sc_num1);
    u11: dec_node port map(nums=&amp;gt;di_num2, res=&amp;gt;sc_num2);
    u12: dec port map(nums=&amp;gt;di_num3, res=&amp;gt;sc_num3);
    
    u13: scan port map(num0=&amp;gt;sc_num0, num1=&amp;gt;sc_num1, num2=&amp;gt;sc_num2, num3=&amp;gt;sc_num3, clk=&amp;gt;clk_xd, clk_l=&amp;gt;clk_l, st=&amp;gt;l_st, selector=&amp;gt;selector, nums=&amp;gt;num);
    
    push &amp;lt;= k1_xd and k2_xd and k3_xd;
    u14: ling port map(enable=&amp;gt; push, clk1=&amp;gt;clk_l, clk2=&amp;gt;clk_xd, clk_out=&amp;gt;ling_out);
    
    --zhuangtaikongzhi
    process(k1_xd)
    begin
        if k1_xd&#39;event and k1_xd = &#39;0&#39; then
            if st = &#39;0&#39; then
                st &amp;lt;= &#39;1&#39;;
            else
                st &amp;lt;= &#39;0&#39;;
            end if;
        end if;
    end process;
end architecture rtl;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ¶ˆæŠ–æ¨¡å—&#34;&gt;æ¶ˆæŠ–æ¨¡å—&lt;/h2&gt;

&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¶ˆæŠ–æ—¶é—´ä¸º20msã€‚ä»¥ä¸‹ä»£ç åŒæ ·ç”±è€å¸ˆæä¾›ï¼Œæ—¶é’Ÿè¾“å…¥ä¸º1msã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity xd is
generic(n:integer:=30);
port(clk,k1:in std_logic;
     y :out std_logic);
end xd;

architecture a of xd is
begin
process(clk)
variable sum:integer range 1 to n;
begin
if clk&#39;event and clk = &#39;0&#39; then 
	if k1=&#39;0&#39; then 
		if sum=n then 
			sum:=sum; 
		else
			sum:=sum+1;
		end if;
		
		if sum=n then 
			y&amp;lt;=&#39;0&#39;;
		else 
			y&amp;lt;=&#39;1&#39;;
		end if;
		
	else 
		sum:=1;
		y&amp;lt;=&#39;1&#39;;
	end if;
end if;
end process;
end;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;åˆ†é¢‘å™¨æ¨¡å—&#34;&gt;åˆ†é¢‘å™¨æ¨¡å—&lt;/h2&gt;

&lt;p&gt;ç”±è€å¸ˆç›´æ¥æä¾›ï¼Œèƒ½å¤Ÿäº§ç”Ÿçš„é¢‘ç‡è§å¼•è„šå®šä¹‰å¤„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.std_logic_unsigned.all;
USE ieee.STD_LOGIC_ARITH.all;

------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------
ENTITY clock_gen IS
PORT(
	clk     : IN STD_LOGIC; 
	clk_us     : OUT STD_LOGIC;
	clk_ms 	   : OUT STD_LOGIC;
	clk_10ms   : OUT STD_LOGIC;
	clk_100ms 	   : OUT STD_LOGIC;
	clk_500ms   : OUT STD_LOGIC;
	clk_second : OUT STD_LOGIC
	);
END clock_gen;
------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------
ARCHITECTURE  behav OF clock_gen IS
    CONSTANT shake_constant :integer:=10;    -- shake wait for shake_constant us
    signal q_1us :integer range 0 to 50;    --usï¿½ï¿½ÆµÏµï¿½ï¿½
	signal q_1ms :integer range 0 to 1000;  --msï¿½ï¿½ÆµÏµï¿½ï¿½
	signal q_10ms:integer range 0 to 10;    --10msï¿½ï¿½ÆµÏµï¿½ï¿½
	signal q_100ms :integer range 0 to 10;  --100msï¿½ï¿½ÆµÏµï¿½ï¿½
	signal q_500ms:integer range 0 to 5;    --500msï¿½ï¿½ÆµÏµï¿½ï¿½	
	signal q_1s :integer range 0 to 1;   --ï¿½ï¿½ï¿½ï¿½ÆµÏµï¿½ï¿½
	
	SIGNAL sig_second : STD_LOGIC;
	SIGNAL sig_500ms : STD_LOGIC;	
	SIGNAL sig_100ms : STD_LOGIC;	
	SIGNAL sig_ms : STD_LOGIC;
	SIGNAL sig_10ms : STD_LOGIC;
	SIGNAL sig_us : STD_LOGIC;
    
-------------------------------------------------------------------------------------------
begin

output_clock:process(clk)                     
begin	
	if 	clk&#39;event and clk=&#39;1&#39; then
		clk_us     &amp;lt;= sig_us;	
		clk_ms     &amp;lt;= sig_ms;
		clk_10ms   &amp;lt;= sig_10ms;clk_100ms   &amp;lt;= sig_100ms;
		clk_second &amp;lt;= sig_second;
	end if;

end process;

-------------------------------------------------------------------------------------------
----**************ï¿½ï¿½Æµï¿½ï¿½ 1 us clock*******************	
u_second:process(clk)         
begin	
	if 	clk&#39;event and clk=&#39;1&#39; then
        if  q_1us &amp;lt; 49	then
			q_1us &amp;lt;=  q_1us+1;
			sig_us &amp;lt;= &#39;0&#39;;
		else  
			q_1us &amp;lt;= 0;
			sig_us &amp;lt;= &#39;1&#39;;
			
		end if;
	end if;
end process;
-------------------------------------------------------------------------------------------
----**************ï¿½ï¿½Æµï¿½ï¿½ 1 ms clock*******************
m_second:process(sig_us)                    
begin
	if sig_us&#39;event and sig_us=&#39;1&#39; then
		if  q_1ms &amp;lt; 999 then
			q_1ms &amp;lt;=  q_1ms+1;
			sig_ms &amp;lt;= &#39;0&#39;;
		else
			q_1ms &amp;lt;= 0;
			sig_ms &amp;lt;= &#39;1&#39;; 
		end if;
	end if;
end process;

-------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
----**************ï¿½ï¿½Æµï¿½ï¿½ 10 ms clock*******************
m_second10:process(sig_ms)                    
begin
	if sig_ms&#39;event and sig_ms=&#39;1&#39; then
		if  q_10ms &amp;lt; 9 then
			q_10ms &amp;lt;=  q_10ms+1;
			sig_10ms &amp;lt;= &#39;0&#39;;
		else
			q_10ms &amp;lt;= 0;
			sig_10ms &amp;lt;= &#39;1&#39;; 
		end if;
	end if;
end process;

-------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
----**************ï¿½ï¿½Æµï¿½ï¿½ 100 ms clock*******************
m_second100:process(sig_10ms)                    
begin
	if sig_10ms&#39;event and sig_10ms=&#39;1&#39; then
		if  q_100ms &amp;lt; 9 then
			q_100ms &amp;lt;=  q_100ms+1;
			sig_100ms &amp;lt;= &#39;0&#39;;
		else
			q_100ms &amp;lt;= 0;
			sig_100ms &amp;lt;= &#39;1&#39;; 
		end if;
	end if;
end process;

-------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
----**************ï¿½ï¿½Æµï¿½ï¿½ 500 ms clock*******************
m_second500:process(sig_100ms)                    
begin
	if sig_100ms&#39;event and sig_100ms=&#39;1&#39; then
		if  q_500ms &amp;lt; 4 then
			q_500ms &amp;lt;=  q_500ms+1;
			sig_500ms &amp;lt;= &#39;0&#39;;
		else
			q_500ms &amp;lt;= 0;
			sig_500ms &amp;lt;= &#39;1&#39;; 
		end if;
	end if;
end process;

-------------------------------------------------------------------------
----**************ï¿½ï¿½Æµï¿½ï¿½ 1 second clock*******************
second:process(sig_500ms)                    
begin
	if 	sig_500ms&#39;event and sig_500ms=&#39;1&#39; then
		if  q_1s &amp;lt; 1 then
			q_1s &amp;lt;= q_1s+1;
			sig_second &amp;lt;= &#39;0&#39;;
		else
			q_1s &amp;lt;= 0;
			sig_second &amp;lt;= &#39;1&#39;; 
		end if;
	end if;
end process;
-------------------------------------------------------------------------
END behav;
------------------------------------------------------------------------------------------	
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;è®¡æ•°å™¨æ¨¡å—&#34;&gt;è®¡æ•°å™¨æ¨¡å—&lt;/h2&gt;

&lt;p&gt;åè¿›åˆ¶è®¡æ•°å™¨ï¼Œå¸¦æœ‰å¤ä½ç«¯ã€è¿›ä½ç«¯ã€‚åœ¨å®ç°ç§’è¡¨æ—¶ï¼Œéœ€è¦å°†æœ€åä¸€ä¸ªè®¡æ•°å™¨æ”¹ä¸ºå…­è¿›åˆ¶ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;
entity cnt is
	port(
		reset, clk: in std_logic;
		carry: out std_logic;
		nums: out std_logic_vector(3 downto 0)
	);
end entity cnt;

architecture rtl of cnt is
begin
	process(clk, reset)
	variable temp : std_logic_vector(3 downto 0);
	begin
		if reset = &#39;0&#39; then
			temp := (others =&amp;gt; &#39;0&#39;);
		elsif clk&#39;event and clk = &#39;1&#39; then
			if temp &amp;gt;= &amp;quot;1001&amp;quot; then
				temp := (others =&amp;gt; &#39;0&#39;);
				carry &amp;lt;= &#39;1&#39;;
			else
				temp := temp + 1;
				carry &amp;lt;= &#39;0&#39;;
			end if;
		end if;
		nums &amp;lt;= temp;
	end process;
end architecture rtl;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;è¯‘ç å™¨æ¨¡å—&#34;&gt;è¯‘ç å™¨æ¨¡å—&lt;/h2&gt;

&lt;p&gt;è¾“å…¥ä¸ºå››ä½äºŒè¿›åˆ¶æ•°ï¼Œè¾“å‡ºä¸ºå¯¹åº”çš„ä¸ƒæ®µè¯‘ç ç®¡æ•°ç»„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;

entity dec is
	port(
		nums : in std_logic_vector(3 downto 0);
		res : out std_logic_vector(7 downto 0)
	);
end entity dec;

architecture rtl of dec is
begin
	process(nums)
	begin
		case nums is
			when &amp;quot;0000&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1100_0000&amp;quot;;
			when &amp;quot;0001&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1111_1001&amp;quot;;
			when &amp;quot;0010&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1010_0100&amp;quot;;
			when &amp;quot;0011&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1011_0000&amp;quot;;
			when &amp;quot;0100&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1001_1001&amp;quot;;
			when &amp;quot;0101&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1001_0010&amp;quot;;
			when &amp;quot;0110&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1000_0011&amp;quot;;
			when &amp;quot;0111&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1111_1000&amp;quot;;
			when &amp;quot;1000&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1000_0000&amp;quot;;
			when &amp;quot;1001&amp;quot; =&amp;gt; res &amp;lt;= B&amp;quot;1001_1000&amp;quot;;
			when others =&amp;gt; res &amp;lt;= B&amp;quot;1111_1111&amp;quot;;
		end case;
	end process;
end architecture rtl;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä¸²è¡Œæ‰«ææ¨¡å—&#34;&gt;ä¸²è¡Œæ‰«ææ¨¡å—&lt;/h2&gt;

&lt;p&gt;å®ç°ä¸²è¡Œæ‰«æåŠŸèƒ½ï¼Œå½“stä¸ºé›¶æ—¶ä¼šè¿›å…¥é—ªçƒçŠ¶æ€ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity scan is
	port(
		num0, num1, num2, num3: in std_logic_vector(7 downto 0);
		clk, clk_l, st: in std_logic;
		selector : out std_logic_vector(3 downto 0);
		nums: out std_logic_vector(7 downto 0)
	);
end entity scan;

architecture rtl of scan is
	signal flag :std_logic;
begin
	process(clk_l)
	begin
		if clk_l&#39;event and clk_l = &#39;1&#39; then
			if flag = &#39;1&#39; and  st = &#39;0&#39; then
				flag &amp;lt;= &#39;0&#39;;
			else
				flag &amp;lt;= &#39;1&#39;;
			end if;
		end if;
	end process;
	
	process(clk)
	variable cur : std_logic_vector(1 downto 0);
	begin
		if flag = &#39;1&#39; then
		if clk&#39;event and clk = &#39;1&#39; then
			case cur is
				when &amp;quot;00&amp;quot; =&amp;gt;
					selector &amp;lt;= &amp;quot;1110&amp;quot;;
					nums &amp;lt;= num0;
				when &amp;quot;01&amp;quot; =&amp;gt;
					selector &amp;lt;= &amp;quot;1101&amp;quot;;
					nums &amp;lt;= num1;
				when &amp;quot;10&amp;quot; =&amp;gt;
					selector &amp;lt;= &amp;quot;1011&amp;quot;;
					nums &amp;lt;= num2;
				when others =&amp;gt;
					selector &amp;lt;= &amp;quot;0111&amp;quot;;
					nums &amp;lt;= num3;
			end case;
			cur := cur + 1;
		end if;
		else
			selector &amp;lt;= &amp;quot;1111&amp;quot;;
		end if;
	end process;
end architecture rtl;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å¯„å­˜å™¨æ¨¡å—&#34;&gt;å¯„å­˜å™¨æ¨¡å—&lt;/h2&gt;

&lt;p&gt;å½“ç§’è¡¨å¤„äºè®¡æ—¶çŠ¶æ€æ—¶ï¼ŒæŒ‰ä¸‹å¯„å­˜å™¨æ§åˆ¶æŒ‰é”®ä¼šå°†ç§’è¡¨å½“å‰çš„æ—¶é—´ä¿å­˜åˆ°è®¡æ•°å™¨å½“ä¸­ã€‚å½“ç§’è¡¨å¤„äºæš‚åœçŠ¶æ€æ—¶ï¼ŒæŒ‰ä¸‹å¯„å­˜å™¨æ§åˆ¶æŒ‰é”®ä¼šå°†å¯„å­˜å™¨ä¿å­˜çš„æ•°æ®é€ä¸ªæ˜¾ç¤ºï¼Œåœ¨æ˜¾ç¤ºå¯„å­˜å™¨å†…éƒ¨æ•°æ®æ—¶ï¼Œè¦æ±‚ä¸²è¡Œæ‰«æé—ªçƒã€‚&lt;/p&gt;

&lt;p&gt;å¯„å­˜å™¨çš„è¾“å…¥ä¸ºå››ä¸ªè®¡æ•°å™¨å½“å‰çš„çŠ¶æ€ï¼Œå†…éƒ¨èƒ½å¤Ÿæ ¹æ®ç§’è¡¨å½“ä¸‹å·¥ä½œçŠ¶æ€é€‰æ‹©å¯¹åº”çš„æ•°æ®äº¤ç»™è¯‘ç å™¨ï¼Œè®¾è®¡ç›¸å¯¹å¤æ‚ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity reg is
	port(
		clk, clear, enable, st:in std_logic;
		data: in std_logic_vector(15 downto 0);
		l_st: out std_logic;
		out_num0, out_num1, out_num2, out_num3: out std_logic_vector(3 downto 0)
	);
end entity reg;

architecture rtl of reg is
	signal num0, num1, num2:std_logic_vector(15 downto 0);
begin
	process(clk, clear)
        variable status: integer range 0 to 3;
	begin		
		if clear = &#39;0&#39; then
			num0 &amp;lt;= (others =&amp;gt; &#39;0&#39;);
			num1 &amp;lt;= (others =&amp;gt; &#39;0&#39;);
			num2 &amp;lt;= (others =&amp;gt; &#39;0&#39;);
			status := 0;
		elsif enable = &#39;1&#39; then
            if(clk&#39;event and clk=&#39;1&#39;) then
					if st = &#39;1&#39; then
						num2 &amp;lt;= num1;
						num1 &amp;lt;= num0;
						num0 &amp;lt;= data;
					else
						if status &amp;gt;= 3 then
							status := 0;
						else
							status := status + 1;
						end if;
					end if;
				end if;
		end if;
		
		if st = &#39;1&#39; then
			status := 0;
		end if;
		
		case status is
			when 0 =&amp;gt;
				out_num3 &amp;lt;= data(15 downto 12);
				out_num2 &amp;lt;= data(11 downto 8);
				out_num1 &amp;lt;= data(7 downto 4);
				out_num0 &amp;lt;= data(3 downto 0);
				l_st &amp;lt;= &#39;1&#39;;
			when 1 =&amp;gt;
				out_num3 &amp;lt;= num0(15 downto 12);
				out_num2 &amp;lt;= num0(11 downto 8);
				out_num1 &amp;lt;= num0(7 downto 4);
				out_num0 &amp;lt;= num0(3 downto 0);
				l_st &amp;lt;= &#39;0&#39;;
			when 2 =&amp;gt;
				out_num3 &amp;lt;= num1(15 downto 12);
				out_num2 &amp;lt;= num1(11 downto 8);
				out_num1 &amp;lt;= num1(7 downto 4);
				out_num0 &amp;lt;= num1(3 downto 0);
				l_st &amp;lt;= &#39;0&#39;;
			when 3 =&amp;gt;
				out_num3 &amp;lt;= num2(15 downto 12);
				out_num2 &amp;lt;= num2(11 downto 8);
				out_num1 &amp;lt;= num2(7 downto 4);
				out_num0 &amp;lt;= num2(3 downto 0);
				l_st &amp;lt;= &#39;0&#39;;
			when others=&amp;gt;
				out_num3 &amp;lt;= data(15 downto 12);
				out_num2 &amp;lt;= data(11 downto 8);
				out_num1 &amp;lt;= data(7 downto 4);
				out_num0 &amp;lt;= data(3 downto 0);
				l_st &amp;lt;= &#39;1&#39;;
		end case;
	end process;
end rtl;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;èœ‚é¸£å™¨&#34;&gt;èœ‚é¸£å™¨&lt;/h2&gt;

&lt;p&gt;èœ‚é¸£å™¨çš„å·¥ä½œæ–¹å¼æ˜¯å½“æŒ‰é”®æŒ‰ä¸‹æ—¶é¸£å«ï¼Œå½“æŒ‰é”®æ¾å¼€åï¼Œé¸£å«ä¼šæŒç»­0.2ç§’ã€‚åœ¨æˆ‘çš„è®¾è®¡å½“ä¸­ï¼Œèœ‚é¸£å™¨ä½¿ç”¨äº†ä¸¤ä¸ªæ—¶é’Ÿè¾“å…¥ï¼Œclk1ç”¨äºæ§åˆ¶èœ‚é¸£å™¨çš„å‘å£°é¢‘ç‡ï¼Œclk2ï¼ˆ100msï¼‰ç”¨æ¥è¿›è¡ŒæŒ‰é”®æ¾å¼€åçš„è®¡æ—¶ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vhdl&#34;&gt;library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_unsigned.all;

entity ling is
	port(
		enable, clk1, clk2: in std_logic;
		clk_out : out std_logic
	);
end entity;

architecture rtl of ling is
	signal flag: std_logic;
begin
	process(clk2, flag)
	begin
		if flag = &#39;1&#39; then
			clk_out &amp;lt;= clk2;
		end if;
	end process;
	
	process(clk1,enable, clk2)
		variable num: integer range 0 to 2000;
	begin	
		if enable = &#39;0&#39; then
			flag &amp;lt;= &#39;1&#39;;
			num := 0;
        
		elsif clk1&#39;event and clk1 = &#39;1&#39; then
			if flag = &#39;1&#39; then
				if num &amp;gt;= 2 then
					flag &amp;lt;= &#39;0&#39;;
				else
					num := num + 1;
				end if;
			end if;
		end if;
	end process;
end architecture rtl;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Git åŠ Github ä¸Šæ‰‹</title>
      <link>https://wanakiki.github.io/2019/use-github/</link>
      <pubDate>Mon, 25 Nov 2019 16:15:58 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/use-github/</guid>
      <description>

&lt;p&gt;è®°å½•ä½¿ç”¨gitåŠGitHubçš„è¿‡ç¨‹
&lt;!-- more --&gt;&lt;/p&gt;

&lt;h2 id=&#34;å‡†å¤‡å·¥ä½œ&#34;&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;

&lt;p&gt;åœ¨&lt;a href=&#34;https://github.com/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;GitHubå®˜ç½‘&lt;/a&gt;æ³¨å†Œè´¦å·ï¼Œä¹‹åå»&lt;a href=&#34;https://git-scm.com/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;Gitå®˜ç½‘&lt;/a&gt;ä¸‹è½½gitå¹¶å®‰è£…ã€‚å®‰è£…å®Œæˆåæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œåœ¨ç”µè„‘ä¸Šè®¾ç½®githubé‚®ç®±å’Œè´¦æˆ·å&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git config --global user.name &amp;quot;ç”¨æˆ·å&amp;quot;
git config --global user.email &amp;quot;é‚®ç®±&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹‹åï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ç”ŸæˆSSH keyï¼Œå®Œæˆåå°†å…¬é’¥æ·»åŠ åˆ°GitHubä¸Š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh-keygen -t rsa -C &amp;quot;é‚®ç®±&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å­˜å‚¨åº“çš„åˆ›å»º&#34;&gt;å­˜å‚¨åº“çš„åˆ›å»º&lt;/h2&gt;

&lt;p&gt;åœ¨ä¸ªäººç•Œé¢ï¼Œç‚¹å‡»&lt;code&gt;new repository&lt;/code&gt;å³å¯è¿›å…¥åˆ›å»ºç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/use-github/20191125170027.png&#34; alt=&#34;åˆ›å»ºç•Œé¢&#34; /&gt;&lt;/p&gt;

&lt;p&gt;åç§°ä¸ºå¿…å¡«é¡¹ï¼Œå­˜å‚¨åº“çš„æè¿°ä¸ºå¯é€‰é¡¹ã€‚å­˜å‚¨åº“å¯åˆ†ä¸ºç§æœ‰å’Œå…¬æœ‰ï¼Œæš‚æ—¶ä¸åšè§£é‡Šã€‚éœ€è¦æ³¨æ„çš„æ˜¯&lt;code&gt;Initialize this repository with a README&lt;/code&gt;é€‰é¡¹ï¼Œå‡å¦‚ä½ æƒ³è¦å°†æœ¬åœ°å·²ç»å­˜åœ¨çš„å­˜å‚¨åº“å¯¼å…¥è¿›æ¥çš„è¯ä¸éœ€è¦å‹¾é€‰ã€‚å› ä¸ºæˆ‘ç°åœ¨è¦ä»é›¶åˆ›å»ºä¸€ä¸ªå­˜å‚¨åº“ï¼Œæ‰€ä»¥å‹¾ä¸Šäº†è¿™ä¸ªé€‰é¡¹ã€‚ä¸‹æ–¹çš„æ·»åŠ gitignoreå’Œlicenseæš‚æ—¶ä¸éœ€è¦äº†è§£ã€‚&lt;/p&gt;

&lt;p&gt;å®Œæˆä¹‹åç‚¹å‡»åˆ›å»ºå°±ä¼šå‡ºç°ä¸‹é¢çš„ç•Œé¢ï¼Œæ•´ä¸ªå­˜å‚¨åº“åªæœ‰ä¸€ä¸ª&lt;code&gt;README.md&lt;/code&gt;æ–‡ä»¶ï¼Œè‡³æ­¤åˆ›å»ºå®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/use-github/20191125170036.png&#34; alt=&#34;åˆ›å»ºå®Œæˆ&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;ä»£ç æ“ä½œ&#34;&gt;ä»£ç æ“ä½œ&lt;/h2&gt;

&lt;h3 id=&#34;å…‹éš†å­˜å‚¨åº“&#34;&gt;å…‹éš†å­˜å‚¨åº“&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/use-github/20191125170041.png&#34; alt=&#34;ä½ç½®&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç‚¹å‡»&lt;code&gt;Clone or download&lt;/code&gt;æŒ‰é’®ä¼šå‡ºç°ä¸€ä¸ªæ–°çª—å£ï¼Œå¤åˆ¶çª—å£ä¸­çš„é“¾æ¥ï¼Œåˆ‡æ¢åˆ°ä½ æƒ³è¦ä¿å­˜å­˜å‚¨åº“çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤å³å¯å®Œæˆå­˜å‚¨åº“çš„ä¸‹è½½ã€‚é»˜è®¤ä½¿ç”¨sshï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨httpsã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git clone git@github.com:wanakiki/BiFang.git
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä¿®æ”¹åŠä¸Šä¼ &#34;&gt;ä¿®æ”¹åŠä¸Šä¼ &lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git status&lt;/code&gt;æŸ¥çœ‹å­˜å‚¨åº“çŠ¶æ€&lt;br /&gt;
&lt;code&gt;git add -A&lt;/code&gt;æäº¤æ‰€æœ‰æ–‡ä»¶&lt;br /&gt;
&lt;code&gt;git commit -m &amp;quot;xxx&amp;quot;&lt;/code&gt;è¿›è¡Œæäº¤ï¼Œå…¶ä¸­xxxæ˜¯å¯¹æœ¬æ¬¡æ›´æ”¹çš„è¯´æ˜&lt;br /&gt;
&lt;code&gt;git push&lt;/code&gt;å°†æäº¤çš„æ›´æ”¹æ¨é€åˆ°è¿œç¨‹åº“&lt;/p&gt;

&lt;p&gt;è¾“å…¥å®Œä¸Šè¿°ä»£ç ä¹‹åå³å¯æ›´æ–°è¿œç¨‹ä»“åº“ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ğŸ ç­çº§ç½‘ç«™é¡¹ç›®</title>
      <link>https://wanakiki.github.io/2019/website/</link>
      <pubDate>Wed, 06 Nov 2019 23:04:39 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/website/</guid>
      <description>

&lt;!-- more --&gt;

&lt;h2 id=&#34;èµ·å› &#34;&gt;èµ·å› ğŸ’¡&lt;/h2&gt;

&lt;p&gt;æœ¬äººæœ‰ä¸¤å¹´å¤§å­¦ç­å§”çš„ç»éªŒï¼Œå‘ç°å­¦æ ¡å›¢å§”ç»™ç­çº§çš„ä¸€èˆ¬éƒ½æ˜¯ä¿¡æ¯æ•´ç†ç›¸å…³çš„å·¥ä½œã€‚ä½†ç°åœ¨å·²ç»æ˜¯21ä¸–çºªï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦å› ä¸ºæ”¶é›†ä¸€äº›ä¸ªäººä¿¡æ¯è®©æ¯ä¸ªäººéƒ½å¡«å†™ä¸€éexcelè¡¨å†å‘ç»™ç­å§”è¿›è¡Œæ±‡æ€»ã€‚æˆ‘ä¹‹å‰æ›¾ç»è¯•è¿‡åˆ©ç”¨è…¾è®¯æ–‡æ¡£è¿›è¡Œä¿¡æ¯æ”¶é›†ï¼Œä½†å¤§éƒ¨åˆ†äººéƒ½ä¸æ˜¯å¾ˆé€‚åº”ï¼ŒåŠ ä¸Š&lt;strong&gt;ç›®å‰å¸‚é¢ä¸Šæ‰¾ä¸åˆ°ä»excelç”Ÿæˆåœ¨çº¿è¡¨å•çš„å·¥å…·ï¼Œæ¯æ¬¡é—®å·éƒ½éœ€è¦èŠ±ä¸€å®šæ—¶é—´å‡†å¤‡&lt;/strong&gt;ï¼Œäºæ˜¯æˆ‘æœ‰äº†å†™ä¸€ä¸ªè‡ªå·±çš„ç½‘ç«™çš„æƒ³æ³•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;è¿›ä¸€æ­¥æŒ–æ˜&#34;&gt;è¿›ä¸€æ­¥æŒ–æ˜ğŸ¤”&lt;/h2&gt;

&lt;h3 id=&#34;æ›´å¤šåŠŸèƒ½&#34;&gt;æ›´å¤šåŠŸèƒ½ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;åœ¨è¿™ä¸ªç”Ÿæˆè¡¨å•çš„åŸºç¡€ä¸Šï¼Œæˆ‘è¿›è¡Œæ·±å…¥æŒ–æ˜ï¼Œåˆå‘ç°äº†å…¶ä»–çš„éœ€è¦ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ç­çº§æŠ•ç¥¨ã€æ´»åŠ¨æŠ¥åç»Ÿè®¡&lt;/li&gt;
&lt;li&gt;å‘å¸ƒç­çº§å…¬å‘Š&lt;/li&gt;
&lt;li&gt;ç­çº§æ´»åŠ¨è®°å½•&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå­¦æœŸå¯æœ‰å¯æ— çš„è¯¾è¡¨ç»Ÿè®¡&lt;/li&gt;
&lt;li&gt;éœ€è¦ä»¥ç­çº§ä¸ºå•ä½æäº¤çš„å„ç§å®éªŒæŠ¥å‘Šçš„æ”¶é›†ï¼ˆè™½ç„¶é‚®ç®±ä¹Ÿå¯ä»¥ï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹äºæŸä¸€é¡¹éœ€è¦ä¸ªäººå®Œæˆçš„ç­çº§å·¥ä½œï¼Œå®æ—¶æ›´æ–°çš„è¿›åº¦æ’è¡Œï¼ˆå¯ä»¥ç›´è§‚äº†è§£åˆ°è¿˜æœ‰å“ªäº›äººæ²¡æœ‰å®Œæˆä»»åŠ¡ï¼Œå¦å¤–å¯ä»¥æ ¹æ®æ¯æ¬¡çš„æ—¶é—´æ’è¡Œè®¡ç®—ç­çº§æ´»åŠ¨å‚ä¸åº¦ï¼Œç”¨åšå­¦å¹´ç´ è´¨æµ‹è¯„çš„é‡åŒ–æŒ‡æ ‡ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;ç½‘ç«™çš„è¯±æƒ‘åŠ›&#34;&gt;ç½‘ç«™çš„è¯±æƒ‘åŠ›ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;é‚£ä¹ˆä¸ºäº†è®©åŒå­¦ç™»é™†è¿™ä¸ªç½‘ç«™ï¼Œè¿™ä¸ªç½‘ç«™å¯¹æ™®é€šç­çº§æˆå‘˜åˆèƒ½æä¾›ä»€ä¹ˆå¸®åŠ©ï¼Ÿæˆ‘ç›®å‰è®¤ä¸ºæœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;æä¾›è¯¾è¡¨ï¼Œèƒ½å¤ŸæŸ¥åˆ°æœ¬å­¦å¹´æ‰€æœ‰ä¸“ä¸šè¯¾è€å¸ˆçš„å¼€è¯¾æ—¶é—´&lt;/li&gt;
&lt;li&gt;æä¾›æµ·å¤§çš„æ•™åŠ¡ä¿¡æ¯ï¼ˆç›´æ¥çˆ¬è™«åŠ¨æ€æ›´æ–°ï¼‰&lt;/li&gt;
&lt;li&gt;ä½œä¸šæé†’ï¼ˆäººå·¥æ·»åŠ è®°å½•ï¼Œåˆ°æœŸè‡ªåŠ¨åˆ é™¤ï¼‰&lt;/li&gt;
&lt;li&gt;å…¨æµ·å¤§ç«èµ›ä¿¡æ¯æä¾›ï¼ˆå¦‚æœèƒ½å¤Ÿåšåˆ°å¾®ä¿¡çˆ¬è™«çš„è¯&amp;hellip;ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;å¤§ä½“è§„åˆ’&#34;&gt;å¤§ä½“è§„åˆ’âœ¨&lt;/h2&gt;

&lt;h4 id=&#34;flaskåç«¯&#34;&gt;FLASKåç«¯&lt;/h4&gt;

&lt;p&gt;å› ä¸ºæœ¬äººæ²¡æœ‰æ¥è§¦è¿‡javaï¼Œè€ƒè™‘è‡ªå·±æœ‰ä¸€å®šçš„pythonåŸºç¡€ä»¥åŠpythonå®¹æ˜“ä¸Šæ‰‹çš„ç‰¹ç‚¹ï¼ŒæŠ›å¼ƒäº†LAMPæ¶æ„ï¼Œåç«¯é‡‡ç”¨pythonçš„flaskæ¡†æ¶è¿›è¡Œæ­å»ºã€‚å¤šäººåˆä½œæ—¶éš¾åº¦ä¹Ÿç›¸å¯¹è¾ƒä½ã€‚&lt;/p&gt;

&lt;h4 id=&#34;vueå‰ç«¯æ¡†æ¶&#34;&gt;VUEå‰ç«¯æ¡†æ¶&lt;/h4&gt;

&lt;p&gt;æœ¬äººå‰ç«¯çŸ¥è¯†äº†è§£å¾ˆå°‘ï¼ŒåªçŸ¥é“ä¼ ç»Ÿçš„html+css+jsï¼Œä½†æ˜¯æŸ¥æ‰¾ä¹‹åå‘ç°VUEæ˜¯æ¯”è¾ƒæµè¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€æœ‰çš„éƒ½è¦å­¦ï¼Œé‚£å°±å­¦ä¸ªå¤§éƒ¨åˆ†äººéƒ½è¯´å¥½çš„ã€‚&lt;/p&gt;

&lt;h4 id=&#34;pythonçˆ¬è™«&#34;&gt;Pythonçˆ¬è™«&lt;/h4&gt;

&lt;p&gt;å› ä¸ºä¼šæ¶‰åŠåˆ°ä¸€äº›æ•™åŠ¡ä¿¡æ¯ï¼Œäººå·¥è¿›è¡Œæ›´æ–°æˆæœ¬è¾ƒå¤§ï¼Œè¿˜æ˜¯ç”¨çˆ¬è™«æ¥å®ç°æ¯”è¾ƒæ–¹ä¾¿ï¼Œè€Œä¸”åªçˆ¬æ•™åŠ¡ä¿¡æ¯çš„é“¾æ¥çš„è¯ï¼Œå®ç°èµ·æ¥éå¸¸ç®€å•ã€‚å¾®ä¿¡çˆ¬è™«å®ç°éš¾åº¦è¾ƒå¤§ï¼ŒçŸ­æœŸä¸åšè€ƒè™‘ã€‚&lt;/p&gt;

&lt;h4 id=&#34;æ•°æ®åº“&#34;&gt;æ•°æ®åº“&lt;/h4&gt;

&lt;p&gt;ä¸Šé¢æä¾›çš„åŠŸèƒ½æ ¹æœ¬ç¦»ä¸å¼€æ•°æ®åº“ï¼Œä¸ªäººåªä¼šåŸºç¡€çš„sqlæŸ¥è¯¢ï¼Œå…·ä½“é€‰ç”¨ä»€ä¹ˆæ•°æ®åº“è¿˜æ²¡æœ‰è¿›è¡Œæ›´æ·±ä¸€æ­¥çš„äº†è§£ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å†…ç½‘æ­å»º&#34;&gt;å†…ç½‘æ­å»º&lt;/h4&gt;

&lt;p&gt;ç½‘ç«™ä¸»è¦æ˜¯æœåŠ¡ç­çº§äººæ•°è¾ƒå°‘ï¼ŒåˆæœŸè®¡åˆ’éƒ¨ç½²åœ¨æ ‘è“æ´¾ä¸Šï¼Œç›´æ¥ç”¨æµ·å¤§æ ¡å›­å†…ç½‘IPåœ°å€è¿›è¡Œè®¿é—®ã€‚å› ä¸ºä¸ªäººæ²¡æœ‰å»ºç«™ç»éªŒï¼Œæ— æ³•å‡†ç¡®ä¼°è®¡å‡ºå®ç°ä¸Šè¿°åŠŸèƒ½æ‰€éœ€è¦çš„æ€§èƒ½ï¼Œè¿™æ˜¯æ•´ä¸ªé¡¹ç›®ä¸­æ¯”è¾ƒéš¾è§£å†³çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯å¿…é¡»è§£å†³çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;å†…ç½‘æ­å»ºè¿˜éœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼šå¦‚ä½•è·å–å›ºå®šIPã€å¦‚ä½•ä¿è¯ä¾›ç”µ&lt;/p&gt;

&lt;h4 id=&#34;one-more-thing&#34;&gt;One more thing&lt;/h4&gt;

&lt;p&gt;APP or å¾®ä¿¡å°ç¨‹åºï¼Œå¦‚æœèƒ½åšå‡ºæ¥çš„è¯ï¼Œæ˜¯å¯¹è‡ªå·±çš„ä¸€ä¸ªé”»ç‚¼ğŸ˜&lt;/p&gt;

&lt;p&gt;å›å¤´çœ‹ä¸€ä¸‹è‡ªå·±æƒ³è¦å®ç°çš„è¿™äº›åŠŸèƒ½ï¼ŒåŸºæœ¬å’Œç›®å‰å¸‚é¢ä¸Šå­˜åœ¨çš„ä¸€äº›APPçš„åŠŸèƒ½ç±»ä¼¼ï¼Œä½†æ¯•ç«Ÿè‡ªå·±çš„ä¸“ä¸šä¸åœ¨è¿™ä¸ªæ–¹é¢ï¼Œåˆéœ€è¦é¢å¤–çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œä¸èƒ½ä¿è¯æœ€ç»ˆèƒ½å¤Ÿå®ç°ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“ğŸ˜Š&lt;/h2&gt;

&lt;p&gt;åœ¨çœŸæ­£åŠ¨æ‰‹å†™è¿™ä»½æŠ¥å‘Šçš„æ—¶å€™ï¼Œæˆ‘å°±æ¸…æ¥šåœ°æ„Ÿå—åˆ°ï¼Œè¿™ä¸ªç½‘ç«™å…¶å®æ²¡æœ‰ç‰¹åˆ«å¤§çš„å®ç”¨æ€§ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆé¢ è¦†çš„ç‚¹ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œæ›´å¤§çš„æ„ä¹‰è®©è‡ªå·±å­¦ä¸€ç‚¹ä¸œè¥¿ï¼Œè¯¦ç»†äº†è§£ä¸€ä¸‹æ€ä¹ˆå»ºç«‹ç½‘ç«™ã€æ€ä¹ˆå†™webæœåŠ¡ç¨‹åºã€‚&lt;/p&gt;

&lt;p&gt;å†ä»å®è§‚ä¸€ç‚¹çš„è§’åº¦æ¥è€ƒè™‘ï¼Œè¿™ä¸ªæ‰€è°“çš„é¡¹ç›®åˆ’åˆ†æˆå‡ ä¸ªéƒ¨åˆ†åå®ç°çš„åŠŸèƒ½å…¶å®å¹¶ä¸å¤æ‚ï¼Œå®ç°çš„éš¾åº¦ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºè¿™ä¸ªç½‘ç«™æƒ³æ³•å¯ä»¥ä½œä¸ºSRDPé¡¹ç›®æ¥ç”³è¯·ï¼Œé”»ç‚¼è‡ªå·±çš„å®è·µèƒ½åŠ›ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>åˆ©ç”¨Termuxç¾¤å‘çŸ­ä¿¡</title>
      <link>https://wanakiki.github.io/2019/termux-sms/</link>
      <pubDate>Wed, 25 Sep 2019 19:23:03 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/termux-sms/</guid>
      <description>

&lt;p&gt;Termuxçš„ç®€å•åº”ç”¨ï¼Œä¸ºäº†è®©ç¾¤å‘çŸ­ä¿¡æœ‰æ›´ä¾¿æ·é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Termux&lt;/code&gt;æ˜¯ä¸€ä¸ªAndroidä¸‹ä¸€ä¸ªé«˜çº§çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œå¼€æºä¸”ä¸éœ€è¦rootï¼Œæ”¯æŒaptç®¡ç†è½¯ä»¶åŒ…ï¼Œååˆ†æ–¹ä¾¿å®‰è£…è½¯ä»¶åŒ…ï¼Œå®Œç¾æ”¯æŒPythonã€PHPã€Rubyã€Goã€Nodejsã€MySQLç­‰ã€‚éšç€æ™ºèƒ½è®¾å¤‡çš„æ™®åŠå’Œæ€§èƒ½çš„ä¸æ–­æå‡ï¼Œå¦‚ä»Šçš„æ‰‹æœºã€å¹³æ¿ç­‰çš„ç¡¬ä»¶æ ‡å‡†å·²è¾¾åˆ°äº†åˆçº§æ¡Œé¢è®¡ç®—æœºçš„ç¡¬ä»¶æ ‡å‡†ï¼Œç”¨å¿ƒå»æ‰“é€ å®Œå…¨å¯ä»¥æŠŠæ‰‹æœºå˜æˆä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å…³äºè½¯ä»¶çš„æ›´å¤šä¿¡æ¯åŠåŸºæœ¬é…ç½®ï¼Œå¯ä»¥å»çœ‹&lt;a href=&#34;https://www.sqlsec.com/2018/05/termux.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;å›½å…‰çš„æ•™ç¨‹&lt;/a&gt;ï¼Œå†™å¾—å¾ˆèµå¾ˆå…¨é¢ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šç”±äºè°·æ­Œçš„æ”¿ç­–æ›´æ–°ï¼ŒTermuxæœ€æ–°ç‰ˆæœ¬çš„APIæ²¡æœ‰è®¿é—®æ‰‹æœºçŸ­ä¿¡å†…å®¹çš„æƒé™ï¼Œæƒ³è¦å®ç°å‘é€çŸ­ä¿¡çš„åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨ç›¸å¯¹è¾ƒä¹…çš„0.31ç‰ˆæœ¬ã€‚åœ¨è¿™é‡Œç»™Termux API 0.31ç‰ˆæœ¬&lt;a href=&#34;https://pan.baidu.com/s/1toMtUW2MOEHPY7GOtfEYUg&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;ä¸‹è½½åœ°å€&lt;/a&gt;ï¼Œæå–ç ï¼šttx1ã€‚APIçš„å®‰è£…æ–¹å¼åœ¨å›½å…‰çš„æ–‡ç« ä¸­ä¹Ÿæœ‰ç»™å‡ºï¼Œä¸æ¸…æ¥šå¯ä»¥å»ç¿»çœ‹ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨äº†è§£å®ŒTermuxå¹¶å®‰è£…å¥½APIåï¼Œæˆ‘ä»¬çš„æ•™ç¨‹æ­£å¼å¼€å§‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å…·ä½“å®ç°&#34;&gt;å…·ä½“å®ç°&lt;/h2&gt;

&lt;p&gt;è™½ç„¶å¦‚ä»Šçš„QQã€å¾®ä¿¡å·²ç»æ‰¿æ‹…äº†å¤§éƒ¨åˆ†æˆ‘ä»¬çš„æ—¥å¸¸é€šä¿¡ä»»åŠ¡ï¼Œä½†æ˜¯æ€»æœ‰ä¸€äº›æƒ…å†µéœ€è¦ç”µè¯çŸ­ä¿¡æ¥è§£å†³ï¼Œæ¯”å¦‚ç»™é™Œç”Ÿäººä¼ è¾¾æŸäº›é€šçŸ¥ã€‚ç”µè¯æ˜¯æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ä¹Ÿä¼šæœ‰ä¸€éƒ¨åˆ†äººå€¾å‘äºçŸ­ä¿¡ã€‚åœ¨ç»å†äº†æ— æ•°æ¬¡çš„æŠ˜ç£¨ä¹‹åï¼Œæˆ‘ç»ˆäºå‘ç°äº†&lt;code&gt;Termux&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾ä½ ç°åœ¨æœ‰ä¸€ä¸ªå«æœ‰è”ç³»äººå§“ååŠç”µè¯å·ç çš„è¡¨æ ¼ï¼Œå°†æ— ç”¨ä¿¡æ¯åˆ é™¤ï¼Œåªä¿ç•™å§“åå’Œå·ç ä¸¤åˆ—å…·ä½“å†…å®¹åï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;æ–‡ä»¶ -&amp;gt; å¦å­˜ä¸º -&amp;gt; æ–‡æœ¬æ–‡ä»¶(åˆ¶è¡¨ç¬¦åˆ†éš”)&lt;/code&gt;çš„æ–¹å¼è·å¾—ä¸€ä¸ªæ ¼å¼æ•´é½çš„æ–‡æœ¬æ–‡æ¡£ã€‚å°†å…¶é‡å‘½åä¸º&lt;code&gt;data.txt&lt;/code&gt;ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€åé€‰æ‹©å¦å­˜ä¸ºï¼Œåœ¨å¦å­˜ä¸ºç•Œé¢è°ƒæ•´ä¿å­˜ç¼–ç ä¸º&lt;code&gt;UTF-8&lt;/code&gt;ï¼Œè¿™æ­¥ä¸€å®šè¦åšï¼Œä¸ç„¶ç¨‹åºæ— æ³•æ­£å¸¸è¯»å–æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;å°†å¾—åˆ°çš„æ–‡ä»¶ç”¨QQæˆ–è€…TIMå‘é€åˆ°ä½ çš„æ‰‹æœºå¹¶æ¥å—ï¼Œ&lt;strong&gt;æŒ‰ç…§å›½å…‰çš„æ•™ç¨‹ä¸­å»ºç«‹å¥½æ–‡ä»¶å¤¹é“¾æ¥&lt;/strong&gt;çš„å‰æä¸‹ã€‚ä»¥QQä¸ºä¾‹ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä¸‹é¢å‡ è¡Œå‘½ä»¤ä¾¿å¯ä¸‹è½½å¥½ç¨‹åºã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd ~/QQ
wget https://raw.githubusercontent.com/wanakiki/furry/master/termux-sms/messages.py
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯ä»¥æ‰¾åˆ°é»˜è®¤çš„ä¿¡æ¯è¯­å¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä»¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚ä¿®æ”¹å®Œæ¯•åæ‰§è¡Œ&lt;code&gt;python messages.py&lt;/code&gt;å‘½ä»¤ï¼Œè¿è¡Œç¨‹åºã€‚&lt;/p&gt;

&lt;p&gt;pythonå®ç°ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys
import os


def send_sms(aim, text):
    &amp;quot;&amp;quot;&amp;quot;use two argv to send messages
    &amp;quot;&amp;quot;&amp;quot;
    os.system(&#39;termux-sms-send -n &#39; + aim + &#39; &#39; + text)
    return


def fileMessage(fileName):
    &amp;quot;&amp;quot;&amp;quot;send messages form an excel(name, number)
    &amp;quot;&amp;quot;&amp;quot;

    print(&#39;start read file&#39;)
    try:
        fh = open(fileName, encoding=&#39;utf-8&#39;)
    except:
        print(&#39;Can\&#39;t find the data file&#39;)
        return

    # create list (name, number)
    group = []
    for line in fh:
        line = line.split()
        group.append(line)
    fh.close()

    # send message
    words = &amp;quot; hello, this is termux&amp;quot;  # Replace it with your own words
    for people in group:
        send_sms(people[1], people[0] + words)

    print(&#39;finish&#39;)
    return


def sendOne():
    aim = input(&#39;Please input your aim number\n&#39;)
    words = input(&#39;Now you can input your message\n&#39;)

    print(&#39;+=======================+&#39;)
    print(&#39;Please check your input:&#39;)
    print(&#39;number: &#39;, aim)
    print(&#39;words: &#39;, words)
    flag = input(
        &amp;quot;Now, if your input is correct, input &#39;y&#39; or &#39;Y&#39; to send your message: &amp;quot;)
    if (flag == &#39;y&#39; or flag == &#39;Y&#39;):
        send_sms(aim, words)
    return


print(&amp;quot;&amp;quot;&amp;quot;Functions:
1 Only send one message.(Test this program)
2 Send messages form one file.
+============================================+&amp;quot;&amp;quot;&amp;quot;)

flag = input(&#39;Choose the function:&#39;)
if flag == &#39;1&#39;:
    sendOne()
elif flag == &#39;2&#39;:
    fileMessage(&#39;data.txt&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wanakiki/photo/master/shengsai/20190925205425.png&#34; alt=&#34;è¿è¡Œç»“æœ&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æå–å°ç±³äº‘æœåŠ¡çŸ­ä¿¡</title>
      <link>https://wanakiki.github.io/2019/short-message/</link>
      <pubDate>Thu, 05 Sep 2019 12:16:09 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/short-message/</guid>
      <description>&lt;p&gt;æœ€è¿‘æ‰‹æœºåˆ·äº†AOSIPï¼ŒåŸæ¥çš„çŸ­ä¿¡éƒ½æ²¡æœ‰åŒæ­¥ï¼Œå»å°ç±³äº‘æœåŠ¡å®˜ç½‘å‘ç°æ²¡æœ‰å¯¼å‡ºæŒ‰é’®ï¼Œç¨å¾®æŠ˜è…¾äº†ä¸‹è¾¾åˆ°äº†ç›®çš„ï¼Œç®€å•è®°å½•ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;ç™»é™†&lt;a href=&#34;https://i.mi.com/?_locale=zh_CN&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;å°ç±³äº‘æœåŠ¡&lt;/a&gt;ï¼Œè¿›å…¥çŸ­ä¿¡ç•Œé¢ï¼Œè¿™ä¸ªç•Œé¢æ˜¯åŠ¨æ€åŠ è½½çš„ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹æ»‘åˆ°æœ€åº•éƒ¨ç¡®å®šæ‰€æœ‰çŸ­ä¿¡éƒ½å·²ç»è¢«åŠ è½½å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¹‹åæŒ‰ä¸‹&lt;code&gt;Ctrl+s&lt;/code&gt;ï¼ŒæŠŠæ•´ä¸ªç½‘é¡µä¿å­˜ä¸‹æ¥ï¼Œä¿å­˜ä¹‹åä¼šæ˜¯ä¸€ä¸ªè¾ƒå¤§çš„htmlæ–‡ä»¶ï¼Œç”¨ç¼–è¾‘å™¨æ‰“å¼€ï¼Œæ‰¾åˆ°å…¶ä¸­çŸ­ä¿¡éƒ¨åˆ†ã€‚æ–°å»ºä¸€ä¸ªhtmlæ–‡ä»¶ï¼ŒæŠŠçŸ­ä¿¡éƒ¨åˆ†çš„ä»£ç ç›´æ¥å¤åˆ¶è¿›æ¥ï¼Œä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨è‡ªåŠ¨è¿›è¡Œæ ¼å¼åŒ–ã€‚æœ€ç»ˆå¯ä»¥å¾—åˆ°ä¸€ä¸ªå¯ä»¥æ­£å¸¸æ‰“å¼€æµè§ˆçš„ç•Œé¢ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨åŸºæœ¬è¾¾åˆ°äº†çŸ­ä¿¡å¤‡ä»½çš„ç›®çš„ï¼Œä½†æ˜¯æˆ‘æœ€è¿‘åˆšå¥½è®¡åˆ’ç€æ¢æ‰åŸæ¥çš„æ‰‹æœºå·ï¼Œä½†æ˜¯åˆå®³æ€•ä¹‹å‰æ³¨å†Œè¿‡çš„ç½‘ç«™å¯†ç æ— æ³•æ‰¾å›ã€‚è¿™æ—¶å€™å¯ä»¥ç”¨ä¿å­˜å¥½çš„çŸ­ä¿¡htmlæ–‡ä»¶åŠ ä¸Šç®€å•çš„pythonè„šæœ¬ï¼Œæå–çŸ­ä¿¡å†…å®¹ä¸­è¢«æ–¹æ‹¬å·åŒ…è£¹ç€çš„ä¿¡æ¯ï¼Œå°†æå–å‡ºæ¥çš„å…¬å¸åè¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç”¨æ¥åç»­çš„æ‰‹æœºæ¢ç»‘ã€‚&lt;/p&gt;

&lt;p&gt;è¶…çº§ç®€å•çš„pythonè„šæœ¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import re

fw = open(&#39;å…¬å¸åˆ—è¡¨.txt&#39;,&#39;w&#39;,encoding=&#39;UTF-8&#39;)  #å¼•å·å†…ä¸ºè¾“å‡ºæ–‡ä»¶å
fh = open(&#39;ç½‘é¡µ.html&#39;,encoding=&#39;UTF-8&#39;)     #å¼•å·å†…æ–‡ä»¶åæ ¹æ®è‡ªå·±æƒ…å†µä¿®æ”¹
store = []

for line in fh:
    res = re.findall(&#39;ã€(.*?)ã€‘&#39;, line)
    for nm in res:
        if nm not in store:
            store.append(nm)

for x in store:
    fw.write(x + &#39;\n&#39;)
fw.close()
fh.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢è„šæœ¬è¿è¡Œç»“æŸä¹‹åï¼Œå°±èƒ½å¾—åˆ°æƒ³è¦çš„å…¬å¸åˆ—è¡¨ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æ–°ç”Ÿã®å¤§å­¦åˆ†äº«</title>
      <link>https://wanakiki.github.io/2019/univ-share/</link>
      <pubDate>Fri, 30 Aug 2019 22:54:12 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/univ-share/</guid>
      <description>

&lt;p&gt;å¯èƒ½å¾ˆå¤šäººéƒ½ä¼šé—®æ€ä¹ˆæ ·æ‰èƒ½è¿‡å¥½è‡ªå·±çš„å¤§å­¦ç”Ÿæ´»ï¼Œä½†æ˜¯å½“æˆ‘æƒ³è¦å»æ€»ç»“è‡ªå·±å¤§å­¦ä»¥æ¥çš„ç»éªŒï¼Œé¦–å…ˆæƒ³åˆ°çš„å¤§éƒ¨åˆ†éƒ½æ˜¯è‡ªå·±çš„é—æ†¾ï¼Œæä¸å‡ºæ¥ä»€ä¹ˆæœ‰ä»·å€¼çš„å»ºè®®ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå¹´çš„æ–°ç”Ÿç”±æˆ‘æ¥å¸¦ï¼Œå€Ÿæ­¤æœºä¼šæ•´ç†ä¸€ä¸‹ä¹‹å‰åœ¨äºè€å¸ˆé‚£é‡Œå¬åˆ°çš„åˆ†äº«ï¼Œå¸Œæœ›èƒ½å¯¹ä»–äººå¸¦æ¥ä¸€äº›å¯å‘ã€‚ï¼ˆå½“ç„¶è¿™éƒ¨åˆ†å†…å®¹å¯¹äº19çº§æ¥è¯´æ˜¯æ–°è€ç”Ÿäº¤æµä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;blockquote&gt;
&lt;p&gt;æ–‡ç« è§‚ç‚¹å–è‡ªäºè€å¸ˆçš„åˆ†äº«ï¼Œæš‚æ—¶æœªè¯¢é—®å…¶æœ¬äººæ„è§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ€»çš„æ¥çœ‹ï¼Œå¤§å­¦å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œå‰ä¸‰å­¦æœŸä¸ºä¸€é˜¶æ®µï¼Œå¤§äºŒä¸‹åŠå¤§ä¸‰ä¸Šä¸ºä¸€é˜¶æ®µï¼Œå¤§ä¸‰ä¸‹åŠæ•´ä¸ªå¤§å››ä¸ºä¸€é˜¶æ®µã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¤§å­¦çš„å‰ä¸‰ä¸ªå­¦æœŸ&#34;&gt;å¤§å­¦çš„å‰ä¸‰ä¸ªå­¦æœŸ&lt;/h2&gt;

&lt;p&gt;ä»é«˜ä¸­æ¥åˆ°å¤§å­¦è¿™ä¸ªå°ç¤¾ä¼šï¼Œç»å¤§éƒ¨åˆ†å­¦ç”Ÿï¼Œå°¤å…¶æ˜¯åƒæˆ‘ä¸€æ ·çš„å±±ä¸œè€ƒç”Ÿï¼Œé€‚åº”å¤§å­¦ç€å®éœ€è¦ä¸€å®šçš„æ—¶æœŸã€‚å¤§å­¦çš„ç”Ÿæ´»å’Œé«˜ä¸­æœ‰å¤ªå¤šä¸åŒï¼Œæ­¥å…¥å¤§å­¦ä¹Ÿä¼šå‘ç°å‘¨å›´çš„äººæœ‰å„ç§å„æ ·çš„è¿½æ±‚ï¼Œå¦‚ä½•å¿«é€Ÿé€‚åº”æ–°çš„ç¯å¢ƒã€æ‰¾åˆ°æ–°çš„ç›®æ ‡æ˜¯è¿™ä¸ªé˜¶æ®µé¦–è¦è§£å†³çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;ä»å¤§å­¦çš„è¯¾ç¨‹è®¾å®šä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå¯¹äºå¤§éƒ¨åˆ†ä¸“ä¸šçš„å­¦ç”Ÿæ¥è¯´å‰ä¸‰ä¸ªå­¦æœŸéƒ½æ˜¯æ‰“åŸºç¡€çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªæ—¶æœŸå­¦ä¹ çš„è¯¾ç¨‹ä¸»è¦æ˜¯ä¸ºè‡ªèº«ä¸“ä¸šåŒ–çš„å‘å±•æ‰“ä¸‹åŸºç¡€ï¼Œä¸ºæœªæ¥çš„ä¸“ä¸šè¯¾ç¨‹åšå‡†å¤‡ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºç†å·¥ç§‘ä¸“ä¸šï¼Œé«˜æ•°çœŸçš„æ˜¯æ­¥å…¥å¤§å­¦ä¹‹åæœ€å¤§çš„éš¾é¢˜ï¼Œæœ¬èº«é«˜ä¸­å’Œå¤§å­¦æ•°å­¦è¯¾ç¨‹çš„äº¤æ¥è®¾å®šçš„å°±ä¸åˆç†ï¼Œé«˜ä¸­è¯¾æœ¬ä¸å¤§å­¦è¯¾æœ¬è¡”æ¥ç¨‹åº¦ä¸é«˜ï¼Œè€Œè¿™ä¸ªæ—¶å€™çš„å¤§å­¦ç”Ÿä»¬è¿˜åœ¨äº«å—ç€è‡ªå·±åˆšåˆšæ‹¥æœ‰çš„â€œè‡ªç”±â€ï¼Œé«˜æ•°çš„å­¦ä¹ æ—¶é—´ä¸æ˜¯å¾ˆå……åˆ†ã€‚æœ€ç»ˆè‡ªç„¶å¯¼è‡´äº†å­¦ä¹ æ•ˆæœè¾ƒå·®ï¼Œå¯¹ä»Šåçš„ä¸“ä¸šè¯¾å­¦ä¹ ä¹Ÿä¼šå¸¦æ¥ä¸åˆ©å½±å“ã€‚è¿™ç‚¹ä¸ªäººæ·±æœ‰ä½“ä¼šã€‚&lt;/p&gt;

&lt;p&gt;ç¾å›½çš„æœ¬ç§‘ç”Ÿæ²¡æœ‰è®¾ç«‹åŒ»å­¦ä¸“ä¸šï¼Œå­¦åŒ»çš„ç ”ç©¶ç”Ÿéƒ½æ˜¯ä»ç”Ÿç‰©ä¸“ä¸šçš„æœ¬ç§‘ç”Ÿé€‰æ‹”è€Œæ¥ï¼Œå¯¹è¿™éƒ¨åˆ†åŒ»å­¦ä¸“ä¸šçš„å­¦ç”Ÿæ¥è¯´ï¼Œä»–ä»¬çš„é€‚åº”æ—¶æœŸæ˜¯æ•´ä¸ªæœ¬ç§‘ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¤§äºŒä¸‹-å¤§ä¸‰ä¸Š&#34;&gt;å¤§äºŒä¸‹ï¼Œå¤§ä¸‰ä¸Š&lt;/h2&gt;

&lt;p&gt;å¯¹äºæƒ³è¦èµ°æœ€å¤šäººèµ°çš„è·¯çš„é‚£äº›äººï¼Œè¿™ä¸ªæ—¶æœŸçš„é‡ç‚¹åœ¨&lt;strong&gt;ç§‘ç ”&lt;/strong&gt;ã€‚å› ä¸ºç»è¿‡äº†å‰ä¸‰ä¸ªå­¦æœŸçš„å­¦ä¹ ï¼Œç†è®ºä¸Šæ¯ä¸ªäººéƒ½å·²ç»æŒæ¡äº†åŸºæœ¬çš„ä¸“ä¸šçŸ¥è¯†ï¼Œå¯ä»¥è¯•ç€ä»¥æœ¬ç§‘ç”Ÿçš„èº«ä»½åŠ å…¥ä¸€äº›å®éªŒå®¤ï¼Œæå‰äº†è§£å®éªŒå®¤ã€‚&lt;/p&gt;

&lt;p&gt;æœ€ä½³çš„æ–¹æ¡ˆæ˜¯åœ¨å¤§äºŒä¸Šå­¦æœŸçš„å¯’å‡æˆ–è€…æ›´æ—©å°±ç¡®å®šå¥½æ–¹å‘ï¼ŒåŠæ—¶åœ°è”ç³»è€å¸ˆå¹¶è¿›è¡Œä¸€å®šç§‘ç ”çŸ¥è¯†çš„å­¦ä¹ ã€‚ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼ŒåŠ å…¥ä¸€ä¸ªå®éªŒå®¤æ˜¯ä¸€ä»¶å¾ˆæ…é‡çš„äº‹æƒ…ï¼Œä¸èƒ½å› ä¸ºè‡ªå·±çš„ä¸€æ—¶å†²åŠ¨æˆ–è€…æ˜¯å¥½å¥‡æ‰å»æŠ¥åã€‚ä½ çš„åŠ¨æœºä¼šå†³å®šä½ æœ€ç»ˆçš„æˆå°±ï¼Œå¦‚æœä½ æ²¡æœ‰ä¸‹å¥½å†³å®šä¸å¦‚å†è¿›è¡Œä¸€å®šæ—¶é—´çš„è§‚æœ›ã€‚&lt;/p&gt;

&lt;p&gt;è¿›å…¥å®éªŒå®¤åï¼Œè¦é¿å…æˆä¸ºå·¥äººï¼Œåœ¨å¤§å­¦æœ€å¥½è¦å­¦ä¼šå¦‚ä½•ä¸ä»–äººäº¤æµï¼Œç§¯æä¸»åŠ¨çš„äººå¾€å¾€ä¼šè·å¾—æ›´å¤šçš„æœºé‡ã€‚æ¯•ç«Ÿç°åœ¨è¿˜æ˜¯æœ¬ç§‘ç”Ÿï¼Œå’Œå®éªŒå®¤çš„ç ”ç©¶ç”Ÿæ€»ä¼šæœ‰ä¸€äº›ä»£æ²Ÿï¼Œä½ å¯èƒ½è¿‡äº†å‡ ä¸ªæœˆä¹‹åè¿˜ä¼šç‹¬è‡ªä¸€äººåœ¨è§’è½é‡Œç ”ç©¶ä¸€äº›å¸¸è¯†æ€§çš„é—®é¢˜ã€‚å¦‚æœæœ‰è¿™ç§æƒ…å†µï¼Œä¸å¦‚ä»ä¸€å¼€å§‹å°±å’Œä¸€ä¸ªç ”ç©¶ç”Ÿå­¦é•¿å­¦å§ä¿æŒå¥½å…³ç³»ï¼Œå¾ˆå¤šç®€å•çš„é—®é¢˜å¯ä»¥å»é—®å­¦é•¿å­¦å§ï¼Œä½†ä¸æ˜¯å¾ˆé€‚åˆå»é—®è€å¸ˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¤§ä¸‰ä¸‹ä»¥åŠå¤§å››&#34;&gt;å¤§ä¸‰ä¸‹ä»¥åŠå¤§å››&lt;/h2&gt;

&lt;p&gt;å¦‚æœä½ èƒ½å¤Ÿå®Œæˆæ­¤å‰çš„è®¡åˆ’ï¼Œè¿™ä¸€é˜¶æ®µå°†ä¼šæˆä¸ºæ”¶è·çš„é˜¶æ®µã€‚&lt;del&gt;åŸè°…æˆ‘ç¬‘äº†&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;å¤§å®¶çš„å»å‘æœ‰ä¸‹é¢å‡ ç§ï¼š&lt;/p&gt;

&lt;h3 id=&#34;ä¿ç ”&#34;&gt;ä¿ç ”&lt;/h3&gt;

&lt;p&gt;æ•´ä½“æ¨å…æ¯”ä¾‹å¤§æ¦‚æœ‰10~15%ï¼Œåˆ†ä¸‹é¢å‡ ç§æƒ…å†µ&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;æ™®é€šæ¨å…ï¼šæ»¡è¶³æˆç»©è¦æ±‚ï¼Œå¹¶ä¸”å…­çº§è¾¾åˆ°426åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;ç§‘æŠ€ç«èµ›ï¼šåœ¨æœ¬æ ¡ï¼Œè¦æ±‚ä¸“ä¸šå‰50%å¹¶ä¸”é€šè¿‡å››çº§ã€‚å›½äºŒåŠä»¥ä¸Šçš„å¥–é¡¹å¯ç”¨äºç«èµ›ä¿ç ”ã€‚ä½†æ»¡è¶³æ¨å…æ¡ä»¶çš„ç«èµ›å…·æœ‰ä¸ç¡®å®šæ€§ã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šå­¦æœ¯ä¸“é•¿ï¼šSI EIç¬¬ä¸€ä½œè€…ï¼Œä¸“ä¸šå‰50%ï¼Œé€šè¿‡å…­çº§ã€‚&lt;/li&gt;
&lt;li&gt;ç ”ç©¶ç”Ÿæ”¯æ•™å›¢ï¼šæ”¯æ•™ä¸€å¹´ï¼Œå¯¹ä¸ªäººçš„å¿—æ„¿æœåŠ¡ç»å†æœ‰è¦æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨èŒç ”ç©¶ç”Ÿï¼šä¸­å…±å…šå‘˜+å››çº§&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;è€ƒç ”&#34;&gt;è€ƒç ”&lt;/h3&gt;

&lt;p&gt;è€ƒç ”æ¯”ä¾‹å¤§æ¦‚å æ¯•ä¸šç”Ÿçš„35~40%ï¼Œä¸”æœ‰ä¸€å®šæ•°é‡çš„äºŒæˆ˜äººå‘˜ã€‚è€ƒç ”æœ‰å¾ˆå¤šç›¸å…³çš„å¤ä¹ è®¡åˆ’ï¼Œåœ¨è¿™é‡Œä¸åˆ—å‡ºã€‚&lt;/p&gt;

&lt;h3 id=&#34;å‡ºå›½&#34;&gt;å‡ºå›½&lt;/h3&gt;

&lt;p&gt;å®éªŒå®¤ç»å†å¯èƒ½æ›´æœ‰å¸®åŠ©ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ä¸»åŠ¨å°±ä¸š&#34;&gt;ä¸»åŠ¨å°±ä¸š&lt;/h3&gt;

&lt;p&gt;åœ¨å‡æœŸå‚åŠ å®ä¹ ï¼Œå°½æ—©è§„åˆ’å°½æ—©è¡ŒåŠ¨ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PY4E é¢˜ç›®æ•´ç†ï¼ˆä¸‹ï¼‰</title>
      <link>https://wanakiki.github.io/2019/python-assignments/</link>
      <pubDate>Mon, 05 Aug 2019 18:29:25 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/python-assignments/</guid>
      <description>

&lt;p&gt;Courseraä¸­pythonæ•™ç¨‹åŒæ­¥é¢˜ç›®æ•´ç†ï¼Œæ¶‰åŠåˆ°ç½‘ç»œå’Œæ•°æ®åº“ç¼–ç¨‹éƒ¨åˆ†ã€‚é¢˜ç›®åœ°å€ï¼š&lt;a href=&#34;https://www.py4e.com/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;py4e&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;blockquote&gt;
&lt;p&gt;æ‰“å¼€ç½‘é¡µçš„æ“ä½œæ­¥éª¤ï¼Œå¯¼å…¥urllibåº“ï¼Œurllib.requert.urlopen(url).read()
å¯ä»¥ç›´æ¥å¯¹å­—å…¸è¿›è¡Œurlç¼–ç  urllib.parse.urlencode(parms)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;exploring-the-hypert-ext-transport-protocol-æ¢ç´¢è¶…æ–‡æœ¬ä¼ è¾“åè®®&#34;&gt;Exploring the HyperT ext Transport Protocolï¼ˆæ¢ç´¢è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰&lt;/h2&gt;

&lt;p&gt;You are to retrieve the following document using the HTTP protocol in a way that you can examine the HTTP Response headers.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://data.pr4e.org/intro-short.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://data.pr4e.org/intro-short.txt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are three ways that you might retrieve this web page and look at the response headers:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Preferred: Modify the socket1.py program to retrieve the above URL and print out the headers and data. Make sure to change the code to retrieve the above URL - the values are different for each URL.&lt;/li&gt;
&lt;li&gt;Open the URL in a web browser with a developer console or FireBug and manually examine the headers that are returned.&lt;/li&gt;
&lt;li&gt;Use the telnet program as shown in lecture to retrieve the headers and content.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Enter the header values in each of the fields below and press &amp;ldquo;Submit&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;æœ‰ä¸‰ç§æ–¹å¼æŸ¥çœ‹ç›¸åº”å¤´æ–‡ä»¶ï¼Œç¬¬ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨Pythonè„šæœ¬ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯ç”¨æµè§ˆå™¨æ‰“å¼€URLï¼Œåœ¨æ§åˆ¶å°æŸ¥çœ‹ï¼Œç¬¬ä¸‰ç§æ–¹å¼æ˜¯ä½¿ç”¨telnetç¨‹åºã€‚ä»…åˆ—å‡ºäº†ç¬¬ä¸€ç§çš„è„šæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºç½‘ç»œçš„åŸå› è¿™æ®µä»£ç æ²¡æœ‰æˆåŠŸè¿›è¡Œæµ‹è¯•ï¼Œåœ¨è®¾å®šsocketå‘½ä»¤æ—¶çš„&lt;code&gt;\r\n&lt;/code&gt;ä¹Ÿä¸æ¸…æ¥šå…·ä½“çš„å«ä¹‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import socket

mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
mysock.connect((&#39;data.pr4e.org&#39;, 80))
print(&#39;connected&#39;)
cmd = &#39;GET http://data.pr4e.org/intro-short.txt HTTP/1.0\r\n\r\n&#39;.encode()
mysock.send(cmd)

while True:
    data = mysock.recv(512)
    if len(data) &amp;lt; 1:
        break
    print(data.decode(), end=&#39;&#39;)
mysock.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;scraping-numbers-from-html-using-beautifulsoup&#34;&gt;Scraping Numbers from HTML using BeautifulSoup&lt;/h2&gt;

&lt;p&gt;In this assignment you will write a Python program similar to &lt;a href=&#34;http://www.py4e.com/code3/urllink2.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/urllink2.py&lt;/a&gt;. The program will use urllib to read the HTML from the data files below, and parse the data, extracting numbers and compute the sum of the numbers in the file.&lt;/p&gt;

&lt;p&gt;We provide two files for this assignment. One is a sample file where we give you the sum for your testing and the other is the actual data you need to process for the assignment.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Sample data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/comments_42.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/comments_42.html&lt;/a&gt; (Sum=2553)&lt;/li&gt;
&lt;li&gt;Actual data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/comments_275913.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/comments_275913.html&lt;/a&gt; (Sum ends with 37)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You do not need to save these files to your folder since your program will read the data directly from the URL.&lt;/p&gt;

&lt;h3 id=&#34;data-format&#34;&gt;Data Format&lt;/h3&gt;

&lt;p&gt;The file is a table of names and comment counts. You can ignore most of the data in the file except for lines like the following:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Modu&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;span class=&amp;quot;comments&amp;quot;&amp;gt;90&amp;lt;/span&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Kenzie&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;span class=&amp;quot;comments&amp;quot;&amp;gt;88&amp;lt;/span&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Hubert&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;span class=&amp;quot;comments&amp;quot;&amp;gt;87&amp;lt;/span&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è§£æç½‘é¡µï¼Œè®¡ç®—ç½‘é¡µä¸­æ•°å­—çš„æ€»å’Œã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æŠ“å–ç½‘ç«™ä¸­çš„æ•°æ®å¹¶è®¡ç®—æ•°æ®æ€»å’Œ
import urllib.request
import urllib.parse
import urllib.error
from bs4 import BeautifulSoup


url = &#39;http://python-data.dr-chuck.net/comments_275913.html&#39;
html = urllib.request.urlopen(url).read()
soup = BeautifulSoup(html, &#39;html.parser&#39;)

span = soup(&#39;span&#39;)
res = 0
for aspan in span:
    res = res + int(aspan.get_text())

print(&#39;ç»“æœä¸º&#39;, res)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;following-links-in-python&#34;&gt;Following Links in Python&lt;/h2&gt;

&lt;p&gt;In this assignment you will write a Python program that expands on &lt;a href=&#34;http://www.py4e.com/code3/urllinks.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/urllinks.py&lt;/a&gt;. The program will use urllib to read the HTML from the data files below, extract the href= vaues from the anchor tags, scan for a tag that is in a particular position relative to the first name in the list, follow that link and repeat the process a number of times and report the last name you find.&lt;/p&gt;

&lt;p&gt;We provide two files for this assignment. One is a sample file where we give you the name for your testing and the other is the actual data you need to process for the assignment&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Sample problem: Start at &lt;a href=&#34;http://py4e-data.dr-chuck.net/known_by_Fikret.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/known_by_Fikret.html&lt;/a&gt;
Find the link at position 3 (the first name is 1). Follow that link. Repeat this process 4 times. The answer is the last name that you retrieve.
Sequence of names: Fikret Montgomery Mhairade Butchi Anayah
Last name in sequence: Anayah&lt;/li&gt;
&lt;li&gt;Actual problem: Start at: &lt;a href=&#34;http://py4e-data.dr-chuck.net/known_by_Cohen.html&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/known_by_Cohen.html&lt;/a&gt;
Find the link at position 18 (the first name is 1). Follow that link. Repeat this process 7 times. The answer is the last name that you retrieve.
Hint: The first character of the name of the last page that you will load is: A&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;strategy&#34;&gt;Strategy&lt;/h3&gt;

&lt;p&gt;The web pages tweak the height between the links and hide the page after a few seconds to make it difficult for you to do the assignment without writing a Python program. But frankly with a little effort and patience you can overcome these attempts to make it a little harder to complete the assignment without writing a Python program. But that is not the point. The point is to write a clever Python program to solve the program.&lt;/p&gt;

&lt;h3 id=&#34;sample-execution&#34;&gt;Sample execution&lt;/h3&gt;

&lt;p&gt;Here is a sample execution of a solution:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;$ python3 solution.py
Enter URL: http://py4e-data.dr-chuck.net/known_by_Fikret.html
Enter count: 4
Enter position: 3
Retrieving: http://py4e-data.dr-chuck.net/known_by_Fikret.html
Retrieving: http://py4e-data.dr-chuck.net/known_by_Montgomery.html
Retrieving: http://py4e-data.dr-chuck.net/known_by_Mhairade.html
Retrieving: http://py4e-data.dr-chuck.net/known_by_Butchi.html
Retrieving: http://py4e-data.dr-chuck.net/known_by_Anayah.html
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The answer to the assignment for this execution is &amp;ldquo;Anayah&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;ç¨‹åºè¦æ±‚ï¼šä»æŒ‡å®šçš„é“¾æ¥å¼€å§‹ï¼Œè§£æhtmlé¡µé¢ï¼Œè·å–æ‰€æœ‰çš„herfæ ‡ç­¾ï¼Œæ‰¾åˆ°æŒ‡å®šä½ç½®ï¼ˆpositionï¼‰çš„é“¾æ¥ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹æŒ‡å®šæ¬¡æ•°ï¼ˆcount)ã€‚æœ€ç»ˆè¾“å‡ºæ‰¾åˆ°çš„äººåã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è·Ÿè¸ªè¶…é“¾æ¥ï¼Œæ‰¾åˆ°ç›®æ ‡
import urllib.request
import urllib.parse
import urllib.error
from bs4 import BeautifulSoup

# å‡å®šè¾“å…¥è§„èŒƒ
count = int(input(&#39;Enter Count:&#39;))
position = int(input(&#39;Enter Position:&#39;)) - 1    #ä»1å¼€å§‹è®¡ç®—ä½ç½®
flag = int(input(&#39;&#39;&#39;Select Url:
1: http://py4e-data.dr-chuck.net/known_by_Fikret.html
2: http://py4e-data.dr-chuck.net/known_by_Cohen.html
&#39;&#39;&#39;))

if flag == 1:
    url = &#39;http://py4e-data.dr-chuck.net/known_by_Fikret.html&#39;
else:
    url = &#39;http://py4e-data.dr-chuck.net/known_by_Cohen.html&#39;

while True:
    html = urllib.request.urlopen(url).read()   #æ‰“å¼€ç•Œé¢
    soup = BeautifulSoup(html, &#39;html.parser&#39;)   #ç•Œé¢è§£æ


    #ç•Œé¢é“¾æ¥çš„æ ¼å¼ä¸º ``&amp;lt;a href = &amp;quot;xx.com&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;``
    #åº”è¯¥æå–aæ ‡ç­¾
    a_coll = soup(&#39;a&#39;)    #è·å–aæ ‡ç­¾é›†åˆ å±äºbeautiful soupä¸­çš„ç±»å‹ï¼Œåº”è¯¥æ˜¯é‡è½½äº†æ‹¬å·ï¼Œprint(a_coll[0])æ”¯æŒè¿™ç§è®¿é—®
    href = a_coll[position].get(&#39;href&#39;, None)
    if href is None:
        print(&#39;runtime error&#39;)
        quit()

    if count &amp;gt; 1:
        count = count - 1
        url = href  # æ›´æ–°url ä»¥è¿›ä¸€æ­¥æŠ“å–
    else:
        res = a_coll[position].get_text()   #è·å–å†…å®¹
        break

print(res)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;extracting-data-from-xml&#34;&gt;Extracting Data from XML&lt;/h2&gt;

&lt;p&gt;In this assignment you will write a Python program somewhat similar to &lt;a href=&#34;http://www.py4e.com/code3/geoxml.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/geoxml.py&lt;/a&gt;. The program will prompt for a URL, read the XML data from that URL using urllib and then parse and extract the comment counts from the XML data, compute the sum of the numbers in the file.&lt;/p&gt;

&lt;p&gt;We provide two files for this assignment. One is a sample file where we give you the sum for your testing and the other is the actual data you need to process for the assignment.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Sample data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/comments_42.xml&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/comments_42.xml&lt;/a&gt; (Sum=2553)&lt;/li&gt;
&lt;li&gt;Actual data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/comments_275915.xml&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/comments_275915.xml&lt;/a&gt; (Sum ends with 24)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You do not need to save these files to your folder since your program will read the data directly from the URL. Note: Each student will have a distinct data url for the assignment - so only use your own data url for analysis.&lt;/p&gt;

&lt;h3 id=&#34;data-format-and-approach&#34;&gt;Data Format and Approach&lt;/h3&gt;

&lt;p&gt;The data consists of a number of names and comment counts in XML as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;&amp;lt;comment&amp;gt;
  &amp;lt;name&amp;gt;Matthias&amp;lt;/name&amp;gt;
  &amp;lt;count&amp;gt;97&amp;lt;/count&amp;gt;
&amp;lt;/comment&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You are to look through all the &lt;code&gt;&amp;lt;comment&amp;gt;&lt;/code&gt; tags and find the &lt;code&gt;&amp;lt;count&amp;gt;&lt;/code&gt; values sum the numbers. The closest sample code that shows how to parse XML is geoxml.py. But since the nesting of the elements in our data is different than the data we are parsing in that sample code you will have to make real changes to the code.&lt;/p&gt;

&lt;p&gt;To make the code a little simpler, you can use an XPath selector string to look through the entire tree of XML for any tag named &amp;lsquo;count&amp;rsquo; with the following line of code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;counts = tree.findall(&#39;.//count&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Take a look at the Python ElementTree documentation and look for the supported XPath syntax for details. You could also work from the top of the XML down to the comments node and then loop through the child nodes of the comments node.&lt;/p&gt;

&lt;h3 id=&#34;sample-execution-1&#34;&gt;Sample Execution&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;$ python3 solution.py
Enter location: http://py4e-data.dr-chuck.net/comments_42.xml
Retrieving http://py4e-data.dr-chuck.net/comments_42.xml
Retrieved 4189 characters
Count: 50
Sum: 2...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¨‹åºè¦æ±‚ï¼šè§£æXMLæ–‡ä»¶ï¼Œè®¡ç®—æ•´ä¸ªæ–‡ä»¶ä¸­countæ ‡ç­¾çš„æ€»å’Œã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import xml.etree.ElementTree as ET
import urllib.request
import urllib.parse
import urllib.error

url = &#39;http://py4e-data.dr-chuck.net/comments_275915.xml&#39;   # æŒ‡å®šURL
uh = urllib.request.urlopen(url)
data = uh.read()    #è·å–ç½‘é¡µæ•°æ®

print(&#39;Retrived&#39;, len(data), &#39;characters&#39;)
tree = ET.fromstring(data)
counts = tree.findall(&#39;.//count&#39;)   #æŸ¥æ‰¾countæ ‡ç­¾
# counts = tree.findall(&#39;comments/comment/count&#39;)
# æŸ¥æ‰¾countå¯ä»¥ä½¿ç”¨ä¸Šé¢è¿™è¡Œè¯­å¥

print(&#39;Count:&#39;, len(counts))

res = 0
for count in counts:
    res = res + int(count.text)

print(&#39;Sum:&#39;, res)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;extracting-data-from-json&#34;&gt;Extracting Data from JSON&lt;/h2&gt;

&lt;p&gt;In this assignment you will write a Python program somewhat similar to &lt;a href=&#34;http://www.py4e.com/code3/json2.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/json2.py&lt;/a&gt;. The program will prompt for a URL, read the JSON data from that URL using urllib and then parse and extract the comment counts from the JSON data, compute the sum of the numbers in the file and enter the sum below:&lt;/p&gt;

&lt;p&gt;We provide two files for this assignment. One is a sample file where we give you the sum for your testing and the other is the actual data you need to process for the assignment.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Sample data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/comments_42.json&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/comments_42.json&lt;/a&gt; (Sum=2553)&lt;/li&gt;
&lt;li&gt;Actual data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/comments_275916.json&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/comments_275916.json&lt;/a&gt; (Sum ends with 15)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You do not need to save these files to your folder since your program will read the data directly from the URL. Note: Each student will have a distinct data url for the assignment - so only use your own data url for analysis.&lt;/p&gt;

&lt;h3 id=&#34;data-format-1&#34;&gt;Data Format&lt;/h3&gt;

&lt;p&gt;The data consists of a number of names and comment counts in JSON as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
  comments: [
    {
      name: &amp;quot;Matthias&amp;quot;
      count: 97
    },
    {
      name: &amp;quot;Geomer&amp;quot;
      count: 97
    }
    ...
  ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The closest sample code that shows how to parse JSON and extract a list is json2.py. You might also want to look at geoxml.py to see how to prompt for a URL and retrieve data from a URL.&lt;/p&gt;

&lt;h3 id=&#34;sample-execution-2&#34;&gt;Sample Execution&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;$ python3 solution.py
Enter location: http://py4e-data.dr-chuck.net/comments_42.json
Retrieving http://py4e-data.dr-chuck.net/comments_42.json
Retrieved 2733 characters
Count: 50
Sum: 2...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è§£æJSONæ–‡ä»¶ï¼Œè·å¾—countçš„æ€»å’Œã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import urllib.request, urllib.error, urllib.parse
import json     #å¯¼å…¥json

# - Sample data: http://py4e-data.dr-chuck.net/comments_42.json (Sum=2553)
# - Actual data: http://py4e-data.dr-chuck.net/comments_275916.json (Sum ends with 15)

url = input(&#39;Enter url &#39;)
print(&#39;Retriving&#39;, url)
uh = urllib.request.urlopen(url).read()
print(&#39;Retrived&#39;, len(uh), &#39;characters&#39;)

js = json.loads(uh)
# è§‚å¯Ÿæ–‡æ¡£ç»“æ„ï¼Œjsä¸ºå­—å…¸ï¼Œjs[&#39;comments&#39;]ä¸ºç”±å­—å…¸ç»„æˆçš„list

res = 0
for comment in js[&#39;comments&#39;]:
    res = res + comment[&#39;count&#39;]

print(&#39;Sum:&#39;, res)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;calling-a-json-api&#34;&gt;Calling a JSON API&lt;/h2&gt;

&lt;p&gt;In this assignment you will write a Python program somewhat similar to &lt;a href=&#34;http://www.py4e.com/code3/geojson.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/geojson.py&lt;/a&gt;. The program will prompt for a location, contact a web service and retrieve JSON for the web service and parse that data, and retrieve the first place_id from the JSON. A place ID is a textual identifier that uniquely identifies a place as within Google Maps.&lt;/p&gt;

&lt;h3 id=&#34;api-end-points&#34;&gt;API End Points&lt;/h3&gt;

&lt;p&gt;To complete this assignment, you should use this API endpoint that has a static subset of the Google Data:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;http://py4e-data.dr-chuck.net/json?
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This API uses the same parameter (address) as the Google API. This API also has no rate limit so you can test as often as you like. If you visit the URL with no parameters, you get &amp;ldquo;No address&amp;hellip;&amp;rdquo; response.&lt;/p&gt;

&lt;p&gt;To call the API, you need to provide the address that you are requesting as the address= parameter that is properly URL encoded using the urllib.parse.urlencode() function as shown in &lt;a href=&#34;http://www.py4e.com/code3/geojson.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/geojson.py&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;test-data-sample-execution&#34;&gt;Test Data / Sample Execution&lt;/h3&gt;

&lt;p&gt;You can test to see if your program is working with a location of &amp;ldquo;South Federal University&amp;rdquo; which will have a place_id of &amp;ldquo;ChIJ9e_QQm0sDogRhUPatldEFxw&amp;rdquo;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;$ python3 solution.py
Enter location: South Federal University
Retrieving http://...
Retrieved 2291 characters
Place id ChIJ9e_QQm0sDogRhUPatldEFxw
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è°ƒç”¨è°·æ­ŒAPIæŸ¥è¯¢æŒ‡å®šåœ°ç‚¹çš„&lt;code&gt;place id&lt;/code&gt;ï¼Œå› ä¸ºè°·æ­Œåœ°å›¾APIç°åœ¨éœ€è¦éªŒè¯ï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨PY4Eæä¾›çš„å‰¯æœ¬ã€‚éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨py4eæä¾›çš„å‰¯æœ¬æ—¶ï¼Œéœ€è¦é¢å¤–ä¼ é€’ä¸€ä¸ªkeyå‚æ•°ï¼Œè¿™ç‚¹åœ¨ä½œä¸šè¯´æ˜ä¸­æ²¡æœ‰æŒ‡å‡ºï¼ŒæŸ¥çœ‹ä»£ç åŒ…ä¸­çš„ä»£ç ä¹‹åæ‰å‘ç°è¿™ä¸ªå€¼ä¸º42ï¼Œ&lt;a href=&#34;http://www.py4e.com/code3/geojson.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/geojson.py&lt;/a&gt; å…·ä½“è§è¿™ä¸ªé“¾æ¥ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import urllib.error, urllib.request, urllib.parse
import json

target = &#39;http://py4e-data.dr-chuck.net/json?&#39;  #ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼Œéœ€è¦ keyå‚æ•°ä¸”å€¼ä¸º42
local = input(&#39;Enter location: &#39;)

url = target + urllib.parse.urlencode({&#39;address&#39;: local, &#39;key&#39; : 42})
#å¯¹å­—ç¬¦ä¸²è¿›è¡Œurlç¼–ç ï¼Œç›´æ¥ä¼ é€’å‚æ•°å’Œå€¼æ„æˆçš„å­—å…¸
print(&#39;Retriving&#39;, url)

data = urllib.request.urlopen(url).read()
print(&#39;Retrived&#39;, len(data), &#39;characters&#39;)

js = json.loads(data)
# print(json.dumps(js, indent = 4)) #æŸ¥çœ‹æ¥æ”¶åˆ°çš„æ–‡ä»¶ç»“æ„
print(&#39;Place id&#39;, js[&#39;results&#39;][0][&#39;place_id&#39;])
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;counting-organizations&#34;&gt;Counting Organizations&lt;/h2&gt;

&lt;p&gt;This application will read the mailbox data (mbox.txt) and count the number of email messages per organization (i.e. domain name of the email address) using a database with the following schema to maintain the counts.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;CREATE TABLE Counts (org TEXT, count INTEGER)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When you have run the program on mbox.txt upload the resulting database file above for grading.&lt;/p&gt;

&lt;p&gt;If you run the program multiple times in testing or with dfferent files, make sure to empty out the data before each run.&lt;/p&gt;

&lt;p&gt;You can use this code as a starting point for your application: &lt;a href=&#34;http://www.py4e.com/code3/emaildb.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/emaildb.py&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The data file for this application is the same as in previous assignments: &lt;a href=&#34;http://www.py4e.com/code3/mbox.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/mbox.txt&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Because the sample code is using an UPDATE statement and committing the results to the database as each record is read in the loop, it might take as long as a few minutes to process all the data. The commit insists on completely writing all the data to disk every time it is called.&lt;/p&gt;

&lt;p&gt;The program can be speeded up greatly by moving the commit operation outside of the loop. In any database program, there is a balance between the number of operations you execute between commits and the importance of not losing the results of operations that have not yet been committed.&lt;/p&gt;

&lt;p&gt;æ­¤å‰åšè¿‡çš„ç»Ÿè®¡æ–‡æœ¬æ–‡ä»¶ä¸­æ¯ä¸ªäººå‘é€çš„é‚®ä»¶æ•°ç›®çš„å‡çº§ç‰ˆï¼Œç»Ÿè®¡å„ä¸ªå…¬å¸æœåŠ¡å™¨åŸŸåå‘é€çš„é‚®ä»¶æ€»æ•°ï¼Œå°†æœ€ç»ˆæ‰¾åˆ°çš„ç»“æœä¿å­˜åˆ°äº†æ•°æ®åº“ä¸­ã€‚éœ€è¦æ³¨æ„ï¼Œæäº¤sqlæŸ¥è¯¢æ—¶ä¸ºäº†åŠ å¿«é€Ÿåº¦è¦æ”¾åœ¨å¾ªç¯å¤–éƒ¨ã€‚å¦‚ä½•ä½¿ç”¨SQLå¯è§&lt;a href=&#34;https://docs.python.org/zh-cn/3/library/sqlite3.html#module-sqlite3&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sqlite3

conn = sqlite3.connect(&#39;mail-count.sqlite&#39;)
cur = conn.cursor()

cur.execute(&#39;DROP TABLE IF EXISTS Counts&#39;)  # å¦‚æœå­˜åœ¨å°±æå‰åˆ é™¤è¡¨
cur.execute(&#39;&#39;&#39;CREATE TABLE Counts (org TEXT, count INTEGER)&#39;&#39;&#39;)    # åˆ›å»ºè¡¨

fh = open(&#39;mbox.txt&#39;)
for line in fh:
    if not line.startswith(&#39;From:&#39;):
        continue
    mail = line.split()[1]
    index = mail.find(&#39;@&#39;)+1
    org = mail[index:]

    # é’ˆå¯¹orgæ‰§è¡Œsqlåç»­æ“ä½œï¼Œå…ˆæŸ¥è¯¢å†å†³å®šæ›´æ–°è¿˜æ˜¯æ’å…¥
    cur.execute(&#39;&#39;&#39;SELECT count FROM Counts WHERE org = ?&#39;&#39;&#39;, (org,) ) #executeå‡½æ•°ç¬¬äºŒä¸ªå‚æ•°éœ€è¦æ˜¯å…ƒç»„
    num = cur.fetchone()    #è¿”å›listï¼ŒæŸ¥è¯¢ä¸åˆ°æ—¶è¿”å›None

    if num is None:
        cur.execute(&#39;INSERT INTO Counts(org, count) VALUES(?, 1)&#39;, (org, ))
    else:
        cur.execute(&#39;UPDATE Counts SET count = ? WHERE org = ?&#39;, (num[0] + 1, org))
        # åœ¨è¿›è¡Œæ›´æ–°æ—¶å¯ä»¥ç›´æ¥ count = count + 1

conn.commit()   #æäº¤æ”¾åœ¨å¾ªç¯å¤–åŠ é€Ÿ
cur.execute(&#39;SELECT * FROM Counts ORDER BY count DESC LIMIT 1&#39;)
print(cur.fetchone())
cur.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;musical-track-database&#34;&gt;Musical Track Database&lt;/h2&gt;

&lt;p&gt;This application will read an iTunes export file in XML and produce a properly normalized database with this structure:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;CREATE TABLE Artist (
    id  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    name    TEXT UNIQUE
);

CREATE TABLE Genre (
    id  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    name    TEXT UNIQUE
);

CREATE TABLE Album (
    id  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    artist_id  INTEGER,
    title   TEXT UNIQUE
);

CREATE TABLE Track (
    id  INTEGER NOT NULL PRIMARY KEY
        AUTOINCREMENT UNIQUE,
    title TEXT  UNIQUE,
    album_id  INTEGER,
    genre_id  INTEGER,
    len INTEGER, rating INTEGER, count INTEGER
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you run the program multiple times in testing or with different files, make sure to empty out the data before each run.&lt;/p&gt;

&lt;p&gt;You can use this code as a starting point for your application: &lt;a href=&#34;http://www.py4e.com/code3/tracks.zip&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/tracks.zip&lt;/a&gt;. The ZIP file contains the Library.xml file to be used for this assignment. You can export your own tracks from iTunes and create a database, but for the database that you turn in for this assignment, only use the Library.xml data that is provided.&lt;/p&gt;

&lt;p&gt;To grade this assignment, the program will run a query like this on your uploaded database and look for the data it expects to see:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SELECT Track.title, Artist.name, Album.title, Genre.name
    FROM Track JOIN Genre JOIN Album JOIN Artist
    ON Track.genre_id = Genre.ID and Track.album_id = Album.id
        AND Album.artist_id = Artist.id
    ORDER BY Artist.name LIMIT 3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The expected result of the modified query on your database is: (shown here as a simple HTML table with titles)&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;center&#34;&gt;Track&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Artist&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Album&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Genre&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Chase the Ace&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;AC/DC&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Who Made Who&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Rock&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;D.T.&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;AC/DC&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Who Made Who&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Rock&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;For Those About To Rock (We Salute You)&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;AC/DC&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Who Made Who&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Rock&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sqlite3
import xml.etree.ElementTree as ET

conn = sqlite3.connect(&#39;music.sqlite&#39;)
cur = conn.cursor()

cur.executescript(&#39;&#39;&#39;
DROP TABLE IF EXISTS Artist;
DROP TABLE IF EXISTS Genre;
DROP TABLE IF EXISTS Album;
DROP TABLE IF EXISTS Track;&#39;&#39;&#39;) 
#å¦‚æœå­˜åœ¨å°±å…ˆåˆ é™¤è¡¨
# æ‰§è¡Œå¤šæ¡æŸ¥è¯¢éœ€è¦ executescript

cur.executescript(&#39;&#39;&#39;CREATE TABLE Artist (
    id  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    name    TEXT UNIQUE
);

CREATE TABLE Genre (
    id  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    name    TEXT UNIQUE
);

CREATE TABLE Album (
    id  INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    artist_id  INTEGER,
    title   TEXT UNIQUE
);

CREATE TABLE Track (
    id  INTEGER NOT NULL PRIMARY KEY 
        AUTOINCREMENT UNIQUE,
    title TEXT  UNIQUE,
    album_id  INTEGER,
    genre_id  INTEGER,
    len INTEGER, rating INTEGER, count INTEGER
);&#39;&#39;&#39;)  # æ‰§è¡Œå¤šè¡Œæ—¶æ³¨æ„ä½¿ç”¨ä¸‰ä¸ªå¼•å·

file_name = &#39;Library.xml&#39;
fh = open(file_name)
tree = ET.fromstring(fh.read())
dicts = tree.findall(&#39;./dict/dict/dict&#39;)

# æŸ¥çœ‹xmlæ–‡ä»¶ï¼Œåˆ†æç›®å½•æ ‘ç»“æ„ éœ€è¦åœ¨/dict/dict/dictå†…æŸ¥æ‰¾å­—æ®µ
# å®šä¹‰æŸ¥æ‰¾å‡½æ•°
def lookup(pare, aim):
    flag = False
    for child in pare:
        if flag:
            return child.text
        if child.tag == &#39;key&#39; and child.text == aim:
            flag = True
    return None

# é€šè¿‡æ„å»ºçš„æ•°æ®åº“æƒ…å†µï¼Œéœ€è¦æŸ¥æ‰¾çš„å­—æ®µä¸º
# Track ID   Name    Artist     Album   Play Count  Rating  Total Time

for entry in dicts:
    if(lookup(entry, &#39;Track ID&#39;) is None):  continue
    name = lookup(entry, &#39;Name&#39;)
    artist = lookup(entry, &#39;Artist&#39;)
    album = lookup(entry, &#39;Album&#39;)
    count = lookup(entry, &#39;Play Count&#39;)
    rating = lookup(entry, &#39;Rating&#39;)
    length = lookup(entry, &#39;Total Time&#39;)
    genre = lookup(entry, &#39;Genre&#39;)

    if name is None or artist is None or album is None or genre is None:
        continue
    print(name, artist, album, count, rating, length)

    # æ ¹æ®å»ºç«‹æ•°æ®åº“çš„é¡ºåºè¿›è¡Œæ’å…¥ï¼Œå¹¶è·å–å¤–é”®å¯¹åº”çš„idå€¼
    # æ³¨æ„å¯¹äºå”¯ä¸€å…ƒç´ æ’å…¥æ—¶ä½¿ç”¨ignore
    cur.execute(&#39;&#39;&#39;INSERT OR IGNORE INTO Artist(name) VALUES(?)&#39;&#39;&#39;, (artist,))
    cur.execute(&#39;SELECT id FROM Artist WHERE name = ?&#39;, (artist,))
    artist_id = cur.fetchone()[0]   # æŸ¥è¯¢è¿”å›çš„æ˜¯æ•°ç»„

    cur.execute(&#39;INSERT OR IGNORE INTO Genre(name) VALUES(?)&#39;, (genre,))
    cur.execute(&#39;SELECT id FROM Genre WHERE name = ?&#39;,(genre,))
    genre_id = cur.fetchone()[0]

    cur.execute(&#39;INSERT OR IGNORE INTO Album(artist_id, title) VALUES(?, ?)&#39;,(artist_id, album))
    cur.execute(&#39;SELECT id FROM Album WHERE title = ?&#39;, (album,))
    album_id = cur.fetchone()[0]

    # è‡³äºè¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨replaceåŸå› ä¸çŸ¥
    cur.execute(&#39;&#39;&#39;INSERT OR REPLACE INTO Track(title, album_id, genre_id, len, rating, count) 
    VALUES(?, ?, ?, ?, ?, ?)&#39;&#39;&#39;,(name, album_id, genre_id, length, rating, count))

conn.commit()
cur.execute(&#39;&#39;&#39;SELECT Track.title, Artist.name, Album.title, Genre.name
    FROM Track JOIN Genre JOIN Album JOIN Artist
    ON Track.genre_id = Genre.ID and Track.album_id = Album.id
        AND Album.artist_id = Artist.id
    ORDER BY Artist.name LIMIT 3&#39;&#39;&#39;)
res = cur.fetchall()
for line in res:
    print(line)
cur.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è™½ç„¶æ‰§è¡Œä¹‹åç»“æœå’Œç¤ºä¾‹ç»“æœä¸ä¸€æ ·ï¼Œä½†æ˜¯ä¸ªäººè®¤ä¸ºç¨‹åºæ²¡æœ‰é”™è¯¯ã€‚&lt;/p&gt;

&lt;h2 id=&#34;make-database-from-json&#34;&gt;Make database from JSON&lt;/h2&gt;

&lt;p&gt;This application will read roster data in JSON format, parse the file, and then produce an SQLite database that contains a User, Course, and Member table and populate the tables from the data file.&lt;/p&gt;

&lt;p&gt;You can base your solution on this code: &lt;a href=&#34;http://www.py4e.com/code3/roster/roster.py&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/roster/roster.py&lt;/a&gt; - this code is incomplete as you need to modify the program to store the &lt;strong&gt;role&lt;/strong&gt; column in the &lt;strong&gt;Member&lt;/strong&gt; table to complete the assignment.&lt;/p&gt;

&lt;p&gt;Each student gets their own file for the assignment. Download this file and save it as &lt;code&gt;roster_data.json&lt;/code&gt;. Move the downloaded file into the same folder as your &lt;code&gt;roster.py&lt;/code&gt; program.&lt;/p&gt;

&lt;p&gt;Once you have made the necessary changes to the program and it has been run successfully reading the above JSON data, run the following SQL command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SELECT hex(User.name || Course.title || Member.role ) AS X FROM
    User JOIN Member JOIN Course
    ON User.id = Member.user_id AND Member.course_id = Course.id
    ORDER BY X
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Find the first row in the resulting record set and enter the long string that looks like 53656C696E613333.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import json
import sqlite3

conn = sqlite3.connect(&#39;rosterdb.sqlite&#39;)
cur = conn.cursor()

# å»ºç«‹æ•°æ®åº“
cur.executescript(&#39;&#39;&#39;
DROP TABLE IF EXISTS User;
DROP TABLE IF EXISTS Member;
DROP TABLE IF EXISTS Course;

CREATE TABLE User (
    id     INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    name   TEXT UNIQUE
);

CREATE TABLE Course (
    id     INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
    title  TEXT UNIQUE
);

CREATE TABLE Member (
    user_id     INTEGER,
    course_id   INTEGER,
    role        INTEGER,
    PRIMARY KEY (user_id, course_id)
)
&#39;&#39;&#39;)


file_name = input(&#39;Enter filename: &#39;)
if(len(file_name) &amp;lt; 1):
    file_name = &#39;roster_data.json&#39;
fh = open(file_name).read()
js = json.loads(fh)

for record in js:
    name = record[0]
    title = record[1]
    role = record[2]

    cur.execute(&#39;INSERT OR IGNORE INTO User(name) VALUES(?)&#39;, (name,))
    cur.execute(&#39;SELECT id FROM User WHERE name = ?&#39;, (name,))
    user_id = cur.fetchone()[0]

    cur.execute(&#39;INSERT OR IGNORE INTO Course(title) VALUES(?)&#39;, (title,))
    cur.execute(&#39;SELECT id FROM Course WHERE title = ?&#39;, (title,))
    course_id = cur.fetchone()[0]

    cur.execute(&#39;INSERT OR REPLACE INTO Member(user_id, course_id, role) VALUES(?,?,?)&#39;, (user_id, course_id, role))

cur.execute(&#39;&#39;&#39;SELECT hex(User.name || Course.title || Member.role ) AS X FROM 
    User JOIN Member JOIN Course 
    ON User.id = Member.user_id AND Member.course_id = Course.id
    ORDER BY X LIMIT 5&#39;&#39;&#39;)
res = cur.fetchall()
for line in res:
    print(line)

conn.commit()
cur.close()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¤šå¯¹å¤šå…³ç³»ç¤ºä¾‹ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PY4E é¢˜ç›®æ•´ç†ï¼ˆä¸Šï¼‰</title>
      <link>https://wanakiki.github.io/2019/python-assignment/</link>
      <pubDate>Sun, 04 Aug 2019 17:39:49 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/python-assignment/</guid>
      <description>

&lt;p&gt;Courseraä¸­pythonæ•™ç¨‹åŒæ­¥é¢˜ç›®æ•´ç†ï¼Œå› ä¸ºæ—å¬è¯¾ç¨‹ä¸èƒ½ç›´æ¥å¯¹æ¯ç« çš„ç¼–ç¨‹ä½œä¸šè¿›è¡Œæäº¤ï¼Œå­¦åˆ°ä¸­æœŸä¹‹åæ‰å‘ç°&lt;a href=&#34;https://www.py4e.com/&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;py4e&lt;/a&gt;ä¸Šæœ‰å‡ ä¹æ‰€æœ‰é¢˜ç›®çš„åœ¨çº¿æµ‹è¯•ç¯å¢ƒï¼Œåœ¨çœ‹å®Œæ‰€æœ‰çš„æ•™å­¦è§†é¢‘ä¹‹åé‡æ–°åˆ·é¢˜ï¼Œå›é¡¾çŸ¥è¯†ç‚¹ï¼Œåœ¨æ­¤è¿›è¡Œæ•´ç†ã€‚åˆ†ä¸ºåŸºç¡€éƒ¨åˆ†å’Œç½‘ç»œåŠæ•°æ®åº“ç¼–ç¨‹éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2 id=&#34;hello-world&#34;&gt;Hello world&lt;/h2&gt;

&lt;h3 id=&#34;problem&#34;&gt;Problem&lt;/h3&gt;

&lt;p&gt;Write a program that uses a print statement to say &amp;lsquo;hello world&amp;rsquo; as shown in &amp;lsquo;Desired Output&amp;rsquo;.&lt;/p&gt;

&lt;h3 id=&#34;code&#34;&gt;Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt; print(&#39;hello world&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;å›é¡¾&#34;&gt;å›é¡¾&lt;/h3&gt;

&lt;p&gt;Pythonä¸­å­—ç¬¦ä¸²å¯ä»¥ç”¨å››ç§å¼•å·ç»„åˆè¿›è¡Œæ ‡æ³¨ï¼š&lt;code&gt;&#39; &amp;quot; &#39;&#39;&#39; &amp;quot;&amp;quot;&amp;quot;&lt;/code&gt;ï¼Œå…¶ä¸­å•ç‹¬çš„å•å¼•æˆ–è€…åŒå¼•å¯ä»¥ä½¿å¼•å·å†…éƒ¨ä¸åŒçš„å¼•å·ä¸éœ€è¦è¿›è¡Œè½¬ä¹‰ï¼Œå¦‚&lt;code&gt;&amp;quot;this is &#39;a&#39; test&amp;quot;&lt;/code&gt;ä¸­çš„å•å¼•å·å°±ä¸éœ€è¦è¿›è¡Œè½¬ä¹‰ã€‚ä¸‰ä¸ªå•å¼•å·å’ŒåŒå¼•å·å…·æœ‰ç›¸åŒçš„ä½œç”¨ï¼Œå¯ä»¥ä¿è¯è¢«å®šä¹‰çš„å­—ç¬¦ä¸²åŸå°ä¸åŠ¨åœ°è¾“å‡ºï¼ˆä¸€èˆ¬å®šä¹‰å¤šè¡Œï¼‰ï¼Œåœ¨åé¢æ‰§è¡ŒSQLè¯­å¥æ—¶æœ‰ç”¨åˆ°ã€‚åŒæ—¶å…¶ä¸­çš„å•å¼•å·æˆ–è€…åŒå¼•å·ä¸éœ€è¦è½¬ä¹‰ã€‚&lt;/p&gt;

&lt;h2 id=&#34;2-3&#34;&gt;2-3&lt;/h2&gt;

&lt;h3 id=&#34;problem-1&#34;&gt;Problem&lt;/h3&gt;

&lt;p&gt;Write a program to prompt the user for hours and rate per hour using input to compute gross pay. Use 35 hours and a rate of 2.75 per hour to test the program (the pay should be 96.25). You should use input to read a string and float() to convert the string to a number. Do not worry about error checking or bad user data.&lt;/p&gt;

&lt;p&gt;æ ¹æ®è¾“å…¥çš„æ—¶é—´å’Œå·¥èµ„æ ‡å‡†è®¡ç®—æ€»å·¥èµ„ï¼Œå¹¶è¾“å‡ºã€‚å‡å®šæ—¶é—´ä¸º35å°æ—¶ï¼Œå·¥èµ„æ ‡å‡†ä¸º2.75æ¯å°æ—¶ï¼Œæ ‡å‡†ç»“æœåº”ä¸º96.25ã€‚&lt;/p&gt;

&lt;h3 id=&#34;desired-output&#34;&gt;Desired Output&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;Pay: 96.25
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;code-1&#34;&gt;Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# This first line is provided for you

hrs = input(&amp;quot;Enter Hours:&amp;quot;)
hrs = float(hrs)

rate = float(input(&amp;quot;Enter Rate:&amp;quot;))
print(&#39;Pay:&#39;, hrs * rate)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;3-1&#34;&gt;3-1&lt;/h2&gt;

&lt;h3 id=&#34;problem-2&#34;&gt;Problem&lt;/h3&gt;

&lt;p&gt;Write a program to prompt the user for hours and rate per hour using input to compute gross pay. Pay the hourly rate for the hours up to 40 and 1.5 times the hourly rate for all hours worked above 40 hours. Use 45 hours and a rate of 10.50 per hour to test the program (the pay should be 498.75). You should use input to read a string and float() to convert the string to a number. Do not worry about error checking the user input - assume the user types numbers properly.&lt;/p&gt;

&lt;p&gt;æ ¹æ®æ—¶é•¿å’Œå·¥èµ„æ ‡å‡†è®¡ç®—å·¥èµ„ï¼Œå·¥ä½œæ—¶é—´å¤§äº40å°æ—¶çš„éƒ¨åˆ†éœ€è¦ä»˜1.5å€å·¥èµ„ï¼Œæ ‡å‡†è¾“å…¥ä¸º45ï¼Œ10.5ï¼Œæ ‡å‡†è¾“å‡ºä¸º498.75ã€‚&lt;/p&gt;

&lt;h3 id=&#34;code-2&#34;&gt;Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;hrs = input(&amp;quot;Enter Hours:&amp;quot;)
h = float(hrs)

rate = float(input(&amp;quot;Enter Rates:&amp;quot;))
if h &amp;gt; 40:
    res = 40 * rate + (h - 40) * rate * 1.5
else:
    res = rate * 40
print(res)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;3-3&#34;&gt;3-3&lt;/h2&gt;

&lt;h3 id=&#34;program&#34;&gt;Program&lt;/h3&gt;

&lt;p&gt;Write a program to prompt for a score between 0.0 and 1.0. If the score is out of range, print an error. If the score is between 0.0 and 1.0, print a grade using the following table:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;center&#34;&gt;Score&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Grade&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;&amp;gt;= 0.9&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;A&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;&amp;gt;= 0.8&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;B&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;&amp;gt;= 0.7&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;C&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;&amp;gt;= 0.6&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;D&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;&amp;lt; 0.6&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;F&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;If the user enters a value out of range, print a suitable error message and exit. For the test, enter a score of 0.85.&lt;/p&gt;

&lt;p&gt;æŒ‰ç…§è¡¨æ ¼è¾“å‡ºå¯¹åº”çš„çº§åˆ«ï¼Œè¦æ±‚è¾“å…¥åœ¨0åˆ°1ï¼Œè¶Šç•Œè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå‡å®šè¾“å…¥ä¸º0.85ã€‚&lt;/p&gt;

&lt;h3 id=&#34;code-3&#34;&gt;Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;score = input(&amp;quot;Enter Score: &amp;quot;)
grade = [&#39;D&#39;,&#39;C&#39;,&#39;B&#39;,&#39;A&#39;]

try:
    score = float(score)
except:
    print(&#39;è¾“å…¥ä¸æ˜¯æµ®ç‚¹æ•°&#39;)
    quit()

if score &amp;lt; 0 or score &amp;gt; 1:
    print(&#39;è¾“å…¥ä¸åœ¨æŒ‡å®šèŒƒå›´&#39;)
    quit()

score = int(score * 10)

if score &amp;lt; 6:
    print(&#39;F&#39;)
elif score &amp;gt; 9:
    print(&#39;A&#39;)
else:
    print(grade[score-6])
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ²¡æœ‰ç”¨é‚£ä¹ˆå¤šçš„åˆ¤æ–­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªlistã€‚&lt;/p&gt;

&lt;h2 id=&#34;4-6&#34;&gt;4-6&lt;/h2&gt;

&lt;h3 id=&#34;problem-3&#34;&gt;Problem&lt;/h3&gt;

&lt;p&gt;Write a program to prompt the user for hours and rate per hour using input to compute gross pay. Pay should be the normal rate for hours up to 40 and time-and-a-half for the hourly rate for all hours worked above 40 hours. Put the logic to do the computation of pay in a function called computepay() and use the function to do the computation. The function should return a value. Use 45 hours and a rate of 10.50 per hour to test the program (the pay should be 498.75). You should use input to read a string and float() to convert the string to a number. Do not worry about error checking the user input unless you want to - you can assume the user types numbers properly. Do not name your variable sum or use the sum() function.&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨å‡½æ•°è®¡ç®—&lt;a href=&#34;#3-1&#34;&gt;3-1é—®é¢˜&lt;/a&gt;ï¼Œå‡å®šè¾“å…¥è§„èŒƒï¼Œæµ‹è¯•è¾“å…¥ä¸º45hï¼Œ10.5ï¼Œæ ‡å‡†ç»“æœä¸º498.75ã€‚&lt;/p&gt;

&lt;h3 id=&#34;code-4&#34;&gt;Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def computepay(h, r):
    if h &amp;lt;= 40:
        return h * r
    else:
        return 40 * r + (h - 40) * r * 1.5


hrs = input(&amp;quot;Enter Hours:&amp;quot;)
hrs = float(hrs)
rat = float(input(&amp;quot;Enter Rates:&amp;quot;))

p = computepay(hrs, rat)
print(p)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;5-2&#34;&gt;5-2&lt;/h2&gt;

&lt;h3 id=&#34;problem-4&#34;&gt;Problem&lt;/h3&gt;

&lt;p&gt;Write a program that repeatedly prompts a user for integer numbers until the user enters &amp;lsquo;done&amp;rsquo;. Once &amp;lsquo;done&amp;rsquo; is entered, print out the largest and smallest of the numbers. If the user enters anything other than a valid number catch it with a try/except and put out an appropriate message and ignore the number. Enter 7, 2, bob, 10, and 4 and match the output below.&lt;/p&gt;

&lt;p&gt;å†™ä¸€ä¸ªç¨‹åºç›‘æµ‹ç”¨æˆ·è¾“å…¥çš„æ•´æ•°ï¼Œç›´åˆ°ç”¨æˆ·è¾“å…¥â€œdoneâ€ç¨‹åºåœæ­¢ï¼Œä¹‹åç¨‹åºè¾“å‡ºè¿™æ‰¹æ•°å­—çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚éœ€è¦å¯¹è¾“å…¥è¿›è¡Œæ£€æµ‹ï¼Œå¯¹äºä¸åˆæ³•çš„è¾“å…¥éœ€è¦è¾“å‡º&lt;code&gt;Invalid input&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&#34;code-5&#34;&gt;Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;largest = None
smallest = None
while True:
    num = input(&amp;quot;Enter a number: &amp;quot;)
    if num == &amp;quot;done&amp;quot;:
        break

    try:
        num = int(num)
    except:
        print(&#39;Invalid input&#39;)
        continue

    if largest is None:
        largest = num
        smallest = num
    else:
        if largest &amp;lt; num:
            largest = num
        if smallest &amp;gt; num:
            smallest = num

print(&amp;quot;Maximum is&amp;quot;, largest)
print(&amp;quot;Minimum is&amp;quot;, smallest)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;6-5&#34;&gt;6-5&lt;/h2&gt;

&lt;p&gt;Write code using find() and string slicing (see section 6.10) to extract the number at the end of the line below. Convert the extracted value to a floating point number and print it out.&lt;/p&gt;

&lt;p&gt;é€šè¿‡findå’Œåˆ‡ç‰‡æˆªå–å­—ç¬¦ä¸²ä¸­çš„æµ®ç‚¹æ•°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;text = &amp;quot;X-DSPAM-Confidence:    0.8475&amp;quot;
index = text.find(&#39;0&#39;)

res = float(text[index:])
print(res)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;7-2&#34;&gt;7-2&lt;/h2&gt;

&lt;p&gt;Write a program that prompts for a file name, then opens that file and reads through the file, looking for lines of the form:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;X-DSPAM-Confidence:    0.8475
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Count these lines and extract the floating point values from each of the lines and compute the average of those values and produce an output as shown below. Do not use the sum() function or a variable named sum in your solution.&lt;/p&gt;

&lt;p&gt;You can download the sample data at &lt;a href=&#34;http://www.py4e.com/code3/mbox-short.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/mbox-short.txt&lt;/a&gt; when you are testing below enter mbox-short.txt as the file name.&lt;/p&gt;

&lt;p&gt;æ–‡ä»¶æ“ä½œï¼Œæå–æŒ‡å®šæ ¼å¼è¡Œçš„æ•°æ®ï¼Œå¹¶è®¡ç®—å¹³å‡å€¼ã€‚æ ‡å‡†è¾“å‡ºä¸º&lt;code&gt;Average spam confidence: 0.750718518519&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def getNumber(line : str):
    index = line.find(&#39;:&#39;) + 1  #æŸ¥æ‰¾å†’å·æ›´åŠ åˆé€‚
    return float(line[index:])

# Use the file name mbox-short.txt as the file name
fname = input(&amp;quot;Enter file name: &amp;quot;)
if len(fname) &amp;lt; 1:
    fname = &#39;mbox-short.txt&#39;
fh = open(fname)

Sum = 0
num = 0
for line in fh:
    if not line.startswith(&amp;quot;X-DSPAM-Confidence:&amp;quot;):
        continue
    Sum = Sum + getNumber(line.rstrip())
    num = num + 1

print(&#39;Average spam confidence:&#39;, Sum / num)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;8-4&#34;&gt;8-4&lt;/h2&gt;

&lt;p&gt;Open the file romeo.txt and read it line by line. For each line, split the line into a list of words using the split() method. The program should build a list of words. For each word on each line check to see if the word is already in the list and if not append it to the list. When the program completes, sort and print the resulting words in alphabetical order.&lt;/p&gt;

&lt;p&gt;You can download the sample data at &lt;a href=&#34;http://www.py4e.com/code3/romeo.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/romeo.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¯»å–æ–‡ä»¶ï¼Œç»Ÿè®¡å…¶ä¸­å‡ºç°è¿‡çš„å•è¯ï¼ŒæŒ‰å­—å…¸åºè¾“å‡ºã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;fname = input(&amp;quot;Enter file name: &amp;quot;)
if len(fname) &amp;lt; 1:
    fname = &#39;romeo.txt&#39;
fh = open(fname)
lst = list()

for line in fh:
    line = line.rstrip()
    words = line.split()

    for word in words:
        if word not in lst:
            lst.append(word)

lst.sort()
print(lst)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;8-5&#34;&gt;8-5&lt;/h2&gt;

&lt;p&gt;Open the file mbox-short.txt and read it line by line. When you find a line that starts with &amp;lsquo;From &amp;rsquo; like the following line:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;From stephen.marquard@uct.ac.za Sat Jan  5 09:14:16 2008
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You will parse the From line using split() and print out the second word in the line (i.e. the entire address of the person who sent the message). Then print out a count at the end.&lt;/p&gt;

&lt;p&gt;Hint: make sure not to include the lines that start with &amp;lsquo;From:&amp;lsquo;.&lt;/p&gt;

&lt;p&gt;You can download the sample data at &lt;a href=&#34;http://www.py4e.com/code3/mbox-short.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://www.py4e.com/code3/mbox-short.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¯»æ–‡ä»¶ï¼Œå¯¹å…¶ä¸­&lt;code&gt;From&lt;/code&gt;å¼€å§‹çš„è¡Œï¼Œè¾“å‡ºé‚®ä»¶æ¥æºå¹¶ç»Ÿè®¡ä¸ªæ•°ï¼Œåœ¨æœ€åè¾“å‡ºç»Ÿè®¡ç»“æœã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;fname = input(&amp;quot;Enter file name: &amp;quot;)
if len(fname) &amp;lt; 1:
    fname = &amp;quot;mbox-short.txt&amp;quot;

fh = open(fname)
count = 0

for line in fh:
    if not line.startswith(&#39;From &#39;):
        continue
    line = line.split()
    print(line[1])
    count = count + 1

print(&amp;quot;There were&amp;quot;, count, &amp;quot;lines in the file with From as the first word&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;9-4&#34;&gt;9-4&lt;/h2&gt;

&lt;p&gt;Write a program to read through the mbox-short.txt and figure out who has sent the greatest number of mail messages. The program looks for &amp;lsquo;From &amp;rsquo; lines and takes the second word of those lines as the person who sent the mail. The program creates a Python dictionary that maps the sender&amp;rsquo;s mail address to a count of the number of times they appear in the file. After the dictionary is produced, the program reads through the dictionary using a maximum loop to find the most prolific committer.&lt;/p&gt;

&lt;p&gt;ç»Ÿè®¡æ–‡ä»¶ä¸­çš„å‘ä¿¡äººè¡Œï¼Œä½¿ç”¨å­—å…¸å­˜å‚¨æ¯ä¸ªäººå‘é€é‚®ä»¶çš„æ•°ç›®ã€‚æœ€åä½¿ç”¨ä¸€ä¸ªæœ€å¤§forå¾ªç¯ï¼ŒæŸ¥æ‰¾åˆ°å‘é€æœ€å¤šé‚®ä»¶çš„äººã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;name = input(&amp;quot;Enter file:&amp;quot;)
if len(name) &amp;lt; 1:
    name = &amp;quot;mbox-short.txt&amp;quot;
handle = open(name)
res = dict()

for line in handle:
    if not line.startswith(&#39;From &#39;):
        continue

    line = line.split()
    author = line[1]
    res[author] = res.get(author, 0) + 1

name = None
count = None
for k, v in res.items():
    if count is None or v &amp;gt; count:
        count = v
        name = k

print(name, count)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;10-2&#34;&gt;10-2&lt;/h2&gt;

&lt;p&gt;Write a program to read through the mbox-short.txt and figure out the distribution by hour of the day for each of the messages. You can pull the hour out from the &amp;lsquo;From &amp;rsquo; line by finding the time and then splitting the string a second time using a colon.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;From stephen.marquard@uct.ac.za Sat Jan  5 09:14:16 2008
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once you have accumulated the counts for each hour, print out the counts, sorted by hour as shown below.&lt;/p&gt;

&lt;p&gt;ç»Ÿè®¡å„ä¸ªæ—¶æ®µä¸­é‚®ä»¶çš„æ•°ç›®ï¼Œå­˜å‚¨åˆ°å­—å…¸ä¹‹ä¸­ï¼Œæœ€åæŒ‰ç…§æ—¶é—´é¡ºåºè¾“å‡ºå„ä¸ªæ—¶é—´æ®µå¯¹åº”çš„é‚®ä»¶æ•°ã€‚ï¼ˆéœ€è¦å¯¹dictè¿›è¡Œæ’åºï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;name = input(&amp;quot;Enter file:&amp;quot;)
if len(name) &amp;lt; 1 : name = &amp;quot;mbox-short.txt&amp;quot;
handle = open(name)

status = {}
for line in handle:
    if not line.startswith(&#39;From &#39;):
        continue

    # æŠ“å–æ—¶é—´
    line = line.split()
    line = line[5]
    line = line.split(&#39;:&#39;)

    # æˆªå–æ—¶é—´
    tim = line[0]
    if tim in status:
        status[tim] = status[tim] + 1
    else:
        status[tim] = 1

res = sorted([(k, v) for (k, v) in status.items()])
for k, v in res:
    print(k, v)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢å°†dictè½¬åŒ–ä¸ºlistçš„æ­¥éª¤åˆ©ç”¨äº†pythonçš„ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;h2 id=&#34;regular-expressions&#34;&gt;Regular Expressions&lt;/h2&gt;

&lt;h3 id=&#34;finding-numbers-in-a-haystack&#34;&gt;Finding Numbers in a Haystack&lt;/h3&gt;

&lt;p&gt;In this assignment you will read through and parse a file with text and numbers. You will extract all the numbers in the file and compute the sum of the numbers.&lt;/p&gt;

&lt;h3 id=&#34;data-files&#34;&gt;Data Files&lt;/h3&gt;

&lt;p&gt;We provide two files for this assignment. One is a sample file where we give you the sum for your testing and the other is the actual data you need to process for the assignment.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Sample data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/regex_sum_42.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/regex_sum_42.txt&lt;/a&gt; (There are 90 values with a sum=445833)&lt;/li&gt;
&lt;li&gt;Actual data: &lt;a href=&#34;http://py4e-data.dr-chuck.net/regex_sum_275911.txt&#34; rel=&#34;nofollow noreferrer&#34; target=&#34;_blank&#34;&gt;http://py4e-data.dr-chuck.net/regex_sum_275911.txt&lt;/a&gt; (There are 92 values and the sum ends with 76)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These links open in a new window. Make sure to save the file into the same folder as you will be writing your Python program. Note: Each student will have a distinct data file for the assignment - so only use your own data file for analysis.&lt;/p&gt;

&lt;h3 id=&#34;data-format&#34;&gt;Data Format&lt;/h3&gt;

&lt;p&gt;The file contains much of the text from the introduction of the textbook except that random numbers are inserted throughout the text. Here is a sample of the output you might see:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-no&#34;&gt;Why should you learn to write programs? 7746
12 1929 8827
Writing programs (or programming) is a very creative
7 and rewarding activity.  You can write programs for
many reasons, ranging from making your living to solving
8837 a difficult data analysis problem to having fun to helping 128
someone else solve a problem.  This book assumes that
everyone needs to know how to program ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The sum for the sample text above is 27486. The numbers can appear anywhere in the line. There can be any number of numbers in each line (including none).&lt;/p&gt;

&lt;h3 id=&#34;handling-the-data&#34;&gt;Handling The Data&lt;/h3&gt;

&lt;p&gt;The basic outline of this problem is to read the file, look for integers using the re.findall(), looking for a regular expression of &amp;lsquo;[0-9]+&amp;rsquo; and then converting the extracted strings to integers and summing up the integers.&lt;/p&gt;

&lt;h3 id=&#34;my-code&#34;&gt;My Code&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# ç»Ÿè®¡æ–‡ä»¶ä¸­æ•°å­—çš„æ€»å’Œ
import re

filename = input(&#39;Input filename:&#39;)
if len(filename) &amp;lt; 1:
    filename = &#39;regex_sum_275911.txt&#39;

res = 0
fh = open(filename)
for line in fh:
    tmp = re.findall(&#39;[0-9]+&#39;, line)

    # è®¡ç®—ä¸€è¡Œä¸­æ•°å­—çš„å’Œ
    for x in tmp:
        res = res + int(x)

print(res)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;ä¸¤è¡Œä»£ç è§£å†³é—®é¢˜&lt;/strong&gt;ï¼ˆå¥½ç†Ÿæ‚‰&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;Python 2
import re
print sum( [ ****** *** * in **********(&#39;[0-9]+&#39;,**************************.read()) ] )

Python 3:
import re
print( sum( [ ****** *** * in **********(&#39;[0-9]+&#39;,**************************.read()) ] ) )
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Latex æ’å…¥å›¾ç‰‡æ–¹å¼æ•´ç†</title>
      <link>https://wanakiki.github.io/2019/latex-img/</link>
      <pubDate>Fri, 14 Jun 2019 23:22:50 +0800</pubDate>
      
      <guid>https://wanakiki.github.io/2019/latex-img/</guid>
      <description>&lt;p&gt;åˆåˆ°æœŸæœ«ï¼Œæ‰¿æ‹…äº†å¸®åˆ«äººæ’ç‰ˆè®ºæ–‡çš„å·¥ä½œã€‚å› ä¸ºè‡ªå·±ä¸ç†Ÿæ‚‰å›¾ç‰‡çš„æ’å…¥æ–¹å¼æ‹–æ…¢äº†è¿›åº¦ï¼Œè¶ä»Šå¤©æœ‰æ—¶é—´æ•´ç†ä¸€ä¸‹ã€‚å½“ç„¶ï¼Œæœ€å¤§çš„ç›®çš„è¿˜æ˜¯å¤‡å¿˜ã€‚
&lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;æ–°å»ºä¸€ä¸ª&lt;code&gt;.tex&lt;/code&gt;æ–‡ä»¶ï¼Œå¹¶å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°å…¶ä¸­ã€‚åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­å‡†å¤‡ä¸€å¼ å›¾ç‰‡ï¼ˆæœ€å¥½æ˜¯æ–¹å½¢ï¼‰ï¼Œå‘½åä¸º&lt;code&gt;test.jpg&lt;/code&gt;ã€‚æ„å»ºä»£ç å°±å¯ä»¥çœ‹åˆ°æ•ˆæœï¼Œè‡ªå·±ä¹Ÿå¯ä»¥å¯¹æ›´å¤šçš„ç»†èŠ‚è¿›è¡Œä¿®æ”¹ã€‚åŒæ—¶æ’å…¥2*3æˆ–è€…3*3å›¾ç‰‡çš„æƒ…å†µè¿˜æœ‰å¾…è¡¥å……ğŸ˜€&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-tex&#34;&gt;\documentclass[UTF8]{article}
\usepackage{graphicx} %use graph format
%\usepackage{subfig}
\usepackage{ctex}
\usepackage{CJK}
\usepackage{caption}
\usepackage{subfigure}
\usepackage{float}  %å¼•å…¥ Hå›ºå®šå›¾ç‰‡

\begin{document}
    \section{å•ä¸ªå›¾ç‰‡æ’å…¥}
    \begin{figure}[h]
        \centering
        \includegraphics[width = 0.5\linewidth]{test.jpg}
        \caption{å•ä¸ªå›¾ç‰‡æ’å…¥}
    \end{figure}

    \section{å¤šä¸ªå›¾ç‰‡æ’å…¥}
    ä¸€è¡Œå­˜åœ¨ä¸¤ä¸ªåŒçº§å›¾ç‰‡
    \begin{figure}[h]
        \begin{minipage}[t]{0.5\linewidth}
            \centering
            \includegraphics[width = 0.5\linewidth]{test.jpg}
            \caption{å·¦ä¾§å›¾ç‰‡}
        \end{minipage}  %æ³¨æ„ä¸è¦ç©ºå¼€ä¸€è¡Œ
        \begin{minipage}[t]{0.5\linewidth}
            \centering
            \includegraphics[width = 0.5\linewidth]{test.jpg}
            \caption{å³ä¾§å›¾ç‰‡}
        \end{minipage}
    \end{figure}

    åœ¨ä¸€è¡Œå¹¶æ’ä¸¤ä¸ªå­å›¾(ä½¿ç”¨subfigureè¾¾åˆ°é˜²æ­¢ä¸¤ä¸ªçš„ç›®çš„ï¼Œminipageèµ·åˆ°ä¸€ä¾§æ˜¾ç¤ºä¸¤ä¸ªçš„æ•ˆæœ)
    \begin{figure}[H]
        \centering
        \subfigure[å·¦å­å›¾]{
            \begin{minipage}[b]{0.5\linewidth}
                \centering
                \includegraphics[width = 0.5\linewidth]{test.jpg}\\
                \includegraphics[width = 0.5\linewidth]{test.jpg}  
            \end{minipage}
        }\subfigure[å³å­å›¾]{
            \centering
            \begin{minipage}[b]{0.5\linewidth}
                \centering
                \includegraphics[width = 0.5\linewidth]{test.jpg} \\
                \includegraphics[width = 0.5\linewidth]{test.jpg}
            \end{minipage}
        }
        \caption{ä¸¤ä¸ªå­å›¾}
    \end{figure}

    ä½¿ç”¨minipageåŠ è‡ªå®šä¹‰æ ‡ç­¾åŒæ ·å¯ä»¥è¾¾åˆ°ä¸Šè¿°ç›®çš„ï¼Œè‡ªå®šä¹‰æ ‡ç­¾åŒæ ·ä¹Ÿå¯ä»¥è¾¾åˆ°è¡¨é¢ä¸Šå¹¶åˆ—ä¸¤ä¸ªåŒçº§å›¾ç‰‡çš„æ•ˆæœã€‚
    \begin{figure}[!htp]
        \begin{minipage}[t]{0.5\linewidth}%è®¾å®šå›¾ç‰‡ä¸‹å­—çš„å®½åº¦ï¼Œåœ¨æ­¤åŸºç¡€å°½é‡æ»¡è¶³å›¾ç‰‡çš„é•¿å®½
        \centering
        \includegraphics[width = 0.5\linewidth]{test.jpg}
        \caption*{(a) This is the left picure.}%åŠ *å¯ä»¥å»æ‰é»˜è®¤å‰ç¼€ï¼Œä½œä¸ºå›¾ç‰‡å•ç‹¬çš„è¯´æ˜
        \label{fig:side:a}
        \end{minipage}
        \begin{minipage}[t]{0.5\linewidth}%éœ€è¦å‡ å¼ æ·»åŠ å³å¯ï¼Œæ³¨æ„è®¾å®šåˆé€‚çš„linewidth
        \centering
        \includegraphics[width = 0.5\linewidth]{test.jpg}
        \caption*{(b)This is the right picture.}
        \label{fig:side:b}
        \end{minipage}
        \caption{ä¸¤ä¸ªå­å›¾}
    \end{figure}
    \end{document}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>