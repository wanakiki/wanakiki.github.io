<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Wanakiki">
  
  
  
  <link rel="prev" href="https://wanakiki.github.io/2019/shengsai-2019/" />
  <link rel="next" href="https://wanakiki.github.io/2019/latex-img/" />
  <link rel="canonical" href="https://wanakiki.github.io/2019/transport/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           æ•°æ®ç»“æ„ä½œä¸šä¸ƒ Transport | Wanakiki`s Blog
       
  </title>
  <meta name="title" content="æ•°æ®ç»“æ„ä½œä¸šä¸ƒ Transport | Wanakiki`s Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/wanakiki.github.io"
    },
    "articleSection" : "posts",
    "name" : "æ•°æ®ç»“æ„ä½œä¸šä¸ƒ Transport",
    "headline" : "æ•°æ®ç»“æ„ä½œä¸šä¸ƒ Transport",
    "description" : "æ¸…åOJå¹¿åº¦ä¼˜å…ˆæœç´¢é¢˜ç›®ã€‚ æè¿° æŸå¹¿æ’­å…¬å¸è¦åœ¨ä¸€ä¸ªåœ°åŒºæ¶è®¾æ— çº¿å¹¿æ’­å‘å°„è£…ç½®ã€‚è¯¥åœ°åŒºå…±æœ‰nä¸ªå°é•‡ï¼Œæ¯ä¸ªå°é•‡éƒ½è¦å®‰è£…ä¸€å°å‘å°„æœºå¹¶æ’­æ”¾å„è‡ªçš„èŠ‚ç›®ã€‚ ä¸",
    "inLanguage" : "zh-cn",
    "author" : "Wanakiki",
    "creator" : "Wanakiki",
    "publisher": "Wanakiki",
    "accountablePerson" : "Wanakiki",
    "copyrightHolder" : "Wanakiki",
    "copyrightYear" : "2019",
    "datePublished": "2019-05-17 09:47:43 \x2b0800 CST",
    "dateModified" : "2019-05-17 09:47:43 \x2b0800 CST",
    "url" : "https:\/\/wanakiki.github.io\/2019\/transport\/",
    "wordCount" : "2588",
    "keywords" : [  "Wanakiki`s Blog"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://wanakiki.github.io">Wanakiki`s Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://wanakiki.github.io">Wanakiki`s Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">æ•°æ®ç»“æ„ä½œä¸šä¸ƒ Transport</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://wanakiki.github.io" rel="author">Wanakiki</a> with â™¥ 
                <span class="post-time">
                on <time datetime=2019-05-17 itemprop="datePublished">May 17, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://wanakiki.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"> æ•°æ®ç»“æ„ </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<p>æ¸…åOJå¹¿åº¦ä¼˜å…ˆæœç´¢é¢˜ç›®ã€‚
<!-- more --></p>

<h2 id="æè¿°">æè¿°</h2>

<p>æŸå¹¿æ’­å…¬å¸è¦åœ¨ä¸€ä¸ªåœ°åŒºæ¶è®¾æ— çº¿å¹¿æ’­å‘å°„è£…ç½®ã€‚è¯¥åœ°åŒºå…±æœ‰nä¸ªå°é•‡ï¼Œæ¯ä¸ªå°é•‡éƒ½è¦å®‰è£…ä¸€å°å‘å°„æœºå¹¶æ’­æ”¾å„è‡ªçš„èŠ‚ç›®ã€‚</p>

<p>ä¸è¿‡ï¼Œè¯¥å…¬å¸åªè·å¾—äº†FM104.2å’ŒFM98.6ä¸¤ä¸ªæ³¢æ®µçš„æˆæƒï¼Œè€Œä½¿ç”¨åŒä¸€æ³¢æ®µçš„å‘å°„æœºä¼šäº’ç›¸å¹²æ‰°ã€‚å·²çŸ¥æ¯å°å‘å°„æœºçš„ä¿¡å·è¦†ç›–èŒƒå›´æ˜¯ä»¥å®ƒä¸ºåœ†å¿ƒï¼Œ20kmä¸ºåŠå¾„çš„åœ†å½¢åŒºåŸŸï¼Œå› æ­¤ï¼Œå¦‚æœè·ç¦»å°äº20kmçš„ä¸¤ä¸ªå°é•‡ä½¿ç”¨åŒæ ·çš„æ³¢æ®µï¼Œé‚£ä¹ˆå®ƒä»¬å°±ä¼šç”±äºæ³¢æ®µå¹²æ‰°è€Œæ— æ³•æ­£å¸¸æ”¶å¬èŠ‚ç›®ã€‚ç°åœ¨ç»™å‡ºè¿™äº›è·ç¦»å°äº20kmçš„å°é•‡åˆ—è¡¨ï¼Œè¯•åˆ¤æ–­è¯¥å…¬å¸èƒ½å¦ä½¿å¾—æ•´ä¸ªåœ°åŒºçš„å±…æ°‘æ­£å¸¸å¬åˆ°å¹¿æ’­èŠ‚ç›®ã€‚</p>

<h3 id="è¾“å…¥">è¾“å…¥</h3>

<p>ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°nï¼Œmï¼Œåˆ†åˆ«ä¸ºå°é•‡çš„ä¸ªæ•°ä»¥åŠæ¥ä¸‹æ¥å°äº20kmçš„å°é•‡å¯¹çš„æ•°ç›®ã€‚ æ¥ä¸‹æ¥çš„mè¡Œï¼Œæ¯è¡Œ2ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸¤ä¸ªå°é•‡çš„è·ç¦»å°äº20kmï¼ˆç¼–å·ä»1å¼€å§‹ï¼‰ã€‚</p>

<h3 id="è¾“å‡º">è¾“å‡º</h3>

<p>å¦‚æœèƒ½å¤Ÿæ»¡è¶³è¦æ±‚ï¼Œè¾“å‡º1ï¼Œå¦åˆ™è¾“å‡º-1ã€‚</p>

<pre><code class="language-no">è¾“å…¥æ ·ä¾‹
4 3
1 2
1 3
2 4

è¾“å‡ºæ ·ä¾‹
1
</code></pre>

<p>é™åˆ¶</p>

<p>1 â‰¤ n â‰¤ 10000</p>

<p>1 â‰¤ m â‰¤ 30000</p>

<p>ä¸éœ€è¦è€ƒè™‘ç»™å®šçš„20kmå°é•‡åˆ—è¡¨çš„ç©ºé—´ç‰¹æ€§ï¼Œæ¯”å¦‚æ˜¯å¦æ»¡è¶³ä¸‰è§’ä¸ç­‰å¼ï¼Œæ˜¯å¦åˆ©ç”¨ä¼ é€’æ€§å¯ä»¥æ¨å‡ºæ›´å¤šçš„ä¿¡æ¯ç­‰ç­‰ã€‚</p>

<p>æ—¶é—´ï¼š2 sec</p>

<p>ç©ºé—´ï¼š256MB</p>

<p>æç¤º
BFS</p>

<h2 id="é—®é¢˜åˆ†æ-è§£å†³æ–¹æ¡ˆ">é—®é¢˜åˆ†æ&amp;è§£å†³æ–¹æ¡ˆ</h2>

<p>é€šè¿‡è¯»é¢˜ä¸éš¾å‘ç°é¢˜ç›®çš„è¦ç‚¹æœ‰ä¸¤ä¸ªï¼šç¬¬ä¸€ï¼Œæ¯ä¸ªå°é•‡éƒ½éœ€è¦å®‰è£…ä¸€å°å‘å°„æœºï¼›ç¬¬äºŒï¼Œç›¸è·20kmä»¥å†…çš„å°é•‡ä¸èƒ½ä½¿ç”¨ç›¸åŒé¢‘ç‡çš„æ³¢æ®µã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯é€šè¿‡é¢˜ç›®ç»™å‡ºçš„è·ç¦»å°äº20kmçš„å°é•‡åˆ—è¡¨ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿä¿è¯æ¯ä¸ªå°é•‡éƒ½èƒ½æ­£å¸¸æ”¶å¬å¹¿æ’­ã€‚</p>

<p>å› ä¸ºç›¸äº’è·ç¦»å°äº20kmçš„å°é•‡ä¹‹é—´æ‰ä¼šå‘ç”Ÿå¹²æ‰°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è€ƒè™‘è¿™ä¸€éƒ¨åˆ†å°é•‡èƒ½å¦æ»¡è¶³æ¡ä»¶å³å¯è§£å†³é—®é¢˜ï¼Œè€Œé‚£äº›ç›¸éš”è¾ƒè¿œçš„å°é•‡åœ¨è¿™ä¸ªé¢˜ç›®ä¸­å¯¹æˆ‘ä»¬æ²¡æœ‰é€ æˆä»»ä½•å±å®³ã€‚</p>

<p>ç°åœ¨æˆ‘ä»¬è®¨è®ºè·ç¦»å°äº20kmçš„è¿™ä¸€éƒ¨åˆ†å°é•‡ï¼Œå‡è®¾è¿™ä¸€éƒ¨åˆ†å°é•‡é˜Ÿé›†åˆä¸ºMï¼ˆå¯ä»¥ç›´æ¥ç†è§£ä¸ºå›¾ï¼‰ã€‚é¢˜ç›®å·²ç»æ˜ç¡®æŒ‡å‡ºï¼Œåœ¨è·ç¦»å°äº20kmçš„å‰æä¸‹ï¼Œå¦‚ä¸¤ä¸ªå°é•‡æœ‰ç›¸åŒçš„æ³¢æ®µå°±ä¼šäº’ç›¸å¹²æ‰°ï¼Œæ‰€ä»¥å¯¹äºMä¸­ä»»æ„ä¸€ä¸ªå°é•‡é˜Ÿ(u,v)ï¼Œåœ¨uçš„é¢‘ç‡ç¡®å®šçš„æ¡ä»¶ä¸‹ï¼Œvçš„é¢‘ç‡ä¹Ÿéšä¹‹å›ºå®šã€‚</p>

<p>å› ä¸ºæˆ‘ä»¬å¯¹é¢‘ç‡æ²¡æœ‰æ›´å¤šçš„é™„åŠ æ¡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†FM104.2å’ŒFM98.6ä¸¤ä¸ªæ³¢æ®µç›´æ¥æŠ½è±¡ä¸ºä¸¤ä¸ªä¸åŒçš„æ ‡å¿—ï¼Œä½œä¸ºå°é•‡çš„ä¸€ä¸ªå±æ€§eleã€‚ä¹‹åæˆ‘ä»¬åœ¨Må†…ä»»æ„åˆå§‹åŒ–å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹çš„eleå±æ€§ï¼ˆåˆå§‹åŒ–çš„å€¼ä¹Ÿæ˜¯ä»»æ„çš„ï¼Œå› ä¸ºæŠ½è±¡åªæ˜¯ä¸ºäº†åŒºåˆ†ä¸¤ç§æƒ…å†µï¼‰ï¼ŒæŒ‰ç…§å°é•‡é˜Ÿé¢‘ç‡äº’æ–¥çš„è¦æ±‚æˆ‘ä»¬å°±å¯ä»¥æŠŠä¸ä¹‹è”é€šçš„æ‰€æœ‰å°é•‡çš„eleå±æ€§ç¡®å®šä¸‹æ¥ã€‚åªè¦è¿‡ç¨‹ä¸­ä¸å‡ºç°ç›¸äº’çŸ›ç›¾çš„ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æˆåŠŸå¸ƒç½®ã€‚</p>

<p>è€ƒè™‘åˆ°ç»™å‡ºçš„Må¯èƒ½æ˜¯åˆ†å—çš„ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œå®Œä¸€æ¬¡æ‰©å±•ä¹‹åç¨‹åºè¿˜éœ€è¦å¯¹å…¶ä»–èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­ã€‚è¿™æ ·å°±èƒ½å¤Ÿä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ã€‚</p>

<h2 id="ç®—æ³•è®¾è®¡">ç®—æ³•è®¾è®¡</h2>

<p>ç°åœ¨å›é¡¾ä¸€ä¸‹æˆ‘ä»¬éœ€è¦åšçš„æ“ä½œï¼šæŒ‰ç…§äº’æ–¥çš„è§„åˆ™ä»ä»»æ„ä¸€ç‚¹å±•å¼€ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿè”“å»¶åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚å› ä¸ºæ•°æ®æ˜¯æˆå¯¹è¾“å…¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°ç”¨å›¾æ¥ä¿å­˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è¿™ä¸ªé¢˜ç›®ä¸­æ‰€éœ€è¦çš„æ“ä½œå®è´¨ä¸Šå°±å˜æˆäº†ä¸€ä¸ªå›¾éå†çš„é—®é¢˜ï¼Œæ›´å‡†ç¡®æ¥è®²ï¼ŒBFSé—®é¢˜ï¼Œå› ä¸ºå¹¿åº¦ä¼˜å…ˆæ›´æœ‰åˆ©äºæå‰å‘ç°ä¸æ»¡è¶³äº’æ–¥æ¡ä»¶çš„ç‚¹ã€‚</p>

<p>æ‰€ä»¥å®ç°æ€è·¯ä¹Ÿå¾ˆæ˜ç¡®äº†ï¼šç”¨å›¾çš„å½¢å¼å°†è¾“å…¥æ•°æ®ä¿å­˜ä¸‹æ¥ï¼Œç„¶åé‡‡ç”¨BFSç­–ç•¥å¯¹å›¾è¿›è¡Œéå†ã€‚è€ƒè™‘åˆ°è¦é€šè¿‡eleå±æ€§åˆ¤æ–­æ˜¯å¦äº’æ–¥ï¼Œæ‰€ä»¥åœ¨å®šä¹‰å›¾çš„èŠ‚ç‚¹çš„æ—¶å€™è¦åŠ ä¸Šè¿™ä¸ªå±æ€§ï¼ŒBFSä¸­ä¹Ÿè¦æ ¹æ®å½“å‰ä¸€è½®æœç´¢çš„å‡ºå‘ç‚¹çš„å±æ€§è®¾ç½®ä¸ä¹‹ç›¸è¿çš„ç‚¹çš„å±æ€§ï¼Œæˆ–è€…åˆ¤æ–­å·²è®¿é—®çš„ç‚¹çš„å±æ€§æ˜¯å¦å’Œè¯¥è½®æœç´¢å‡ºå‘ç‚¹çš„å±æ€§æ˜¯å¦ç›¸åŒã€‚</p>

<p>å…³äºå›¾çš„å­˜å‚¨å½¢å¼ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯é‚»æ¥è¡¨ï¼Œé‡‡ç”¨é‚»æ¥çŸ©é˜µä¼šè€—è´¹è¾ƒå¤§çš„ç©ºé—´ã€‚å¦å¤–è¿˜è¦æ³¨æ„ï¼Œæœ¬é¢˜ä¸­çš„å›¾ä¸ºæ— å‘å›¾ã€‚è€Œeleå±æ€§çš„ä¸‰ç§æ ‡è®°å½¢å¼ï¼Œæˆ‘æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯å‰è€…ã€‚</p>

<ol>
<li>åˆå§‹çŠ¶æ€ä¸º0ï¼Œç›¸å¯¹ç«‹çš„ä¸¤ç§çŠ¶æ€ä¸º-1å’Œ1ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡å–ç›¸åæ•°çš„æ–¹æ³•æ›´æ–°ã€‚</li>
<li>åˆå§‹çŠ¶æ€ä¸º2ï¼Œç›¸å¯¹ç«‹çš„ä¸¤ç§çŠ¶æ€ä¸º0å’Œ1ï¼Œé€šè¿‡ï¼ˆx+1ï¼‰%2çš„æ–¹å¼è¿›è¡Œæ›´æ–°ã€‚</li>
</ol>

<p>å¦å¤–ä¸€ç‚¹ï¼Œæœ¬æ¬¡é¢˜ç›®å› ä¸ºè¦åœ¨æ¸…åOJä¸Šè¿›è¡Œæµ‹è¯•ï¼Œæ²¡æœ‰stlæ ‡å‡†åº“ï¼Œå¦‚æœè¦ç”¨åˆ°é˜Ÿåˆ—çš„è¯éœ€è¦è‡ªå·±å®ç°ã€‚æˆ‘é‡‡ç”¨äº†é“¾è¡¨å’Œæ•°ç»„æ¨¡æ‹Ÿä¸¤ç§æ–¹å¼å¯¹é˜Ÿåˆ—è¿›è¡Œäº†å®ç°ï¼Œå‡é€šè¿‡äº†æµ‹è¯•ï¼Œä»£ç å°†åœ¨ä¸‹é¢ç»™å‡ºã€‚å¦å¤–ä¹Ÿä¸€å¹¶é™„ä¸Šstlç‰ˆæœ¬ã€‚</p>

<h2 id="ç¼–ç¨‹å®ç°">ç¼–ç¨‹å®ç°</h2>

<h3 id="ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—">ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—</h3>

<pre><code class="language-cpp">#include &lt;iostream&gt;
//#include &lt;queue&gt;
using namespace std;

//é˜Ÿåˆ—èŠ‚ç‚¹
struct node_of_queue{
    int del;
    node_of_queue* next;
    node_of_queue(int v, node_of_queue* x = NULL):del(v),next(x){}
};

//é˜Ÿåˆ—ç±»
class myQueue{
public:
    node_of_queue* front;
    node_of_queue* back;
    myQueue():front(NULL),back(NULL){}
    int Front(){
        if(front)
            return (front-&gt;del);
        return 0;
    }
    void push(int x){
        node_of_queue* tmp = new node_of_queue(x);
        if(!front)
            front = tmp;
        if(!back)
            back = tmp;
        else{
            back-&gt;next = tmp;
            back = tmp;
        }
        return ;
    }
    bool empty(){
        return front == NULL;
    }
    void pop(){
        if(front){
            node_of_queue* tmp = front;
            front = front-&gt;next;
            if(!front)
                back = NULL;
            delete tmp;
        }
        return ;
    }
};

//å°é•‡èŠ‚ç‚¹
struct Node{
    int _id;
    Node* _next;
    Node(int id, Node* next = NULL):_id(id), _next(next){}
};

//å°é•‡é›†åˆ
struct Nodes{
    int _ele;
    Node* _next;
    Nodes():_ele(0), _next(NULL){}
    void insert(int id);
};

void Nodes::insert(int id){
    _next = new Node(id, _next);
    return ;
}

int main(){
    Nodes nodes[10005];
    myQueue myQ;
    int n, m;
    int v, u;
    cin &gt;&gt; n &gt;&gt; m;
    while(m--){
        cin &gt;&gt; v &gt;&gt; u;
        nodes[v].insert(u);
        nodes[u].insert(v); //æ— å‘å›¾éœ€è¦ä¸¤æ¬¡æ’å…¥
    }
    for(int cur = 1; cur &lt;= n; cur++){
        if(!nodes[cur]._ele){
            nodes[cur]._ele = 1;    //è¿›è¡Œæ ‡è®°
            myQ.push(cur);

            int tmp;
            while(!myQ.empty()){
                tmp = myQ.Front();
                myQ.pop();

                Node* cur_node = nodes[tmp]._next;
                while(cur_node){
                    if (nodes[cur_node-&gt;_id]._ele == nodes[tmp]._ele){
                        //å·²æ”¾ç½®åŒè‰²
                        cout &lt;&lt; -1 &lt;&lt; endl;
                        return 0;
                    }
                    if(!nodes[cur_node-&gt;_id]._ele){
                        //æœªæ”¾ç½®
                        nodes[cur_node-&gt;_id]._ele = -nodes[tmp]._ele;
                        myQ.push(cur_node-&gt;_id);    //åªå…¥é˜Ÿæ²¡è¢«è®¿é—®è¿‡çš„ç‚¹
                    }
                    cur_node = cur_node -&gt;_next;
                }
            }
        }
    }
    cout &lt;&lt; 1 &lt;&lt; endl;
    return 0;
}

</code></pre>

<h3 id="ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—">ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—</h3>

<pre><code class="language-cpp">#include &lt;iostream&gt;
//#include &lt;queue&gt;
using namespace std;
int myQ[10005], front, back;    //é˜Ÿåˆ—æ•°ç»„

struct Node{
    int _id;
    Node* _next;
    Node(int id, Node* next = NULL):_id(id), _next(next){}
};
struct Nodes{
    int _ele;
    Node* _next;
    Nodes():_ele(0), _next(NULL){}
    void insert(int id);
};

void Nodes::insert(int id){
    _next = new Node(id, _next);
    return ;
}

int main(){
    Nodes nodes[10005];
    //queue&lt;int&gt; myQ;
    int n, m;
    int v, u;
    cin &gt;&gt; n &gt;&gt; m;
    while(m--){
        cin &gt;&gt; v &gt;&gt; u;
        nodes[v].insert(u);
        nodes[u].insert(v);
    }
    for(int cur = 1; cur &lt;= n; cur++){
        if(!nodes[cur]._ele){
            nodes[cur]._ele = 1;    //è¿›è¡Œæ ‡è®°
            front = back = 0;
            myQ[back++] = cur;

            int tmp;
            while(front &lt; back){
                tmp = myQ[front++];

                Node* cur_node = nodes[tmp]._next;
                while(cur_node){
                    if(!nodes[cur_node-&gt;_id]._ele){
                        //æœªæ”¾ç½®
                        nodes[cur_node-&gt;_id]._ele = -nodes[tmp]._ele;
                        myQ[back++] = cur_node-&gt;_id;
                    }
                    else if (nodes[cur_node-&gt;_id]._ele == nodes[tmp]._ele){
                        //å·²æ”¾ç½®åŒè‰²
                        cout &lt;&lt; -1 &lt;&lt; endl;
                        return 0;
                    }
                    cur_node = cur_node -&gt;_next;
                }
            }
        }
    }
    cout &lt;&lt; 1 &lt;&lt; endl;
    return 0;
}
</code></pre>

<h3 id="stlæ ‡å‡†æ¨¡æ¿åº“">stlæ ‡å‡†æ¨¡æ¿åº“</h3>

<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;queue&gt;
using namespace std;

struct Node{
    int _id;
    Node* _next;
    Node(int id, Node* next = NULL):_id(id), _next(next){}
};
struct Nodes{
    int _ele;
    Node* _next;
    Nodes():_ele(2), _next(NULL){}
    void insert(int id);
};

void Nodes::insert(int id){
    _next = new Node(id, _next);
    return ;
}

int main(){
    Nodes nodes[100];
    queue&lt;int&gt; myQ;
    int n, m;
    int v, u;
    cin &gt;&gt; n &gt;&gt; m;
    while(m--){
        cin &gt;&gt; v &gt;&gt; u;
        nodes[v].insert(u);
        nodes[u].insert(v);
    }

    int s = 1;
    int cur = s;
    do
        if(nodes[cur]._ele == 2){
            nodes[cur]._ele = (nodes[cur]._ele+1)%2;    //è¿›è¡Œæ ‡è®°
            myQ.push(cur);

            int tmp = cur;
            while(!myQ.empty()){
                tmp = myQ.front();
                myQ.pop();

                Node* cur_node = nodes[tmp]._next;
                while(cur_node){
                    if(nodes[cur_node-&gt;_id]._ele == 2){
                        //æœªæ”¾ç½®
                        nodes[cur_node-&gt;_id]._ele = (nodes[tmp]._ele+1)%2;
                        myQ.push(cur_node-&gt;_id);
                    }
                    else if (nodes[cur_node-&gt;_id]._ele == nodes[tmp]._ele){
                        //ä»¥æ”¾ç½®åŒè‰²
                        cout &lt;&lt; -1 &lt;&lt; endl;
                        return 0;
                    }

                    cur_node = cur_node -&gt;_next;
                }
            }
        }
    while(s != (cur = (++cur%n)));
    cout &lt;&lt; 1 &lt;&lt; endl;
    return 0;
}
</code></pre>

<h2 id="ç»“æœåˆ†æ">ç»“æœåˆ†æ</h2>

<p>æœ€å¼€å§‹çš„ä»£ç ä½¿ç”¨çš„æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„queueï¼Œä½†æ˜¯æäº¤å‘ç°ä¸èƒ½ç¼–è¯‘ï¼Œäºæ˜¯è‡ªå·±æ‰‹å†™äº†ä¸€ä¸ªé˜Ÿåˆ—è¿›è¡Œæäº¤ï¼Œä½†æ˜¯åªé€šè¿‡äº†7ä¸ªæµ‹è¯•ã€‚ç¬¬ä¸€ååº”æ˜¯è‡ªå·±çš„é˜Ÿåˆ—å†™é”™äº†ï¼Œä½†ç»è¿‡å¤šç»„æ•°æ®æµ‹è¯•ä¹‹åå‘ç°æ˜¯BFSè¿‡ç¨‹ä¸­å¯¹å·²ç»è®¿é—®è¿‡çš„ç‚¹è¿›è¡Œäº†å…¥é˜Ÿæ“ä½œã€‚æ”¹æ­£ä¹‹åæˆåŠŸæäº¤ã€‚ä¹‹åé¡ºä¾¿å†™äº†ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—çš„ä»£ç ï¼Œä¹ŸæˆåŠŸé€šè¿‡ã€‚</p>

<h2 id="æ€»ç»“ä½“ä¼š">æ€»ç»“ä½“ä¼š</h2>

<p>å®ç°é‚»æ¥è¡¨çš„æ—¶å€™å‘ç°è‡ªå·±å¯¹å›¾çš„æŒæ¡ç¨‹åº¦ç›¸å¯¹è¾ƒä½ï¼Œæ•´ä¸ªé€»è¾‘æƒ³äº†ä¸€ä¼šæ‰èƒ½ç”¨ä»£ç å†™å‡ºæ¥ã€‚è¿™ä¸ªç¨‹åºä¸€å¼€å§‹ä¿å­˜å›¾çš„æ—¶å€™è¿˜ä¿å­˜æˆäº†æœ‰å‘å›¾&hellip;</p>

<p>BFSæœç´¢ç­–ç•¥ä¹Ÿæ˜¯æœ€è¿‘æ‰æ¥è§¦ï¼Œæœ¬ä»¥ä¸ºä¸Šè¯¾çš„æ—¶å€™å·²ç»ç†è§£ï¼Œä½†è‡ªå·±çš„ä»£ç å†™å‡ºæ¥å°±æœ‰ä¸€äº›æ¼æ´ï¼Œè¿™ä¸æ˜¯ç»†èŠ‚å¤„ç†ä¸åˆ°ä½ï¼Œè€Œæ˜¯å¯¹è¿™ä¸ªæ¦‚å¿µç†è§£çš„è¿˜ä¸å¤Ÿæ¸…æ™°ï¼Œä¸ç„¶æ€ä¹ˆå†™éƒ½ä¸ä¼šå†™é”™ï¼Œå³ä½¿å†™é”™äº†ä¹Ÿèƒ½å¾ˆå¿«æ‰¾å‡ºæ¥ã€‚</p>

<p>ç®—æ³•ä¸èƒ½åªåœåœ¨çº¸é¢ä¸Šï¼Œè¿˜è¦è½å®åˆ°ä»£ç ä¸­ã€‚ç»è¿‡äº†è¿™æ¬¡ç¼–ç¨‹ä»»åŠ¡ï¼Œæˆ‘è§‰å¾—æˆ‘å¯¹å›¾ã€å›¾æœç´¢ç›¸å…³çŸ¥è¯†çš„ç†è§£åˆåŠ æ·±äº†ä¸€äº›ã€‚ï¼ˆè‡³å°‘BFSè®°çš„æ›´æ¸…æ¥šäº†ğŸ™ƒ</p>

<p>å¦å¤–æ„Ÿè§‰è¿™æ¬¡å†™çš„ä»£ç å¯è¯»æ€§ä¸æ˜¯å¾ˆé«˜ğŸ“Œ</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Wanakiki </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://wanakiki.github.io/2019/transport/>https://wanakiki.github.io/2019/transport/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://wanakiki.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://wanakiki.github.io/2019/shengsai-2019/" class="prev" rel="prev" title="2019å¹´å±±ä¸œçœçœèµ›å›é¡¾"><i class="iconfont icon-left"></i>&nbsp;2019å¹´å±±ä¸œçœçœèµ›å›é¡¾</a>
         
        
        <a href="https://wanakiki.github.io/2019/latex-img/" class="next" rel="next" title="Latex æ’å…¥å›¾ç‰‡æ–¹å¼æ•´ç†">Latex æ’å…¥å›¾ç‰‡æ–¹å¼æ•´ç†&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://wanakiki.github.io">Wanakiki</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
